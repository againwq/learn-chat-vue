{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/web.dom-exception.stack.js\");\n\nrequire(\"core-js/modules/es.typed-array.at.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last-index.js\");\n\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : e.Chatkit = t();\n}(this, function () {\n  \"use strict\";\n\n  \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self && self;\n  var e,\n      t,\n      n = (function (e, t) {\n    var n;\n    \"undefined\" != typeof self && self, n = function () {\n      return function (e) {\n        var t = {};\n\n        function n(r) {\n          if (t[r]) return t[r].exports;\n          var o = t[r] = {\n            i: r,\n            l: !1,\n            exports: {}\n          };\n          return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n        }\n\n        return n.m = e, n.c = t, n.d = function (e, t, r) {\n          n.o(e, t) || Object.defineProperty(e, t, {\n            configurable: !1,\n            enumerable: !0,\n            get: r\n          });\n        }, n.n = function (e) {\n          var t = e && e.__esModule ? function () {\n            return e.default;\n          } : function () {\n            return e;\n          };\n          return n.d(t, \"a\", t), t;\n        }, n.o = function (e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        }, n.p = \"\", n(n.s = 10);\n      }([function (e, t, n) {\n        function r(e) {\n          var t = {};\n          if (!e) return t;\n\n          for (var n = 0, r = e.split(\"\\r\\n\"); n < r.length; n++) {\n            var o = r[n],\n                i = o.indexOf(\": \");\n\n            if (i > 0) {\n              var s = o.substring(0, i),\n                  a = o.substring(i + 2);\n              t[s] = a;\n            }\n          }\n\n          return t;\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.responseToHeadersObject = r;\n\n        var o = function () {\n          function e(e, t, n) {\n            this.statusCode = e, this.headers = t, this.info = n;\n          }\n\n          return e.fromXHR = function (t) {\n            var n = t.responseText;\n\n            try {\n              n = JSON.parse(t.responseText);\n            } catch (e) {}\n\n            return new e(t.status, r(t.getAllResponseHeaders()), n);\n          }, e;\n        }();\n\n        t.ErrorResponse = o;\n\n        var i = function () {\n          return function (e) {\n            this.error = e;\n          };\n        }();\n\n        t.NetworkError = i;\n\n        var s = function () {\n          return function (e) {\n            this.error = e;\n          };\n        }();\n\n        t.ProtocolError = s, function (e) {\n          e[e.UNSENT = 0] = \"UNSENT\", e[e.OPENED = 1] = \"OPENED\", e[e.HEADERS_RECEIVED = 2] = \"HEADERS_RECEIVED\", e[e.LOADING = 3] = \"LOADING\", e[e.DONE = 4] = \"DONE\";\n        }(t.XhrReadyState || (t.XhrReadyState = {}));\n      }, function (e, t, n) {\n        var r;\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), function (e) {\n          e[e.VERBOSE = 1] = \"VERBOSE\", e[e.DEBUG = 2] = \"DEBUG\", e[e.INFO = 3] = \"INFO\", e[e.WARNING = 4] = \"WARNING\", e[e.ERROR = 5] = \"ERROR\";\n        }(r = t.LogLevel || (t.LogLevel = {}));\n\n        var o = function () {\n          function e(e) {\n            void 0 === e && (e = 2), this.threshold = e;\n            var t = Array(),\n                n = \"--------------------------------------------------------------------------------\";\n            window.console.group || (window.console.group = function (e) {\n              t.push(e), window.console.log(\"%c \\nBEGIN GROUP: %c\", n, e);\n            }), window.console.groupEnd || (window.console.groupEnd = function () {\n              window.console.log(\"END GROUP: %c\\n%c\", t.pop(), n);\n            });\n          }\n\n          return e.prototype.verbose = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this.log(window.console.log, r.VERBOSE, e);\n          }, e.prototype.debug = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this.log(window.console.log, r.DEBUG, e);\n          }, e.prototype.info = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this.log(window.console.info, r.INFO, e);\n          }, e.prototype.warn = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this.log(window.console.warn, r.WARNING, e);\n          }, e.prototype.error = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this.log(window.console.error, r.ERROR, e);\n          }, e.prototype.log = function (e, t, n) {\n            var o = this;\n\n            if (t >= this.threshold) {\n              var i = \"Logger.\" + r[t];\n              n.length > 1 ? (window.console.group(), n.forEach(function (t) {\n                o.errorAwareLog(e, t, i);\n              }), window.console.groupEnd()) : this.errorAwareLog(e, n[0], i);\n            }\n          }, e.prototype.errorAwareLog = function (e, t, n) {\n            if (null != t && t.info && t.info.error_uri) {\n              var r = t.info.error_description;\n              e((r || \"An error has occurred\") + \". More information can be found at \" + t.info.error_uri + \". Error object: \", t);\n            } else e(n + \": \", t);\n          }, e;\n        }();\n\n        t.ConsoleLogger = o;\n\n        var i = function () {\n          function e() {}\n\n          return e.prototype.verbose = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n          }, e.prototype.debug = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n          }, e.prototype.info = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n          }, e.prototype.warn = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n          }, e.prototype.error = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n          }, e;\n        }();\n\n        t.EmptyLogger = i;\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(0);\n\n        t.createRetryStrategyOptionsOrDefault = function (e) {\n          var t = e.initialTimeoutMillis || 1e3,\n              n = e.maxTimeoutMillis || 5e3,\n              r = -1;\n          return void 0 !== e.limit && null != e.limit && (r = e.limit), {\n            increaseTimeout: void 0 !== e.increaseTimeout ? e.increaseTimeout : function (e) {\n              return 2 * e > n ? n : 2 * e;\n            },\n            initialTimeoutMillis: t,\n            limit: r,\n            maxTimeoutMillis: n\n          };\n        };\n\n        var o = function () {\n          return function (e) {\n            this.waitTimeMillis = e;\n          };\n        }();\n\n        t.Retry = o;\n\n        var i = function () {\n          return function (e) {\n            this.error = e;\n          };\n        }();\n\n        t.DoNotRetry = i;\n\n        var s = function () {\n          function e(e, t, n) {\n            this.options = e, this.logger = t, this.retryUnsafeRequests = n, this.currentRetryCount = 0, this.initialTimeoutMillis = e.initialTimeoutMillis, this.maxTimeoutMillis = e.maxTimeoutMillis, this.limit = e.limit, this.increaseTimeoutFunction = e.increaseTimeout, this.currentBackoffMillis = this.initialTimeoutMillis;\n          }\n\n          return e.prototype.attemptRetry = function (e) {\n            if (this.logger.verbose(this.constructor.name + \": Error received\", e), this.currentRetryCount >= this.limit && this.limit >= 0) return this.logger.verbose(this.constructor.name + \": Retry count is over the maximum limit: \" + this.limit), new i(e);\n            if (null == e) return new o(this.calculateMillisToRetry());\n            if (e instanceof r.ErrorResponse && e.headers[\"Retry-After\"]) return this.logger.verbose(this.constructor.name + \": Retry-After header is present, retrying in \" + e.headers[\"Retry-After\"]), new o(1e3 * parseInt(e.headers[\"Retry-After\"], 10));\n            if (this.retryUnsafeRequests) return new o(this.calculateMillisToRetry());\n\n            switch (e.constructor) {\n              case r.ErrorResponse:\n                var t = e.statusCode,\n                    n = e.headers[\"Request-Method\"];\n                return t >= 500 && t < 600 && (\"GET\" === (s = (s = n).toUpperCase()) || \"HEAD\" === s || \"OPTIONS\" === s || \"SUBSCRIBE\" === s) ? (this.logger.verbose(this.constructor.name + \": Encountered an error with status code \" + t + \" and request method \" + n + \", will retry\"), new o(this.calculateMillisToRetry())) : (this.logger.verbose(this.constructor.name + \": Encountered an error with status code \" + t + \" and request method \" + n + \", will not retry\", e), new i(e));\n\n              case r.NetworkError:\n                return this.logger.verbose(this.constructor.name + \": Encountered a network error, will retry\", e), new o(this.calculateMillisToRetry());\n\n              case r.ProtocolError:\n                return this.logger.verbose(this.constructor.name + \": Encountered a protocol error, will retry\", e), new o(this.calculateMillisToRetry());\n\n              default:\n                return this.logger.verbose(this.constructor.name + \": Encountered an error, will retry\", e), new o(this.calculateMillisToRetry());\n            }\n\n            var s;\n          }, e.prototype.calculateMillisToRetry = function () {\n            return this.currentBackoffMillis = this.increaseTimeoutFunction(this.currentBackoffMillis), this.logger.verbose(this.constructor.name + \": Retrying in \" + this.currentBackoffMillis + \"ms\"), this.currentBackoffMillis;\n          }, e;\n        }();\n\n        t.RetryResolution = s;\n      }, function (e, t, n) {\n        var r = this && this.__assign || Object.assign || function (e) {\n          for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n\n          return e;\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var o = n(1),\n            i = n(4),\n            s = n(5),\n            a = n(6),\n            u = n(11),\n            c = n(12),\n            h = n(7),\n            l = n(13),\n            d = n(14),\n            f = n(8),\n            p = function () {\n          function e(e) {\n            this.options = e, this.host = e.host.replace(/(\\/)+$/, \"\");\n            var t = e.logger || new o.ConsoleLogger();\n            this.logger = t, this.websocketTransport = new d.default(this.host, t), this.httpTransport = new l.default(this.host, e.encrypted), this.sdkProduct = e.sdkProduct || \"unknown\", this.sdkVersion = e.sdkVersion || \"unknown\", this.sdkLanguage = e.sdkLanguage || \"javascript\", this.sdkPlatform = navigator ? \"ReactNative\" === navigator.product ? \"react-native\" : \"web\" : \"node\";\n          }\n\n          return e.prototype.request = function (e, t) {\n            var n = this;\n            return e.tokenProvider ? e.tokenProvider.fetchToken(t).then(function (t) {\n              var n;\n              return void 0 !== e.headers ? e.headers.Authorization = \"Bearer \" + t : e.headers = ((n = {}).Authorization = \"Bearer \" + t, n), e;\n            }).then(function (e) {\n              return n.makeRequest(e);\n            }) : this.makeRequest(e);\n          }, e.prototype.subscribeResuming = function (e, t, n, o, i, a) {\n            var l = c.replaceMissingListenersWithNoOps(n),\n                d = u.subscribeStrategyListenersFromSubscriptionListeners(l),\n                p = !1;\n            return s.createResumingStrategy(o, h.createTokenProvidingStrategy(f.createTransportStrategy(e, this.websocketTransport, this.logger), this.logger, a), this.logger, i)({\n              onEnd: d.onEnd,\n              onError: d.onError,\n              onEvent: d.onEvent,\n              onOpen: function (e) {\n                p || (p = !0, d.onOpen(e)), l.onSubscribe();\n              },\n              onRetrying: d.onRetrying\n            }, r({}, t, this.infoHeaders()));\n          }, e.prototype.subscribeNonResuming = function (e, t, n, o, i) {\n            var s = c.replaceMissingListenersWithNoOps(n),\n                l = u.subscribeStrategyListenersFromSubscriptionListeners(s),\n                d = !1;\n            return a.createRetryingStrategy(o, h.createTokenProvidingStrategy(f.createTransportStrategy(e, this.websocketTransport, this.logger), this.logger, i), this.logger)({\n              onEnd: l.onEnd,\n              onError: l.onError,\n              onEvent: l.onEvent,\n              onOpen: function (e) {\n                d || (d = !0, l.onOpen(e)), s.onSubscribe();\n              },\n              onRetrying: l.onRetrying\n            }, r({}, t, this.infoHeaders()));\n          }, e.prototype.infoHeaders = function () {\n            return {\n              \"X-SDK-Language\": this.sdkLanguage,\n              \"X-SDK-Platform\": this.sdkPlatform,\n              \"X-SDK-Product\": this.sdkProduct,\n              \"X-SDK-Version\": this.sdkVersion\n            };\n          }, e.prototype.makeRequest = function (e) {\n            var t = this;\n            return i.executeNetworkRequest(function () {\n              return t.httpTransport.request(r({}, e, {\n                headers: r({}, e.headers, t.infoHeaders())\n              }));\n            }, e).catch(function (e) {\n              throw t.logger.error(e), e;\n            });\n          }, e;\n        }();\n\n        t.BaseClient = p;\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(0);\n\n        function o(e, t, n) {\n          return e.onreadystatechange = function () {\n            4 === e.readyState && (e.status >= 200 && e.status < 300 ? t(e.response) : 0 !== e.status ? n(r.ErrorResponse.fromXHR(e)) : n(new r.NetworkError(\"No Connection\")));\n          }, e;\n        }\n\n        t.executeNetworkRequest = function (e, t) {\n          return new Promise(function (n, r) {\n            !function (e, t) {\n              t.json ? e.send(JSON.stringify(t.json)) : e.send(t.body);\n            }(o(e(), n, r), t);\n          });\n        }, t.sendRawRequest = function (e) {\n          return new Promise(function (t, n) {\n            var r = o(new window.XMLHttpRequest(), t, n);\n            if (r.withCredentials = Boolean(e.withCredentials), r.open(e.method.toUpperCase(), e.url, !0), e.headers) for (var i in e.headers) e.headers.hasOwnProperty(i) && r.setRequestHeader(i, e.headers[i]);\n            r.send(e.body);\n          });\n        };\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(0),\n            o = n(2);\n\n        t.createResumingStrategy = function (e, t, n, r) {\n          var s = o.createRetryStrategyOptionsOrDefault(e),\n              a = new o.RetryResolution(s, n);\n          return function (e, r) {\n            return new i(n, r, t, e, a);\n          };\n        };\n\n        var i = function () {\n          return function (e, t, n, r, o) {\n            var i = this;\n            this.unsubscribe = function () {\n              i.state.unsubscribe();\n            }, this.onTransition = function (e) {\n              i.state = e;\n            }, this.state = new s(this.onTransition, e, t, n, r, o);\n          };\n        }(),\n            s = function () {\n          function e(e, t, n, r, o, i, s) {\n            var c = this;\n            this.onTransition = e, this.logger = t, this.headers = n, this.nextSubscribeStrategy = r, this.listeners = o, this.retryResolution = i, this.initialEventId = s;\n            var l = s;\n            t.verbose(\"ResumingSubscription: transitioning to OpeningSubscriptionState\"), l && (n[\"Last-Event-Id\"] = l, t.verbose(\"ResumingSubscription: initialEventId is \" + l)), this.underlyingSubscription = r({\n              onEnd: function (n) {\n                e(new h(t, o, n));\n              },\n              onError: function (s) {\n                e(new u(s, e, t, n, o, r, i, l));\n              },\n              onEvent: function (e) {\n                l = e.eventId, o.onEvent(e);\n              },\n              onOpen: function (n) {\n                e(new a(t, n, o, c.underlyingSubscription, e));\n              },\n              onRetrying: o.onRetrying\n            }, n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.onTransition(new c(this.logger)), null != this.underlyingSubscription && this.underlyingSubscription.unsubscribe();\n          }, e;\n        }(),\n            a = function () {\n          function e(e, t, n, r, o) {\n            this.logger = e, this.headers = t, this.listeners = n, this.underlyingSubscription = r, this.onTransition = o, e.verbose(\"ResumingSubscription: transitioning to OpenSubscriptionState\"), n.onOpen(t);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.onTransition(new c(this.logger)), this.underlyingSubscription.unsubscribe();\n          }, e;\n        }(),\n            u = function () {\n          function e(e, t, n, i, s, u, c, d) {\n            var f = this;\n            this.onTransition = t, this.logger = n, this.headers = i, this.listeners = s, this.nextSubscribeStrategy = u, this.retryResolution = c, this.timeout = -1, n.verbose(\"ResumingSubscription: transitioning to ResumingSubscriptionState\");\n\n            var p = function (e, i) {\n              s.onRetrying();\n              var a,\n                  u = ((a = e) instanceof r.ErrorResponse && (a.headers[\"Request-Method\"] = \"SUBSCRIBE\"), c.attemptRetry(a));\n              u instanceof o.Retry ? f.timeout = window.setTimeout(function () {\n                g(i);\n              }, u.waitTimeMillis) : t(new l(n, s, e));\n            },\n                g = function (e) {\n              n.verbose(\"ResumingSubscription: trying to re-establish the subscription\"), e && (n.verbose(\"ResumingSubscription: lastEventId: \" + e), i[\"Last-Event-Id\"] = e), f.underlyingSubscription = u({\n                onEnd: function (e) {\n                  t(new h(n, s, e));\n                },\n                onError: function (e) {\n                  p(e, d);\n                },\n                onEvent: function (e) {\n                  d = e.eventId, s.onEvent(e);\n                },\n                onOpen: function (e) {\n                  t(new a(n, e, s, f.underlyingSubscription, t));\n                },\n                onRetrying: s.onRetrying\n              }, i);\n            };\n\n            p(e, d);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.onTransition(new c(this.logger)), window.clearTimeout(this.timeout), null != this.underlyingSubscription && this.underlyingSubscription.unsubscribe();\n          }, e;\n        }(),\n            c = function () {\n          function e(e, t) {\n            this.logger = e, e.verbose(\"ResumingSubscription: transitioning to EndingSubscriptionState\");\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw new Error(\"Subscription is already ending\");\n          }, e;\n        }(),\n            h = function () {\n          function e(e, t, n) {\n            this.logger = e, this.listeners = t, e.verbose(\"ResumingSubscription: transitioning to EndedSubscriptionState\"), t.onEnd(n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw new Error(\"Subscription has already ended\");\n          }, e;\n        }(),\n            l = function () {\n          function e(e, t, n) {\n            this.logger = e, this.listeners = t, e.verbose(\"ResumingSubscription: transitioning to FailedSubscriptionState\", n), t.onError(n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw new Error(\"Subscription has already ended\");\n          }, e;\n        }();\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(0),\n            o = n(2);\n\n        t.createRetryingStrategy = function (e, t, n) {\n          var r = o.createRetryStrategyOptionsOrDefault(e),\n              s = new o.RetryResolution(r, n);\n          return function (e, r) {\n            return new i(n, r, e, t, s);\n          };\n        };\n\n        var i = function () {\n          return function (e, t, n, r, o) {\n            var i = this;\n            this.unsubscribe = function () {\n              i.state.unsubscribe();\n            }, this.onTransition = function (e) {\n              i.state = e;\n            }, this.state = new s(this.onTransition, e, t, n, r, o);\n          };\n        }(),\n            s = function () {\n          function e(e, t, n, r, o, i) {\n            var s = this;\n            this.logger = t, this.headers = n, this.listeners = r, this.nextSubscribeStrategy = o, this.retryResolution = i, t.verbose(\"RetryingSubscription: transitioning to OpeningSubscriptionState\"), this.underlyingSubscription = o({\n              onEnd: function (n) {\n                return e(new c(t, r, n));\n              },\n              onError: function (s) {\n                return e(new a(s, e, t, n, r, o, i));\n              },\n              onEvent: r.onEvent,\n              onOpen: function (n) {\n                return e(new u(t, r, n, s.underlyingSubscription, e));\n              },\n              onRetrying: r.onRetrying\n            }, n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw this.underlyingSubscription.unsubscribe(), new Error(\"Method not implemented.\");\n          }, e;\n        }(),\n            a = function () {\n          function e(e, t, n, i, s, a, l) {\n            var d = this;\n            this.onTransition = t, this.logger = n, this.headers = i, this.listeners = s, this.nextSubscribeStrategy = a, this.retryResolution = l, this.timeout = -1, n.verbose(\"RetryingSubscription: transitioning to RetryingSubscriptionState\");\n\n            var f = function (e) {\n              s.onRetrying();\n              var i,\n                  a = ((i = e) instanceof r.ErrorResponse && (i.headers[\"Request-Method\"] = \"SUBSCRIBE\"), l.attemptRetry(i));\n              a instanceof o.Retry ? d.timeout = window.setTimeout(function () {\n                p();\n              }, a.waitTimeMillis) : t(new h(n, s, e));\n            },\n                p = function () {\n              n.verbose(\"RetryingSubscription: trying to re-establish the subscription\");\n              var e = a({\n                onEnd: function (e) {\n                  return t(new c(n, s, e));\n                },\n                onError: function (e) {\n                  return f(e);\n                },\n                onEvent: s.onEvent,\n                onOpen: function (r) {\n                  t(new u(n, s, r, e, t));\n                },\n                onRetrying: s.onRetrying\n              }, i);\n            };\n\n            f(e);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            window.clearTimeout(this.timeout), this.onTransition(new c(this.logger, this.listeners));\n          }, e;\n        }(),\n            u = function () {\n          function e(e, t, n, r, o) {\n            this.logger = e, this.listeners = t, this.headers = n, this.underlyingSubscription = r, this.onTransition = o, e.verbose(\"RetryingSubscription: transitioning to OpenSubscriptionState\"), t.onOpen(n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.underlyingSubscription.unsubscribe(), this.onTransition(new c(this.logger, this.listeners));\n          }, e;\n        }(),\n            c = function () {\n          function e(e, t, n) {\n            this.logger = e, this.listeners = t, e.verbose(\"RetryingSubscription: transitioning to EndedSubscriptionState\"), t.onEnd(n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw new Error(\"Subscription has already ended\");\n          }, e;\n        }(),\n            h = function () {\n          function e(e, t, n) {\n            this.logger = e, this.listeners = t, e.verbose(\"RetryingSubscription: transitioning to FailedSubscriptionState\", n), t.onError(n);\n          }\n\n          return e.prototype.unsubscribe = function () {\n            throw new Error(\"Subscription has already ended\");\n          }, e;\n        }();\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(0);\n\n        t.createTokenProvidingStrategy = function (e, t, n) {\n          return n ? function (r, i) {\n            return new o(t, r, i, n, e);\n          } : e;\n        };\n\n        var o = function () {\n          function e(e, t, n, r, o) {\n            var a = this;\n            this.logger = e, this.listeners = t, this.headers = n, this.tokenProvider = r, this.nextSubscribeStrategy = o, this.unsubscribe = function () {\n              a.state.unsubscribe(), a.state = new s(a.logger);\n            }, this.state = new i(e, n, o), this.subscribe();\n          }\n\n          return e.prototype.subscribe = function () {\n            var e = this;\n            this.tokenProvider.fetchToken().then(function (t) {\n              var n = Object.assign({}, e.listeners);\n              e.state.subscribe(t, {\n                onEnd: function (t) {\n                  e.state = new s(e.logger), n.onEnd(t);\n                },\n                onError: function (r) {\n                  e.isTokenExpiredError(r) ? (e.tokenProvider.clearToken(t), e.subscribe()) : (e.state = new s(e.logger), n.onError(r));\n                },\n                onEvent: e.listeners.onEvent,\n                onOpen: e.listeners.onOpen\n              });\n            }).catch(function (t) {\n              e.logger.debug(\"TokenProvidingSubscription: error when fetching token:\", t), e.state = new s(e.logger), e.listeners.onError(t);\n            });\n          }, e.prototype.isTokenExpiredError = function (e) {\n            return e instanceof r.ErrorResponse && 401 === e.statusCode && \"authentication/expired\" === e.info;\n          }, e;\n        }(),\n            i = function () {\n          function e(e, t, n) {\n            this.logger = e, this.headers = t, this.nextSubscribeStrategy = n, e.verbose(\"TokenProvidingSubscription: transitioning to ActiveState\");\n          }\n\n          return e.prototype.subscribe = function (e, t) {\n            var n = this;\n            this.putTokenIntoHeader(e), this.underlyingSubscription = this.nextSubscribeStrategy({\n              onEnd: function (e) {\n                n.logger.verbose(\"TokenProvidingSubscription: subscription ended\"), t.onEnd(e);\n              },\n              onError: function (e) {\n                n.logger.verbose(\"TokenProvidingSubscription: subscription errored:\", e), t.onError(e);\n              },\n              onEvent: t.onEvent,\n              onOpen: function (e) {\n                n.logger.verbose(\"TokenProvidingSubscription: subscription opened\"), t.onOpen(e);\n              },\n              onRetrying: t.onRetrying\n            }, this.headers);\n          }, e.prototype.unsubscribe = function () {\n            null != this.underlyingSubscription && this.underlyingSubscription.unsubscribe();\n          }, e.prototype.putTokenIntoHeader = function (e) {\n            this.headers.Authorization = \"Bearer \" + e, this.logger.verbose(\"TokenProvidingSubscription: token fetched: \" + e);\n          }, e;\n        }(),\n            s = function () {\n          function e(e) {\n            this.logger = e, e.verbose(\"TokenProvidingSubscription: transitioning to InactiveState\");\n          }\n\n          return e.prototype.subscribe = function (e, t) {\n            this.logger.verbose(\"TokenProvidingSubscription: subscribe called in Inactive state; doing nothing\");\n          }, e.prototype.unsubscribe = function () {\n            this.logger.verbose(\"TokenProvidingSubscription: unsubscribe called in Inactive state; doing nothing\");\n          }, e;\n        }();\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.createTransportStrategy = function (e, t, n) {\n          return function (n, r) {\n            return t.subscribe(e, n, r);\n          };\n        };\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.HOST_BASE = \"pusherplatform.io\";\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r = n(3);\n        t.BaseClient = r.BaseClient;\n        var o = n(9);\n        t.HOST_BASE = o.HOST_BASE;\n        var i = n(15);\n        t.Instance = i.default;\n        var s = n(1);\n        t.ConsoleLogger = s.ConsoleLogger, t.EmptyLogger = s.EmptyLogger;\n        var a = n(0);\n        t.ErrorResponse = a.ErrorResponse, t.NetworkError = a.NetworkError, t.responseToHeadersObject = a.responseToHeadersObject, t.XhrReadyState = a.XhrReadyState;\n        var u = n(4);\n        t.executeNetworkRequest = u.executeNetworkRequest, t.sendRawRequest = u.sendRawRequest;\n        var c = n(5);\n        t.createResumingStrategy = c.createResumingStrategy;\n        var h = n(2);\n        t.createRetryStrategyOptionsOrDefault = h.createRetryStrategyOptionsOrDefault, t.DoNotRetry = h.DoNotRetry, t.Retry = h.Retry, t.RetryResolution = h.RetryResolution;\n        var l = n(6);\n        t.createRetryingStrategy = l.createRetryingStrategy;\n        var d = n(7);\n        t.createTokenProvidingStrategy = d.createTokenProvidingStrategy;\n        var f = n(8);\n        t.createTransportStrategy = f.createTransportStrategy, t.default = {\n          BaseClient: r.BaseClient,\n          ConsoleLogger: s.ConsoleLogger,\n          EmptyLogger: s.EmptyLogger,\n          Instance: i.default\n        };\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.subscribeStrategyListenersFromSubscriptionListeners = function (e) {\n          return {\n            onEnd: e.onEnd,\n            onError: e.onError,\n            onEvent: e.onEvent,\n            onOpen: e.onOpen,\n            onRetrying: e.onRetrying\n          };\n        };\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.replaceMissingListenersWithNoOps = function (e) {\n          return {\n            onEnd: e.onEnd || function (e) {},\n            onError: e.onError || function (e) {},\n            onEvent: e.onEvent || function (e) {},\n            onOpen: e.onOpen || function (e) {},\n            onRetrying: e.onRetrying || function () {},\n            onSubscribe: e.onSubscribe || function () {}\n          };\n        };\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var r,\n            o = n(0);\n        !function (e) {\n          e[e.UNOPENED = 0] = \"UNOPENED\", e[e.OPENING = 1] = \"OPENING\", e[e.OPEN = 2] = \"OPEN\", e[e.ENDING = 3] = \"ENDING\", e[e.ENDED = 4] = \"ENDED\";\n        }(r = t.HttpTransportState || (t.HttpTransportState = {}));\n\n        var i = function () {\n          function e(e, t) {\n            var n = this;\n            return this.gotEOS = !1, this.lastNewlineIndex = 0, this.state = r.UNOPENED, this.xhr = e, this.listeners = t, this.xhr.onreadystatechange = function () {\n              switch (n.xhr.readyState) {\n                case o.XhrReadyState.UNSENT:\n                case o.XhrReadyState.OPENED:\n                case o.XhrReadyState.HEADERS_RECEIVED:\n                  n.assertStateIsIn(r.OPENING);\n                  break;\n\n                case o.XhrReadyState.LOADING:\n                  n.onLoading();\n                  break;\n\n                case o.XhrReadyState.DONE:\n                  n.onDone();\n              }\n            }, this.state = r.OPENING, this.xhr.send(), this;\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.state = r.ENDED, this.xhr.abort(), this.listeners.onEnd && this.listeners.onEnd(null);\n          }, e.prototype.onLoading = function () {\n            if (this.assertStateIsIn(r.OPENING, r.OPEN, r.ENDING), 200 === this.xhr.status) {\n              this.state === r.OPENING && (this.state = r.OPEN, this.listeners.onOpen && this.listeners.onOpen(o.responseToHeadersObject(this.xhr.getAllResponseHeaders()))), this.assertStateIsIn(r.OPEN);\n              var e = this.onChunk();\n              this.assertStateIsIn(r.OPEN, r.ENDING), e && (this.state = r.ENDED, e instanceof o.ErrorResponse && 204 !== e.statusCode && this.listeners.onError && this.listeners.onError(e));\n            }\n          }, e.prototype.onDone = function () {\n            if (200 === this.xhr.status) {\n              this.state === r.OPENING && (this.state = r.OPEN, this.listeners.onOpen && this.listeners.onOpen(o.responseToHeadersObject(this.xhr.getAllResponseHeaders()))), this.assertStateIsIn(r.OPEN, r.ENDING);\n              var e = this.onChunk();\n              e ? (this.state = r.ENDED, 204 === e.statusCode ? this.listeners.onEnd && this.listeners.onEnd(null) : this.listeners.onError && this.listeners.onError(e)) : this.state <= r.ENDING ? this.listeners.onError && this.listeners.onError(new Error(\"HTTP response ended without receiving EOS message\")) : this.listeners.onEnd && this.listeners.onEnd(null);\n            } else {\n              if (this.assertStateIsIn(r.OPENING, r.OPEN, r.ENDED), this.state === r.ENDED) return;\n              0 === this.xhr.status ? this.listeners.onError && this.listeners.onError(new o.NetworkError(\"Connection lost.\")) : this.listeners.onError && this.listeners.onError(o.ErrorResponse.fromXHR(this.xhr));\n            }\n          }, e.prototype.onChunk = function () {\n            this.assertStateIsIn(r.OPEN);\n            var e = this.xhr.responseText,\n                t = e.lastIndexOf(\"\\n\");\n\n            if (t > this.lastNewlineIndex) {\n              var n = e.slice(this.lastNewlineIndex, t).split(\"\\n\");\n              this.lastNewlineIndex = t;\n\n              for (var o = 0, i = n; o < i.length; o++) {\n                var s = i[o];\n\n                if (0 !== s.length) {\n                  var a = JSON.parse(s),\n                      u = this.onMessage(a);\n                  if (null != u) return u;\n                }\n              }\n            }\n          }, e.prototype.assertStateIsIn = function () {\n            for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n            if (!t.some(function (t) {\n              return t === e.state;\n            })) {\n              var o = t.map(function (e) {\n                return r[e];\n              }).join(\", \"),\n                  i = r[this.state];\n              window.console.warn(\"Expected this.state to be one of [\" + o + \"] but it is \" + i);\n            }\n          }, e.prototype.onMessage = function (e) {\n            switch (this.assertStateIsIn(r.OPEN), this.verifyMessage(e), e[0]) {\n              case 0:\n                return null;\n\n              case 1:\n                return this.onEventMessage(e);\n\n              case 255:\n                return this.onEOSMessage(e);\n\n              default:\n                return new Error(\"Unknown Message: \" + JSON.stringify(e));\n            }\n          }, e.prototype.onEventMessage = function (e) {\n            if (this.assertStateIsIn(r.OPEN), 4 !== e.length) return new Error(\"Event message has \" + e.length + \" elements (expected 4)\");\n            e[0];\n            var t = e[1],\n                n = e[2],\n                o = e[3];\n            return \"string\" != typeof t ? new Error(\"Invalid event ID in message: \" + JSON.stringify(e)) : \"object\" != typeof n || Array.isArray(n) ? new Error(\"Invalid event headers in message: \" + JSON.stringify(e)) : (this.listeners.onEvent && this.listeners.onEvent({\n              body: o,\n              headers: n,\n              eventId: t\n            }), null);\n          }, e.prototype.onEOSMessage = function (e) {\n            if (this.assertStateIsIn(r.OPEN), 4 !== e.length) return new Error(\"EOS message has \" + e.length + \" elements (expected 4)\");\n            e[0];\n            var t = e[1],\n                n = e[2],\n                i = e[3];\n            return \"number\" != typeof t ? new Error(\"Invalid EOS Status Code\") : \"object\" != typeof n || Array.isArray(n) ? new Error(\"Invalid EOS ElementsHeaders\") : (this.state = r.ENDING, new o.ErrorResponse(t, n, i));\n          }, e.prototype.verifyMessage = function (e) {\n            return this.gotEOS ? new Error(\"Got another message after EOS message\") : Array.isArray(e) ? e.length < 1 ? new Error(\"Message is empty array\") : void 0 : new Error(\"Message is not an array\");\n          }, e;\n        }(),\n            s = function () {\n          function e(e, t) {\n            void 0 === t && (t = !0), this.baseURL = (t ? \"https\" : \"http\") + \"://\" + e;\n          }\n\n          return e.prototype.request = function (e) {\n            return this.createXHR(this.baseURL, e);\n          }, e.prototype.subscribe = function (e, t, n) {\n            var r = {\n              headers: n,\n              method: \"SUBSCRIBE\",\n              path: e\n            };\n            return new i(this.createXHR(this.baseURL, r), t);\n          }, e.prototype.createXHR = function (e, t) {\n            var n = new window.XMLHttpRequest(),\n                r = e + \"/\" + t.path.replace(/^\\/+/, \"\");\n            if (n.open(t.method.toUpperCase(), r, !0), n = this.setJSONHeaderIfAppropriate(n, t), t.jwt && n.setRequestHeader(\"authorization\", \"Bearer \" + t.jwt), t.headers) for (var o in t.headers) t.headers.hasOwnProperty(o) && n.setRequestHeader(o, t.headers[o]);\n            return n;\n          }, e.prototype.setJSONHeaderIfAppropriate = function (e, t) {\n            return t.json && e.setRequestHeader(\"content-type\", \"application/json\"), e;\n          }, e;\n        }();\n\n        t.default = s;\n      }, function (e, t, n) {\n        var r = this && this.__assign || Object.assign || function (e) {\n          for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n\n          return e;\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var o,\n            i = n(0);\n        !function (e) {\n          e[e.Connecting = 0] = \"Connecting\", e[e.Open = 1] = \"Open\", e[e.Closing = 2] = \"Closing\", e[e.Closed = 3] = \"Closed\";\n        }(o = t.WSReadyState || (t.WSReadyState = {}));\n\n        var s = function () {\n          function e() {\n            this.subscriptions = {};\n          }\n\n          return e.prototype.add = function (e, t, n, r) {\n            return this.subscriptions[e] = {\n              headers: r,\n              listeners: n,\n              path: t\n            }, e;\n          }, e.prototype.has = function (e) {\n            return void 0 !== this.subscriptions[e];\n          }, e.prototype.isEmpty = function () {\n            return 0 === Object.keys(this.subscriptions).length;\n          }, e.prototype.remove = function (e) {\n            return delete this.subscriptions[e];\n          }, e.prototype.get = function (e) {\n            return this.subscriptions[e];\n          }, e.prototype.getAll = function () {\n            return this.subscriptions;\n          }, e.prototype.getAllAsArray = function () {\n            var e = this;\n            return Object.keys(this.subscriptions).map(function (t) {\n              return r({\n                subID: parseInt(t, 10)\n              }, e.subscriptions[parseInt(t, 10)]);\n            });\n          }, e.prototype.removeAll = function () {\n            this.subscriptions = {};\n          }, e;\n        }(),\n            a = function () {\n          function e(e, t) {\n            this.wsTransport = e, this.subID = t;\n          }\n\n          return e.prototype.unsubscribe = function () {\n            this.wsTransport.unsubscribe(this.subID);\n          }, e;\n        }(),\n            u = function () {\n          function e(e, t) {\n            this.webSocketPath = \"/ws\", this.forcedClose = !1, this.closedError = null, this.lastSentPingID = null, this.baseURL = \"wss://\" + e + this.webSocketPath, this.lastSubscriptionID = 0, this.logger = t, this.subscriptions = new s(), this.pendingSubscriptions = new s(), this.connect();\n          }\n\n          return e.prototype.subscribe = function (e, t, n) {\n            this.tryReconnectIfNeeded();\n            var r = this.lastSubscriptionID++;\n            return this.socket.readyState !== o.Open ? (this.pendingSubscriptions.add(r, e, t, n), new a(this, r)) : (this.subscriptions.add(r, e, t, n), this.sendMessage(this.getMessage(100, r, e, n)), new a(this, r));\n          }, e.prototype.unsubscribe = function (e) {\n            this.sendMessage(this.getMessage(198, e));\n            var t = this.subscriptions.get(e);\n            t.listeners.onEnd && t.listeners.onEnd(null), this.subscriptions.remove(e);\n          }, e.prototype.connect = function () {\n            var e = this;\n            this.forcedClose = !1, this.closedError = null, this.socket = new window.WebSocket(this.baseURL), this.socket.onopen = function (t) {\n              e.pendingSubscriptions.getAllAsArray().forEach(function (t) {\n                var n = t.subID,\n                    r = t.path,\n                    o = t.listeners,\n                    i = t.headers;\n                e.subscribePending(r, o, i, n);\n              }), e.pendingSubscriptions.removeAll(), e.pingInterval = window.setInterval(function () {\n                if (!e.pongTimeout) {\n                  var t = new Date().getTime();\n                  1e4 > t - e.lastMessageReceivedTimestamp || (e.sendMessage(e.getMessage(16, t)), e.lastSentPingID = t, e.pongTimeout = window.setTimeout(function () {\n                    1e4 > new Date().getTime() - e.lastMessageReceivedTimestamp ? e.pongTimeout = null : e.close(new i.NetworkError(\"Pong response wasn't received within timeout\"));\n                  }, 1e4));\n                }\n              }, 3e4);\n            }, this.socket.onmessage = function (t) {\n              return e.receiveMessage(t);\n            }, this.socket.onerror = function (t) {\n              e.logger.verbose(\"WebSocket encountered an error event\", t);\n            }, this.socket.onclose = function (t) {\n              e.logger.verbose(\"WebSocket encountered a close event\", t);\n              var n = e.subscriptions.getAllAsArray().concat(e.pendingSubscriptions.getAllAsArray());\n              e.subscriptions.removeAll(), e.pendingSubscriptions.removeAll(), n.forEach(function (t) {\n                t.listeners.onError && t.listeners.onError(e.closedError);\n              }), e.tryReconnectIfNeeded();\n            };\n          }, e.prototype.close = function (e) {\n            if (this.socket instanceof window.WebSocket) {\n              var t = function (e) {};\n\n              null != this.socket.onclose && (t = this.socket.onclose.bind(this)), this.socket.onclose = function () {}, this.socket.onerror = function () {}, this.socket.onmessage = function () {}, this.socket.onopen = function () {}, this.forcedClose = !0, this.closedError = e, this.socket.close(), window.clearTimeout(this.pingInterval), window.clearTimeout(this.pongTimeout), this.pongTimeout = null, this.pingInterval = null, this.lastSentPingID = null, t();\n            }\n          }, e.prototype.tryReconnectIfNeeded = function () {\n            (this.forcedClose || this.socket.readyState === o.Closed) && this.connect();\n          }, e.prototype.subscribePending = function (e, t, n, r) {\n            void 0 !== r ? (this.subscriptions.add(r, e, t, n), this.sendMessage(this.getMessage(100, r, e, n))) : this.logger.debug(\"Subscription to path \" + e + \" has an undefined ID\");\n          }, e.prototype.getMessage = function (e, t, n, r) {\n            return [e, t, n, r];\n          }, e.prototype.sendMessage = function (e) {\n            this.socket.readyState === o.Open ? this.socket.send(JSON.stringify(e)) : this.logger.warn(\"Can't send on socket in \\\"\" + o[this.socket.readyState] + '\" state');\n          }, e.prototype.subscription = function (e) {\n            return this.subscriptions.get(e);\n          }, e.prototype.receiveMessage = function (e) {\n            var t;\n            this.lastMessageReceivedTimestamp = new Date().getTime();\n\n            try {\n              t = JSON.parse(e.data);\n            } catch (t) {\n              return void this.close(new i.ProtocolError(\"Message is not valid JSON format. Getting \" + e.data));\n            }\n\n            var n = this.validateMessage(t);\n            if (n) this.close(n);else {\n              var r = t.shift();\n\n              switch (r) {\n                case 17:\n                  return void this.onPongMessage(t);\n\n                case 16:\n                  return void this.onPingMessage(t);\n\n                case 99:\n                  return void this.onCloseMessage(t);\n              }\n\n              var o = t.shift(),\n                  s = this.subscription(o);\n\n              if (s) {\n                var a = s.listeners;\n\n                switch (r) {\n                  case 101:\n                    this.onOpenMessage(t, o, a);\n                    break;\n\n                  case 102:\n                    this.onEventMessage(t, a);\n                    break;\n\n                  case 199:\n                    this.onEOSMessage(t, o, a);\n                    break;\n\n                  default:\n                    this.close(new i.ProtocolError(\"Received unknown type of message.\"));\n                }\n              } else this.logger.debug(\"Received message for unknown subscription ID: \" + o);\n            }\n          }, e.prototype.validateMessage = function (e) {\n            return Array.isArray(e) ? e.length < 1 ? new i.ProtocolError(\"Message is empty array: \" + JSON.stringify(e)) : null : new i.ProtocolError(\"Message is expected to be an array. Getting: \" + JSON.stringify(e));\n          }, e.prototype.onOpenMessage = function (e, t, n) {\n            n.onOpen && n.onOpen(e[1]);\n          }, e.prototype.onEventMessage = function (e, t) {\n            if (3 === e.length) {\n              var n = e[0],\n                  r = e[1],\n                  o = e[2];\n              \"string\" == typeof n ? \"object\" != typeof r || Array.isArray(r) ? t.onError && t.onError(new i.ProtocolError(\"Invalid event headers in message: \" + JSON.stringify(e))) : t.onEvent && t.onEvent({\n                eventId: n,\n                headers: r,\n                body: o\n              }) : t.onError && t.onError(new i.ProtocolError(\"Invalid event ID in message: \" + JSON.stringify(e)));\n            } else t.onError && t.onError(new i.ProtocolError(\"Event message has \" + e.length + \" elements (expected 4)\"));\n          }, e.prototype.onEOSMessage = function (e, t, n) {\n            if (this.subscriptions.remove(t), 3 === e.length) {\n              var r = e[0],\n                  o = e[1],\n                  s = e[2];\n              \"number\" == typeof r ? \"object\" != typeof o || Array.isArray(o) ? n.onError && n.onError(new i.ProtocolError(\"Invalid EOS ElementsHeaders\")) : 204 !== r ? n.onError && n.onError(new i.ErrorResponse(r, o, s)) : n.onEnd && n.onEnd(null) : n.onError && n.onError(new i.ProtocolError(\"Invalid EOS Status Code\"));\n            } else n.onError && n.onError(new i.ProtocolError(\"EOS message has \" + e.length + \" elements (expected 4)\"));\n          }, e.prototype.onCloseMessage = function (e) {\n            var t = e[0],\n                n = e[1],\n                r = e[2];\n            if (\"number\" == typeof t) {\n              if (\"object\" != typeof n || Array.isArray(n)) this.close(new i.ProtocolError(\"Close message: Invalid EOS ElementsHeaders\"));else {\n                var o = {\n                  error: r.error || \"network_error\",\n                  error_description: r.error_description || \"Network error\"\n                };\n                this.close(new i.ErrorResponse(t, n, o));\n              }\n            } else this.close(new i.ProtocolError(\"Close message: Invalid EOS Status Code\"));\n          }, e.prototype.onPongMessage = function (e) {\n            var t = e[0];\n            this.lastSentPingID !== t && this.close(new i.ProtocolError(\"Received pong with ID \" + t + \" but last sent ping ID was \" + this.lastSentPingID)), window.clearTimeout(this.pongTimeout), delete this.pongTimeout, this.lastSentPingID = null;\n          }, e.prototype.onPingMessage = function (e) {\n            var t = e[0];\n            this.sendMessage(this.getMessage(17, t));\n          }, e;\n        }();\n\n        t.default = u;\n      }, function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var r = n(3),\n            o = n(9),\n            i = n(1),\n            s = function () {\n          function e(e) {\n            if (!e.locator) throw new Error(\"Expected `locator` property in Instance options!\");\n            var t = e.locator.split(\":\");\n            if (3 !== t.length) throw new Error(\"The instance locator supplied is invalid. Did you copy it correctly from the Pusher dashboard?\");\n            if (!e.serviceName) throw new Error(\"Expected `serviceName` property in Instance options!\");\n            if (!e.serviceVersion) throw new Error(\"Expected `serviceVersion` property in Instance options!\");\n            this.platformVersion = t[0], this.cluster = t[1], this.id = t[2], this.serviceName = e.serviceName, this.serviceVersion = e.serviceVersion, this.host = e.host || this.cluster + \".\" + o.HOST_BASE, this.logger = e.logger || new i.ConsoleLogger(), this.client = e.client || new r.BaseClient({\n              encrypted: e.encrypted,\n              host: this.host,\n              logger: this.logger\n            }), this.tokenProvider = e.tokenProvider;\n          }\n\n          return e.prototype.request = function (e, t) {\n            return e.path = this.absPath(e.path), null != e.headers && void 0 !== e.headers || (e.headers = {}), e.tokenProvider = e.tokenProvider || this.tokenProvider, this.client.request(e, t);\n          }, e.prototype.subscribeNonResuming = function (e) {\n            var t = e.headers || {},\n                n = e.retryStrategyOptions || {},\n                r = e.tokenProvider || this.tokenProvider;\n            return this.client.subscribeNonResuming(this.absPath(e.path), t, e.listeners, n, r);\n          }, e.prototype.subscribeResuming = function (e) {\n            var t = e.headers || {},\n                n = e.retryStrategyOptions || {},\n                r = e.tokenProvider || this.tokenProvider;\n            return this.client.subscribeResuming(this.absPath(e.path), t, e.listeners, n, e.initialEventId, r);\n          }, e.prototype.absPath = function (e) {\n            return (\"/services/\" + this.serviceName + \"/\" + this.serviceVersion + \"/\" + this.id + \"/\" + e).replace(/\\/+/g, \"/\").replace(/\\/+$/, \"\");\n          }, e;\n        }();\n\n        t.default = s;\n      }]);\n    }, e.exports = n();\n  }(e = {\n    exports: {}\n  }, e.exports), e.exports);\n  (t = n) && t.__esModule && Object.prototype.hasOwnProperty.call(t, \"default\") && t.default;\n  var r = n.BaseClient,\n      o = n.HOST_BASE,\n      i = n.Instance,\n      s = n.sendRawRequest;\n\n  function a(e) {\n    return null != e && \"object\" == typeof e && !0 === e[\"@@functional/placeholder\"];\n  }\n\n  function u(e) {\n    return function t(n) {\n      return 0 === arguments.length || a(n) ? t : e.apply(this, arguments);\n    };\n  }\n\n  function c(e) {\n    return function t(n, r) {\n      switch (arguments.length) {\n        case 0:\n          return t;\n\n        case 1:\n          return a(n) ? t : u(function (t) {\n            return e(n, t);\n          });\n\n        default:\n          return a(n) && a(r) ? t : a(n) ? u(function (t) {\n            return e(t, r);\n          }) : a(r) ? u(function (t) {\n            return e(n, t);\n          }) : e(n, r);\n      }\n    };\n  }\n\n  function h(e, t) {\n    var n;\n    e = e || [], t = t || [];\n    var r = e.length,\n        o = t.length,\n        i = [];\n\n    for (n = 0; n < r;) i[i.length] = e[n], n += 1;\n\n    for (n = 0; n < o;) i[i.length] = t[n], n += 1;\n\n    return i;\n  }\n\n  function l(e, t) {\n    switch (e) {\n      case 0:\n        return function () {\n          return t.apply(this, arguments);\n        };\n\n      case 1:\n        return function (e) {\n          return t.apply(this, arguments);\n        };\n\n      case 2:\n        return function (e, n) {\n          return t.apply(this, arguments);\n        };\n\n      case 3:\n        return function (e, n, r) {\n          return t.apply(this, arguments);\n        };\n\n      case 4:\n        return function (e, n, r, o) {\n          return t.apply(this, arguments);\n        };\n\n      case 5:\n        return function (e, n, r, o, i) {\n          return t.apply(this, arguments);\n        };\n\n      case 6:\n        return function (e, n, r, o, i, s) {\n          return t.apply(this, arguments);\n        };\n\n      case 7:\n        return function (e, n, r, o, i, s, a) {\n          return t.apply(this, arguments);\n        };\n\n      case 8:\n        return function (e, n, r, o, i, s, a, u) {\n          return t.apply(this, arguments);\n        };\n\n      case 9:\n        return function (e, n, r, o, i, s, a, u, c) {\n          return t.apply(this, arguments);\n        };\n\n      case 10:\n        return function (e, n, r, o, i, s, a, u, c, h) {\n          return t.apply(this, arguments);\n        };\n\n      default:\n        throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\");\n    }\n  }\n\n  function d(e, t, n) {\n    return function () {\n      for (var r = [], o = 0, i = e, s = 0; s < t.length || o < arguments.length;) {\n        var u;\n        s < t.length && (!a(t[s]) || o >= arguments.length) ? u = t[s] : (u = arguments[o], o += 1), r[s] = u, a(u) || (i -= 1), s += 1;\n      }\n\n      return i <= 0 ? n.apply(this, r) : l(i, d(e, r, n));\n    };\n  }\n\n  var f = c(function (e, t) {\n    return 1 === e ? u(t) : l(e, d(e, [], t));\n  });\n\n  function p(e) {\n    return function t(n, r, o) {\n      switch (arguments.length) {\n        case 0:\n          return t;\n\n        case 1:\n          return a(n) ? t : c(function (t, r) {\n            return e(n, t, r);\n          });\n\n        case 2:\n          return a(n) && a(r) ? t : a(n) ? c(function (t, n) {\n            return e(t, r, n);\n          }) : a(r) ? c(function (t, r) {\n            return e(n, t, r);\n          }) : u(function (t) {\n            return e(n, r, t);\n          });\n\n        default:\n          return a(n) && a(r) && a(o) ? t : a(n) && a(r) ? c(function (t, n) {\n            return e(t, n, o);\n          }) : a(n) && a(o) ? c(function (t, n) {\n            return e(t, r, n);\n          }) : a(r) && a(o) ? c(function (t, r) {\n            return e(n, t, r);\n          }) : a(n) ? u(function (t) {\n            return e(t, r, o);\n          }) : a(r) ? u(function (t) {\n            return e(n, t, o);\n          }) : a(o) ? u(function (t) {\n            return e(n, r, t);\n          }) : e(n, r, o);\n      }\n    };\n  }\n\n  var g = Array.isArray || function (e) {\n    return null != e && e.length >= 0 && \"[object Array]\" === Object.prototype.toString.call(e);\n  };\n\n  function v(e, t, n) {\n    return function () {\n      if (0 === arguments.length) return n();\n      var r = Array.prototype.slice.call(arguments, 0),\n          o = r.pop();\n\n      if (!g(o)) {\n        for (var i = 0; i < e.length;) {\n          if (\"function\" == typeof o[e[i]]) return o[e[i]].apply(o, r);\n          i += 1;\n        }\n\n        if (function (e) {\n          return \"function\" == typeof e[\"@@transducer/step\"];\n        }(o)) return t.apply(null, r)(o);\n      }\n\n      return n.apply(this, arguments);\n    };\n  }\n\n  var m = {\n    init: function () {\n      return this.xf[\"@@transducer/init\"]();\n    },\n    result: function (e) {\n      return this.xf[\"@@transducer/result\"](e);\n    }\n  },\n      b = c(function (e, t) {\n    return t > e ? t : e;\n  });\n\n  function y(e, t) {\n    for (var n = 0, r = t.length, o = Array(r); n < r;) o[n] = e(t[n]), n += 1;\n\n    return o;\n  }\n\n  function S(e) {\n    return \"[object String]\" === Object.prototype.toString.call(e);\n  }\n\n  var w = u(function (e) {\n    return !!g(e) || !!e && \"object\" == typeof e && !S(e) && (1 === e.nodeType ? !!e.length : 0 === e.length || e.length > 0 && e.hasOwnProperty(0) && e.hasOwnProperty(e.length - 1));\n  }),\n      k = function () {\n    function e(e) {\n      this.f = e;\n    }\n\n    return e.prototype[\"@@transducer/init\"] = function () {\n      throw new Error(\"init not implemented on XWrap\");\n    }, e.prototype[\"@@transducer/result\"] = function (e) {\n      return e;\n    }, e.prototype[\"@@transducer/step\"] = function (e, t) {\n      return this.f(e, t);\n    }, e;\n  }();\n\n  function I(e) {\n    return new k(e);\n  }\n\n  var E = c(function (e, t) {\n    return l(e.length, function () {\n      return e.apply(t, arguments);\n    });\n  });\n\n  function R(e, t, n) {\n    for (var r = n.next(); !r.done;) {\n      if ((t = e[\"@@transducer/step\"](t, r.value)) && t[\"@@transducer/reduced\"]) {\n        t = t[\"@@transducer/value\"];\n        break;\n      }\n\n      r = n.next();\n    }\n\n    return e[\"@@transducer/result\"](t);\n  }\n\n  function T(e, t, n, r) {\n    return e[\"@@transducer/result\"](n[r](E(e[\"@@transducer/step\"], e), t));\n  }\n\n  var _ = \"undefined\" != typeof Symbol ? Symbol.iterator : \"@@iterator\";\n\n  function O(e, t, n) {\n    if (\"function\" == typeof e && (e = I(e)), w(n)) return function (e, t, n) {\n      for (var r = 0, o = n.length; r < o;) {\n        if ((t = e[\"@@transducer/step\"](t, n[r])) && t[\"@@transducer/reduced\"]) {\n          t = t[\"@@transducer/value\"];\n          break;\n        }\n\n        r += 1;\n      }\n\n      return e[\"@@transducer/result\"](t);\n    }(e, t, n);\n    if (\"function\" == typeof n[\"fantasy-land/reduce\"]) return T(e, t, n, \"fantasy-land/reduce\");\n    if (null != n[_]) return R(e, t, n[_]());\n    if (\"function\" == typeof n.next) return R(e, t, n);\n    if (\"function\" == typeof n.reduce) return T(e, t, n, \"reduce\");\n    throw new TypeError(\"reduce: list must be array or iterable\");\n  }\n\n  var P = function () {\n    function e(e, t) {\n      this.xf = t, this.f = e;\n    }\n\n    return e.prototype[\"@@transducer/init\"] = m.init, e.prototype[\"@@transducer/result\"] = m.result, e.prototype[\"@@transducer/step\"] = function (e, t) {\n      return this.xf[\"@@transducer/step\"](e, this.f(t));\n    }, e;\n  }(),\n      N = c(function (e, t) {\n    return new P(e, t);\n  });\n\n  function U(e, t) {\n    return Object.prototype.hasOwnProperty.call(t, e);\n  }\n\n  var x = Object.prototype.toString,\n      C = !{\n    toString: null\n  }.propertyIsEnumerable(\"toString\"),\n      M = [\"constructor\", \"valueOf\", \"isPrototypeOf\", \"toString\", \"propertyIsEnumerable\", \"hasOwnProperty\", \"toLocaleString\"],\n      A = function () {\n    return arguments.propertyIsEnumerable(\"length\");\n  }(),\n      j = function (e, t) {\n    for (var n = 0; n < e.length;) {\n      if (e[n] === t) return !0;\n      n += 1;\n    }\n\n    return !1;\n  },\n      D = u(\"function\" != typeof Object.keys || A ? function (e) {\n    if (Object(e) !== e) return [];\n\n    var t,\n        n,\n        r = [],\n        o = A && function () {\n      return \"[object Arguments]\" === x.call(arguments) ? function (e) {\n        return \"[object Arguments]\" === x.call(e);\n      } : function (e) {\n        return U(\"callee\", e);\n      };\n    }(e);\n\n    for (t in e) !U(t, e) || o && \"length\" === t || (r[r.length] = t);\n\n    if (C) for (n = M.length - 1; n >= 0;) U(t = M[n], e) && !j(r, t) && (r[r.length] = t), n -= 1;\n    return r;\n  } : function (e) {\n    return Object(e) !== e ? [] : Object.keys(e);\n  }),\n      L = c(v([\"fantasy-land/map\", \"map\"], N, function (e, t) {\n    switch (Object.prototype.toString.call(t)) {\n      case \"[object Function]\":\n        return f(t.length, function () {\n          return e.call(this, t.apply(this, arguments));\n        });\n\n      case \"[object Object]\":\n        return O(function (n, r) {\n          return n[r] = e(t[r]), n;\n        }, {}, D(t));\n\n      default:\n        return y(e, t);\n    }\n  })),\n      q = c(function (e, t) {\n    for (var n = t, r = 0; r < e.length;) {\n      if (null == n) return;\n      n = n[e[r]], r += 1;\n    }\n\n    return n;\n  }),\n      B = c(function (e, t) {\n    return q([e], t);\n  }),\n      H = p(O),\n      V = c(function (e, t) {\n    return h(t, [e]);\n  }),\n      F = u(function (e) {\n    for (var t = D(e), n = t.length, r = [], o = 0; o < n;) r[o] = e[t[o]], o += 1;\n\n    return r;\n  });\n\n  var G = u(function (e) {\n    return null === e ? \"Null\" : void 0 === e ? \"Undefined\" : Object.prototype.toString.call(e).slice(8, -1);\n  });\n\n  function J(e, t) {\n    return function () {\n      return t.call(this, e.apply(this, arguments));\n    };\n  }\n\n  function W(e, t) {\n    return function () {\n      var n = arguments.length;\n      if (0 === n) return t();\n      var r = arguments[n - 1];\n      return g(r) || \"function\" != typeof r[e] ? t.apply(this, arguments) : r[e].apply(r, Array.prototype.slice.call(arguments, 0, n - 1));\n    };\n  }\n\n  var z = p(W(\"slice\", function (e, t, n) {\n    return Array.prototype.slice.call(n, e, t);\n  })),\n      X = u(W(\"tail\", z(1, 1 / 0)));\n\n  function K() {\n    if (0 === arguments.length) throw new Error(\"pipe requires at least one argument\");\n    return l(arguments[0].length, H(J, arguments[0], X(arguments)));\n  }\n\n  var Y = u(function (e) {\n    return S(e) ? e.split(\"\").reverse().join(\"\") : Array.prototype.slice.call(e, 0).reverse();\n  });\n\n  function $() {\n    if (0 === arguments.length) throw new Error(\"compose requires at least one argument\");\n    return K.apply(this, Y(arguments));\n  }\n\n  function Z(e) {\n    for (var t, n = []; !(t = e.next()).done;) n.push(t.value);\n\n    return n;\n  }\n\n  function Q(e, t, n) {\n    for (var r = 0, o = n.length; r < o;) {\n      if (e(t, n[r])) return !0;\n      r += 1;\n    }\n\n    return !1;\n  }\n\n  var ee = c(function (e, t) {\n    return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;\n  });\n\n  function te(e, t, n, r) {\n    var o = Z(e);\n\n    function i(e, t) {\n      return ne(e, t, n.slice(), r.slice());\n    }\n\n    return !Q(function (e, t) {\n      return !Q(i, t, e);\n    }, Z(t), o);\n  }\n\n  function ne(e, t, n, r) {\n    if (ee(e, t)) return !0;\n    var o,\n        i,\n        s = G(e);\n    if (s !== G(t)) return !1;\n    if (null == e || null == t) return !1;\n    if (\"function\" == typeof e[\"fantasy-land/equals\"] || \"function\" == typeof t[\"fantasy-land/equals\"]) return \"function\" == typeof e[\"fantasy-land/equals\"] && e[\"fantasy-land/equals\"](t) && \"function\" == typeof t[\"fantasy-land/equals\"] && t[\"fantasy-land/equals\"](e);\n    if (\"function\" == typeof e.equals || \"function\" == typeof t.equals) return \"function\" == typeof e.equals && e.equals(t) && \"function\" == typeof t.equals && t.equals(e);\n\n    switch (s) {\n      case \"Arguments\":\n      case \"Array\":\n      case \"Object\":\n        if (\"function\" == typeof e.constructor && \"Promise\" === (o = e.constructor, null == (i = String(o).match(/^function (\\w*)/)) ? \"\" : i[1])) return e === t;\n        break;\n\n      case \"Boolean\":\n      case \"Number\":\n      case \"String\":\n        if (typeof e != typeof t || !ee(e.valueOf(), t.valueOf())) return !1;\n        break;\n\n      case \"Date\":\n        if (!ee(e.valueOf(), t.valueOf())) return !1;\n        break;\n\n      case \"Error\":\n        return e.name === t.name && e.message === t.message;\n\n      case \"RegExp\":\n        if (e.source !== t.source || e.global !== t.global || e.ignoreCase !== t.ignoreCase || e.multiline !== t.multiline || e.sticky !== t.sticky || e.unicode !== t.unicode) return !1;\n    }\n\n    for (var a = n.length - 1; a >= 0;) {\n      if (n[a] === e) return r[a] === t;\n      a -= 1;\n    }\n\n    switch (s) {\n      case \"Map\":\n        return e.size === t.size && te(e.entries(), t.entries(), n.concat([e]), r.concat([t]));\n\n      case \"Set\":\n        return e.size === t.size && te(e.values(), t.values(), n.concat([e]), r.concat([t]));\n\n      case \"Arguments\":\n      case \"Array\":\n      case \"Object\":\n      case \"Boolean\":\n      case \"Number\":\n      case \"String\":\n      case \"Date\":\n      case \"Error\":\n      case \"RegExp\":\n      case \"Int8Array\":\n      case \"Uint8Array\":\n      case \"Uint8ClampedArray\":\n      case \"Int16Array\":\n      case \"Uint16Array\":\n      case \"Int32Array\":\n      case \"Uint32Array\":\n      case \"Float32Array\":\n      case \"Float64Array\":\n      case \"ArrayBuffer\":\n        break;\n\n      default:\n        return !1;\n    }\n\n    var u = D(e);\n    if (u.length !== D(t).length) return !1;\n    var c = n.concat([e]),\n        h = r.concat([t]);\n\n    for (a = u.length - 1; a >= 0;) {\n      var l = u[a];\n      if (!U(l, t) || !ne(t[l], e[l], c, h)) return !1;\n      a -= 1;\n    }\n\n    return !0;\n  }\n\n  var re = c(function (e, t) {\n    return ne(e, t, [], []);\n  });\n\n  function oe(e, t) {\n    return function (e, t, n) {\n      var r, o;\n      if (\"function\" == typeof e.indexOf) switch (typeof t) {\n        case \"number\":\n          if (0 === t) {\n            for (r = 1 / t; n < e.length;) {\n              if (0 === (o = e[n]) && 1 / o === r) return n;\n              n += 1;\n            }\n\n            return -1;\n          }\n\n          if (t != t) {\n            for (; n < e.length;) {\n              if (\"number\" == typeof (o = e[n]) && o != o) return n;\n              n += 1;\n            }\n\n            return -1;\n          }\n\n          return e.indexOf(t, n);\n\n        case \"string\":\n        case \"boolean\":\n        case \"function\":\n        case \"undefined\":\n          return e.indexOf(t, n);\n\n        case \"object\":\n          if (null === t) return e.indexOf(t, n);\n      }\n\n      for (; n < e.length;) {\n        if (re(e[n], t)) return n;\n        n += 1;\n      }\n\n      return -1;\n    }(t, e, 0) >= 0;\n  }\n\n  function ie(e) {\n    return '\"' + e.replace(/\\\\/g, \"\\\\\\\\\").replace(/[\\b]/g, \"\\\\b\").replace(/\\f/g, \"\\\\f\").replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\").replace(/\\t/g, \"\\\\t\").replace(/\\v/g, \"\\\\v\").replace(/\\0/g, \"\\\\0\").replace(/\"/g, '\\\\\"') + '\"';\n  }\n\n  var se = function (e) {\n    return (e < 10 ? \"0\" : \"\") + e;\n  },\n      ae = \"function\" == typeof Date.prototype.toISOString ? function (e) {\n    return e.toISOString();\n  } : function (e) {\n    return e.getUTCFullYear() + \"-\" + se(e.getUTCMonth() + 1) + \"-\" + se(e.getUTCDate()) + \"T\" + se(e.getUTCHours()) + \":\" + se(e.getUTCMinutes()) + \":\" + se(e.getUTCSeconds()) + \".\" + (e.getUTCMilliseconds() / 1e3).toFixed(3).slice(2, 5) + \"Z\";\n  };\n\n  var ue = function () {\n    function e(e, t) {\n      this.xf = t, this.f = e;\n    }\n\n    return e.prototype[\"@@transducer/init\"] = m.init, e.prototype[\"@@transducer/result\"] = m.result, e.prototype[\"@@transducer/step\"] = function (e, t) {\n      return this.f(t) ? this.xf[\"@@transducer/step\"](e, t) : e;\n    }, e;\n  }(),\n      ce = c(v([\"filter\"], c(function (e, t) {\n    return new ue(e, t);\n  }), function (e, t) {\n    return n = t, \"[object Object]\" === Object.prototype.toString.call(n) ? O(function (n, r) {\n      return e(t[r]) && (n[r] = t[r]), n;\n    }, {}, D(t)) : function (e, t) {\n      for (var n = 0, r = t.length, o = []; n < r;) e(t[n]) && (o[o.length] = t[n]), n += 1;\n\n      return o;\n    }(e, t);\n    var n;\n  })),\n      he = c(function (e, t) {\n    return ce((n = e, function () {\n      return !n.apply(this, arguments);\n    }), t);\n    var n;\n  });\n\n  var le = u(function (e) {\n    return function e(t, n) {\n      var r = function (r) {\n        var o = n.concat([t]);\n        return oe(r, o) ? \"<Circular>\" : e(r, o);\n      },\n          o = function (e, t) {\n        return y(function (t) {\n          return ie(t) + \": \" + r(e[t]);\n        }, t.slice().sort());\n      };\n\n      switch (Object.prototype.toString.call(t)) {\n        case \"[object Arguments]\":\n          return \"(function() { return arguments; }(\" + y(r, t).join(\", \") + \"))\";\n\n        case \"[object Array]\":\n          return \"[\" + y(r, t).concat(o(t, he(function (e) {\n            return /^\\d+$/.test(e);\n          }, D(t)))).join(\", \") + \"]\";\n\n        case \"[object Boolean]\":\n          return \"object\" == typeof t ? \"new Boolean(\" + r(t.valueOf()) + \")\" : t.toString();\n\n        case \"[object Date]\":\n          return \"new Date(\" + (isNaN(t.valueOf()) ? r(NaN) : ie(ae(t))) + \")\";\n\n        case \"[object Null]\":\n          return \"null\";\n\n        case \"[object Number]\":\n          return \"object\" == typeof t ? \"new Number(\" + r(t.valueOf()) + \")\" : 1 / t == -1 / 0 ? \"-0\" : t.toString(10);\n\n        case \"[object String]\":\n          return \"object\" == typeof t ? \"new String(\" + r(t.valueOf()) + \")\" : ie(t);\n\n        case \"[object Undefined]\":\n          return \"undefined\";\n\n        default:\n          if (\"function\" == typeof t.toString) {\n            var i = t.toString();\n            if (\"[object Object]\" !== i) return i;\n          }\n\n          return \"{\" + o(t, D(t)).join(\", \") + \"}\";\n      }\n    }(e, []);\n  }),\n      de = c(oe),\n      fe = c(W(\"forEach\", function (e, t) {\n    for (var n = t.length, r = 0; r < n;) e(t[r]), r += 1;\n\n    return t;\n  })),\n      pe = c(function (e, t) {\n    for (var n = D(t), r = 0; r < n.length;) {\n      var o = n[r];\n      e(t[o], o, t), r += 1;\n    }\n\n    return t;\n  }),\n      ge = c(U);\n\n  function ve(e) {\n    return e;\n  }\n\n  var me = u(ve),\n      be = function () {\n    function e() {\n      this._nativeSet = \"function\" == typeof Set ? new Set() : null, this._items = {};\n    }\n\n    return e.prototype.add = function (e) {\n      return !ye(e, !0, this);\n    }, e.prototype.has = function (e) {\n      return ye(e, !1, this);\n    }, e;\n  }();\n\n  function ye(e, t, n) {\n    var r,\n        o = typeof e;\n\n    switch (o) {\n      case \"string\":\n      case \"number\":\n        return 0 === e && 1 / e == -1 / 0 ? !!n._items[\"-0\"] || (t && (n._items[\"-0\"] = !0), !1) : null !== n._nativeSet ? t ? (r = n._nativeSet.size, n._nativeSet.add(e), n._nativeSet.size === r) : n._nativeSet.has(e) : o in n._items ? e in n._items[o] || (t && (n._items[o][e] = !0), !1) : (t && (n._items[o] = {}, n._items[o][e] = !0), !1);\n\n      case \"boolean\":\n        if (o in n._items) {\n          var i = e ? 1 : 0;\n          return !!n._items[o][i] || (t && (n._items[o][i] = !0), !1);\n        }\n\n        return t && (n._items[o] = e ? [!1, !0] : [!0, !1]), !1;\n\n      case \"function\":\n        return null !== n._nativeSet ? t ? (r = n._nativeSet.size, n._nativeSet.add(e), n._nativeSet.size === r) : n._nativeSet.has(e) : o in n._items ? !!oe(e, n._items[o]) || (t && n._items[o].push(e), !1) : (t && (n._items[o] = [e]), !1);\n\n      case \"undefined\":\n        return !!n._items[o] || (t && (n._items[o] = !0), !1);\n\n      case \"object\":\n        if (null === e) return !!n._items.null || (t && (n._items.null = !0), !1);\n\n      default:\n        return (o = Object.prototype.toString.call(e)) in n._items ? !!oe(e, n._items[o]) || (t && n._items[o].push(e), !1) : (t && (n._items[o] = [e]), !1);\n    }\n  }\n\n  var Se = c(function (e, t) {\n    for (var n, r, o = new be(), i = [], s = 0; s < t.length;) n = e(r = t[s]), o.add(n) && i.push(r), s += 1;\n\n    return i;\n  })(me),\n      we = c(function (e, t) {\n    return f(e + 1, function () {\n      var n,\n          r = arguments[e];\n      if (null != r && (n = r[t], \"[object Function]\" === Object.prototype.toString.call(n))) return r[t].apply(r, Array.prototype.slice.call(arguments, 0, e));\n      throw new TypeError(le(r) + ' does not have a method named \"' + t + '\"');\n    });\n  }),\n      ke = we(1, \"join\");\n\n  var Ie = c(function (e, t) {\n    return Array.prototype.slice.call(t, 0).sort(e);\n  }),\n      Ee = we(1, \"split\"),\n      Re = u(function (e) {\n    var t = [];\n\n    for (var n in e) U(n, e) && (t[t.length] = [n, e[n]]);\n\n    return t;\n  }),\n      Te = \"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\",\n      _e = (String.prototype.trim, \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  }),\n      Oe = function (e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  },\n      Pe = function () {\n    function e(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    return function (t, n, r) {\n      return n && e(t.prototype, n), r && e(t, r), t;\n    };\n  }(),\n      Ne = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n\n    return e;\n  },\n      Ue = function (e, t) {\n    var n = {};\n\n    for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);\n\n    return n;\n  },\n      xe = function () {\n    return function (e, t) {\n      if (Array.isArray(e)) return e;\n      if (Symbol.iterator in Object(e)) return function (e, t) {\n        var n = [],\n            r = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var s, a = e[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); r = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            !r && a.return && a.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return n;\n      }(e, t);\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    };\n  }(),\n      Ce = function (e) {\n    if (Array.isArray(e)) {\n      for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];\n\n      return n;\n    }\n\n    return Array.from(e);\n  },\n      Me = K(ce(function (e) {\n    return void 0 !== e;\n  }), Re, L(function (e) {\n    var t = xe(e, 2),\n        n = t[0],\n        r = t[1];\n    return n + \"=\" + encodeURIComponent(r);\n  }), ke(\"&\")),\n      Ae = function (e, t, n) {\n    var r = void 0 === n ? \"undefined\" : _e(n);\n    if (r !== t) throw new TypeError(\"expected \" + e + \" to be of type \" + t + \" but was of type \" + r);\n  },\n      je = function (e, t) {\n    var n = void 0 === t ? \"undefined\" : _e(t);\n    if (\"string\" !== n && \"function\" !== n) throw new TypeError(\"expected \" + e + \" to be a string or function but was of type \" + n);\n  },\n      De = function (e, t) {\n    var n = void 0 === t ? \"undefined\" : _e(t);\n    if (\"object\" !== n && \"function\" !== n) throw new TypeError(\"expected \" + e + \" to be an object or function but was of type \" + n);\n  },\n      Le = function (e, t, n) {\n    if (!Array.isArray(n)) throw new TypeError(\"expected \" + e + \" to be an array\");\n    n.forEach(function (n, r) {\n      return Ae(e + \"[\" + r + \"]\", t, n);\n    });\n  },\n      qe = function (e, t, n) {\n    Ae(e, \"object\", n), pe(function (n, r) {\n      return Ae(e + \".\" + r, t, n);\n    }, n);\n  },\n      Be = function () {\n    return Math.floor(Date.now() / 1e3);\n  },\n      He = function () {\n    function e() {\n      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n          n = t.url,\n          r = t.queryParams,\n          o = t.headers,\n          i = t.withCredentials;\n      Oe(this, e), je(\"url\", n), r && De(\"queryParams\", r), o && De(\"headers\", o), this.url = n, this.queryParams = r, this.headers = o, this.withCredentials = i, this.fetchToken = this.fetchToken.bind(this), this.fetchFreshToken = this.fetchFreshToken.bind(this), this.cacheIsStale = this.cacheIsStale.bind(this), this.cache = this.cache.bind(this), this.clearCache = this.clearCache.bind(this), this.setUserId = this.setUserId.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"getValueOrFunction\",\n      value: function (e) {\n        return new Promise(function (t) {\n          t(\"function\" == typeof e ? e() : e);\n        });\n      }\n    }, {\n      key: \"fetchToken\",\n      value: function () {\n        var e = this;\n        return this.cacheIsStale() ? (this.req || this.fetchFreshToken()).then(function (t) {\n          var n = t.token,\n              r = t.expiresIn;\n          return e.cache(n, r), n;\n        }) : Promise.resolve(this.cachedToken);\n      }\n    }, {\n      key: \"fetchFreshToken\",\n      value: function () {\n        var e = this;\n        return this.req = Promise.all([this.getValueOrFunction(this.url), this.getValueOrFunction(this.queryParams), this.getValueOrFunction(this.headers)]).then(function (t) {\n          var n = xe(t, 3),\n              r = n[0],\n              o = n[1],\n              i = n[2];\n          return s({\n            method: \"POST\",\n            url: function (e, t) {\n              return t + (de(\"?\", t) ? \"&\" : \"?\") + Me(e);\n            }(Ne({\n              user_id: e.userId\n            }, o), r),\n            body: Me({\n              grant_type: \"client_credentials\"\n            }),\n            headers: Ne({\n              \"content-type\": \"application/x-www-form-urlencoded\"\n            }, i),\n            withCredentials: e.withCredentials\n          });\n        }).then(function (t) {\n          var n = JSON.parse(t),\n              r = n.access_token,\n              o = n.expires_in;\n          return delete e.req, {\n            token: r,\n            expiresIn: o\n          };\n        }).catch(function (t) {\n          throw delete e.req, t;\n        }), this.req;\n      }\n    }, {\n      key: \"cacheIsStale\",\n      value: function () {\n        return !this.cachedToken || Be() > this.cacheExpiresAt;\n      }\n    }, {\n      key: \"cache\",\n      value: function (e, t) {\n        this.cachedToken = e, this.cacheExpiresAt = Be() + t;\n      }\n    }, {\n      key: \"clearCache\",\n      value: function () {\n        this.cachedToken = void 0, this.cacheExpiresAt = void 0;\n      }\n    }, {\n      key: \"setUserId\",\n      value: function (e) {\n        this.clearCache(), this.userId = e;\n      }\n    }]), e;\n  }(),\n      Ve = function (e) {\n    return {\n      createdAt: e.created_at,\n      createdByUserId: e.created_by_id,\n      id: e.id,\n      isPrivate: e.private,\n      name: e.name,\n      updatedAt: e.updated_at,\n      customData: e.custom_data,\n      deletedAt: e.deleted_at,\n      unreadCount: e.unread_count,\n      lastMessageAt: e.last_message_at\n    };\n  },\n      Fe = function (e) {\n    return {\n      avatarURL: e.avatar_url,\n      createdAt: e.created_at,\n      customData: e.custom_data,\n      id: e.id,\n      name: e.name,\n      updatedAt: e.updated_at\n    };\n  },\n      Ge = function (e) {\n    var t = {\n      roomId: e.room_id,\n      id: e.id,\n      senderId: e.user_id,\n      createdAt: e.created_at,\n      updatedAt: e.updated_at,\n      deletedAt: e.deleted_at\n    };\n    return e.parts ? t.parts = e.parts.map(function (e) {\n      return ze(e);\n    }) : (t.text = e.text, e.attachment && (t.attachment = We(e.attachment))), t;\n  },\n      Je = function (e) {\n    return {\n      position: e.position,\n      updatedAt: e.updated_at,\n      userId: e.user_id,\n      roomId: e.room_id,\n      type: e.cursor_type\n    };\n  },\n      We = function (e) {\n    return {\n      link: e.resource_link,\n      type: e.type,\n      name: e.name\n    };\n  },\n      ze = function (e) {\n    if (null != e.content) return {\n      partType: \"inline\",\n      payload: {\n        type: e.type,\n        content: e.content\n      }\n    };\n    if (null != e.url) return {\n      partType: \"url\",\n      payload: {\n        type: e.type,\n        url: e.url\n      }\n    };\n    if (null != e.attachment) return {\n      partType: \"attachment\",\n      payload: {\n        type: e.type,\n        name: e.attachment.name,\n        size: e.attachment.size,\n        customData: e.attachment.custom_data,\n        _id: e.attachment.id,\n        _downloadURL: e.attachment.download_url,\n        _expiration: new Date(e.attachment.expiration)\n      }\n    };\n    throw new TypeError(\"failed to parse message part\");\n  },\n      Xe = function () {\n    function e(t, n) {\n      Oe(this, e), this.avatarURL = t.avatarURL, this.createdAt = t.createdAt, this.customData = t.customData, this.id = t.id, this.name = t.name, this.updatedAt = t.updatedAt, this.presenceStore = n;\n    }\n\n    return Pe(e, [{\n      key: \"presence\",\n      get: function () {\n        return {\n          state: this.presenceStore[this.id] || \"unknown\"\n        };\n      }\n    }]), e;\n  }();\n\n  function Ke(e, t) {\n    var n = [],\n        r = !0,\n        o = !1,\n        i = void 0;\n\n    try {\n      for (var s, a = t.pending[Symbol.iterator](); !(r = (s = a.next()).done); r = !0) {\n        var u = s.value;\n        n.push(u), t.inProgress.add(u);\n      }\n    } catch (e) {\n      o = !0, i = e;\n    } finally {\n      try {\n        !r && a.return && a.return();\n      } finally {\n        if (o) throw i;\n      }\n    }\n\n    return t.pending.clear(), e(n).then(function (e) {\n      var r = !0,\n          o = !1,\n          i = void 0;\n\n      try {\n        for (var s, a = n[Symbol.iterator](); !(r = (s = a.next()).done); r = !0) {\n          var u = s.value,\n              c = !0,\n              h = !1,\n              l = void 0;\n\n          try {\n            for (var d, f = t.callbacks[u][Symbol.iterator](); !(c = (d = f.next()).done); c = !0) {\n              d.value.resolve(e);\n            }\n          } catch (e) {\n            h = !0, l = e;\n          } finally {\n            try {\n              !c && f.return && f.return();\n            } finally {\n              if (h) throw l;\n            }\n          }\n\n          t.inProgress.delete(u), delete t.callbacks[u];\n        }\n      } catch (e) {\n        o = !0, i = e;\n      } finally {\n        try {\n          !r && a.return && a.return();\n        } finally {\n          if (o) throw i;\n        }\n      }\n    }).catch(function (e) {\n      var r = !0,\n          o = !1,\n          i = void 0;\n\n      try {\n        for (var s, a = n[Symbol.iterator](); !(r = (s = a.next()).done); r = !0) {\n          var u = s.value,\n              c = !0,\n              h = !1,\n              l = void 0;\n\n          try {\n            for (var d, f = t.callbacks[u][Symbol.iterator](); !(c = (d = f.next()).done); c = !0) {\n              d.value.reject(e);\n            }\n          } catch (e) {\n            h = !0, l = e;\n          } finally {\n            try {\n              !c && f.return && f.return();\n            } finally {\n              if (h) throw l;\n            }\n          }\n\n          t.inProgress.delete(u), delete t.callbacks[u];\n        }\n      } catch (e) {\n        o = !0, i = e;\n      } finally {\n        try {\n          !r && a.return && a.return();\n        } finally {\n          if (o) throw i;\n        }\n      }\n    });\n  }\n\n  var Ye = 50,\n      $e = 250,\n      Ze = 2e4,\n      Qe = function () {\n    function e(t) {\n      var n,\n          r,\n          o,\n          i,\n          s = t.instance,\n          a = t.presenceStore,\n          u = t.logger;\n      Oe(this, e), this.instance = s, this.presenceStore = a, this.logger = u, this.onSetHooks = [], this.users = {}, this.set = this.set.bind(this), this.get = this.get.bind(this), this.fetchMissingUser = (n = this._fetchMissingUserBatch.bind(this), r = Ye, o = $e, i = {\n        callbacks: {},\n        pending: new Set(),\n        inProgress: new Set()\n      }, function (e) {\n        return new Promise(function (t, s) {\n          i.pending.has(e) || i.inProgress.has(e) ? i.callbacks[e].push({\n            resolve: t,\n            reject: s\n          }) : (i.pending.add(e), i.callbacks[e] = [{\n            resolve: t,\n            reject: s\n          }]), i.pending.size >= o ? (clearTimeout(i.timeout), Ke(n, i), delete i.timeout) : i.timeout || (i.timeout = setTimeout(function () {\n            Ke(n, i), delete i.timeout;\n          }, r));\n        });\n      }), this.fetchMissingUsers = this.fetchMissingUsers.bind(this), this.fetchMissingUserReq = this.fetchMissingUserReq.bind(this), this.snapshot = this.snapshot.bind(this), this.getSync = this.getSync.bind(this), this.decorate = this.decorate.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"set\",\n      value: function (e) {\n        return this.users[e.id] = this.decorate(e), this.onSetHooks.forEach(function (t) {\n          return t(e.id);\n        }), Promise.resolve(this.users[e.id]);\n      }\n    }, {\n      key: \"get\",\n      value: function (e) {\n        var t = this;\n        return this.fetchMissingUser(e).then(function () {\n          return t.users[e];\n        });\n      }\n    }, {\n      key: \"fetchMissingUsers\",\n      value: function (e) {\n        var t = this;\n        return Promise.all(e.map(function (e) {\n          return t.fetchMissingUser(e);\n        }));\n      }\n    }, {\n      key: \"_fetchMissingUserBatch\",\n      value: function (e) {\n        var t = this,\n            n = e.filter(function (e) {\n          return !t.users[e];\n        });\n        return n.length > 0 ? this.fetchMissingUserReq(n) : Promise.resolve();\n      }\n    }, {\n      key: \"fetchMissingUserReq\",\n      value: function (e) {\n        var t,\n            n,\n            r,\n            o,\n            i,\n            s = this;\n        return this.instance.request({\n          method: \"GET\",\n          path: (t = \"id\", n = e, r = \"/users_by_ids\", o = de(\"?\", r) ? \"\" : \"?\", i = L(function (e) {\n            return encodeURIComponent(t) + \"=\" + encodeURIComponent(e);\n          }, n), r + o + ke(\"&\", i))\n        }).then(function (e) {\n          JSON.parse(e).map(function (e) {\n            return Fe(e);\n          }).forEach(function (e) {\n            s.set(e);\n          });\n        }).catch(function (e) {\n          throw s.logger.warn(\"error fetching missing users:\", e), e;\n        });\n      }\n    }, {\n      key: \"snapshot\",\n      value: function () {\n        return this.users;\n      }\n    }, {\n      key: \"getSync\",\n      value: function (e) {\n        return this.users[e];\n      }\n    }, {\n      key: \"decorate\",\n      value: function (e) {\n        return e ? new Xe(e, this.presenceStore) : void 0;\n      }\n    }]), e;\n  }(),\n      et = function () {\n    function e(t) {\n      var n = t.basicRoom,\n          r = t.userStore,\n          o = t.isSubscribedTo,\n          i = t.logger;\n      Oe(this, e), this.createdAt = n.createdAt, this.createdByUserId = n.createdByUserId, this.deletedAt = n.deletedAt, this.id = n.id, this.isPrivate = n.isPrivate, this.name = n.name, this.updatedAt = n.updatedAt, this.customData = n.customData, this.unreadCount = n.unreadCount, this.lastMessageAt = n.lastMessageAt, this.userIds = [], this.userStore = r, this.isSubscribedTo = o, this.logger = i, this.eq = this.eq.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"eq\",\n      value: function (e) {\n        return this.createdAt === e.createdAt && this.createdByUserId === e.createdByUserId && this.deletedAt === e.deletedAt && this.id === e.id && this.isPrivate === e.isPrivate && this.name === e.name && this.updatedAt === e.updatedAt && JSON.stringify(this.customData) === JSON.stringify(e.customData);\n      }\n    }, {\n      key: \"users\",\n      get: function () {\n        var e = this;\n\n        if (!this.isSubscribedTo(this.id)) {\n          var t = new Error(\"Must be subscribed to room \" + this.id + \" to access users property\");\n          throw this.logger.error(t), t;\n        }\n\n        return ce(function (t) {\n          return de(t.id, e.userIds);\n        }, F(this.userStore.snapshot()));\n      }\n    }]), e;\n  }(),\n      tt = function () {\n    function e(t) {\n      Oe(this, e), this.instance = t.instance, this.userStore = t.userStore, this.isSubscribedTo = t.isSubscribedTo, this.logger = t.logger, this.rooms = {}, this.setSync = this.setSync.bind(this), this.set = this.set.bind(this), this.get = this.get.bind(this), this.popSync = this.popSync.bind(this), this.pop = this.pop.bind(this), this.addUserToRoom = this.addUserToRoom.bind(this), this.removeUserFromRoom = this.removeUserFromRoom.bind(this), this.updateSync = this.updateSync.bind(this), this.update = this.update.bind(this), this.fetchBasicRoom = this.fetchBasicRoom.bind(this), this.snapshot = this.snapshot.bind(this), this.getSync = this.getSync.bind(this), this.decorate = this.decorate.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"setSync\",\n      value: function (e) {\n        return this.rooms[e.id] || (this.rooms[e.id] = this.decorate(e)), this.rooms[e.id];\n      }\n    }, {\n      key: \"set\",\n      value: function (e) {\n        return Promise.resolve(this.setSync(e));\n      }\n    }, {\n      key: \"get\",\n      value: function (e) {\n        var t = this;\n        return Promise.resolve(this.rooms[e]).then(function (n) {\n          return n || t.fetchBasicRoom(e).then(function (n) {\n            return t.set(e, n);\n          });\n        });\n      }\n    }, {\n      key: \"popSync\",\n      value: function (e) {\n        var t = this.rooms[e];\n        return delete this.rooms[e], t;\n      }\n    }, {\n      key: \"pop\",\n      value: function (e) {\n        return Promise.resolve(this.popSync(e));\n      }\n    }, {\n      key: \"addUserToRoom\",\n      value: function (e, t) {\n        return Promise.all([this.get(e).then(function (e) {\n          return e.userIds = Se(V(t, e.userIds)), e;\n        }), this.userStore.fetchMissingUser(t)]).then(function (e) {\n          return xe(e, 1)[0];\n        });\n      }\n    }, {\n      key: \"removeUserFromRoom\",\n      value: function (e, t) {\n        return this.get(e).then(function (e) {\n          return e.userIds = e.userIds.filter(function (e) {\n            return e !== t;\n          }), e;\n        });\n      }\n    }, {\n      key: \"updateSync\",\n      value: function (e, t) {\n        var n = this.getSync(e);\n\n        for (var r in t) n[r] = t[r];\n\n        return n;\n      }\n    }, {\n      key: \"update\",\n      value: function (e, t) {\n        var n = this;\n        return Promise.all([this.get(e).then(function () {\n          return n.updateSync(e, t);\n        }), this.userStore.fetchMissingUsers(t.userIds || [])]).then(function (e) {\n          return xe(e, 1)[0];\n        });\n      }\n    }, {\n      key: \"fetchBasicRoom\",\n      value: function (e) {\n        var t = this;\n        return this.instance.request({\n          method: \"GET\",\n          path: \"/rooms/\" + encodeURIComponent(e)\n        }).then(K(JSON.parse, Ve)).catch(function (n) {\n          t.logger.warn(\"error fetching details for room \" + e + \":\", n);\n        });\n      }\n    }, {\n      key: \"snapshot\",\n      value: function () {\n        return this.rooms;\n      }\n    }, {\n      key: \"getSync\",\n      value: function (e) {\n        return this.rooms[e];\n      }\n    }, {\n      key: \"decorate\",\n      value: function (e) {\n        return e ? new et({\n          basicRoom: e,\n          userStore: this.userStore,\n          isSubscribedTo: this.isSubscribedTo,\n          logger: this.logger\n        }) : void 0;\n      }\n    }]), e;\n  }(),\n      nt = function () {\n    function e(t, n, r) {\n      Oe(this, e), this.position = t.position, this.updatedAt = t.updatedAt, this.userId = t.userId, this.roomId = t.roomId, this.type = t.type, this.userStore = n, this.roomStore = r;\n    }\n\n    return Pe(e, [{\n      key: \"user\",\n      get: function () {\n        return this.userStore.getSync(this.userId);\n      }\n    }, {\n      key: \"room\",\n      get: function () {\n        return this.roomStore.getSync(this.roomId);\n      }\n    }]), e;\n  }(),\n      rt = function () {\n    function e(t) {\n      var n = t.instance,\n          r = t.userStore,\n          o = t.roomStore,\n          i = t.logger;\n      Oe(this, e), this.instance = n, this.userStore = r, this.roomStore = o, this.logger = i, this.cursors = {}, this.set = this.set.bind(this), this.get = this.get.bind(this), this.getSync = this.getSync.bind(this), this.fetchBasicCursor = this.fetchBasicCursor.bind(this), this.decorate = this.decorate.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"set\",\n      value: function (e) {\n        var t = this,\n            n = ot(e.userId, e.roomId);\n        return this.cursors[n] = this.decorate(e), this.userStore.fetchMissingUser(e.userId).then(function () {\n          return t.cursors[n];\n        });\n      }\n    }, {\n      key: \"get\",\n      value: function (e, t) {\n        var n = this,\n            r = ot(e, t);\n        return this.cursors[r] ? Promise.resolve(this.cursors[r]) : this.fetchBasicCursor(e, t).then(function (e) {\n          return n.set(e);\n        });\n      }\n    }, {\n      key: \"getSync\",\n      value: function (e, t) {\n        return this.cursors[ot(e, t)];\n      }\n    }, {\n      key: \"fetchBasicCursor\",\n      value: function (e, t) {\n        var n = this;\n        return this.instance.request({\n          method: \"GET\",\n          path: \"/cursors/0/rooms/\" + encodeURIComponent(t) + \"/users/\" + encodeURIComponent(e)\n        }).then(function (e) {\n          var t = JSON.parse(e);\n          if (t) return Je(t);\n        }).catch(function (e) {\n          throw n.logger.warn(\"error fetching cursor:\", e), e;\n        });\n      }\n    }, {\n      key: \"decorate\",\n      value: function (e) {\n        return e ? new nt(e, this.userStore, this.roomStore) : void 0;\n      }\n    }]), e;\n  }(),\n      ot = function (e, t) {\n    return encodeURIComponent(e) + \"/\" + encodeURIComponent(t);\n  },\n      it = function () {\n    function e(t) {\n      var n = t.hooks,\n          r = t.instance,\n          o = t.logger;\n      Oe(this, e), this.hooks = n, this.instance = r, this.logger = o, this.lastSentRequests = {}, this.timers = {}, this.sendThrottledRequest = this.sendThrottledRequest.bind(this), this.onIsTyping = this.onIsTyping.bind(this), this.onStarted = this.onStarted.bind(this), this.onStopped = this.onStopped.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"sendThrottledRequest\",\n      value: function (e) {\n        var t = this,\n            n = Date.now(),\n            r = this.lastSentRequests[e];\n        return r && n - r < 1e3 ? Promise.resolve() : (this.lastSentRequests[e] = n, this.instance.request({\n          method: \"POST\",\n          path: \"/rooms/\" + encodeURIComponent(e) + \"/typing_indicators\"\n        }).catch(function (n) {\n          throw delete t.typingRequestSent[e], t.logger.warn(\"Error sending typing indicator in room \" + e, n), n;\n        }));\n      }\n    }, {\n      key: \"onIsTyping\",\n      value: function (e, t) {\n        var n = this;\n        this.timers[e.id] || (this.timers[e.id] = {}), this.timers[e.id][t.id] ? clearTimeout(this.timers[e.id][t.id]) : this.onStarted(e, t), this.timers[e.id][t.id] = setTimeout(function () {\n          n.onStopped(e, t), delete n.timers[e.id][t.id];\n        }, 1500);\n      }\n    }, {\n      key: \"onStarted\",\n      value: function (e, t) {\n        this.hooks.global.onUserStartedTyping && this.hooks.global.onUserStartedTyping(e, t), this.hooks.rooms[e.id] && this.hooks.rooms[e.id].onUserStartedTyping && this.hooks.rooms[e.id].onUserStartedTyping(t);\n      }\n    }, {\n      key: \"onStopped\",\n      value: function (e, t) {\n        this.hooks.global.onUserStoppedTyping && this.hooks.global.onUserStoppedTyping(e, t), this.hooks.rooms[e.id] && this.hooks.rooms[e.id].onUserStoppedTyping && this.hooks.rooms[e.id].onUserStoppedTyping(t);\n      }\n    }]), e;\n  }();\n\n  function st(e) {\n    var t = e.basicCursors,\n        n = e.cursorStore,\n        r = e.onNewCursorHook;\n    return Promise.all(t.map(function (e) {\n      var t = n.getSync(e.userId, e.roomId);\n      if (!t || t.position !== e.position) return n.set(e).then(function (e) {\n        r && r(e);\n      });\n    }));\n  }\n\n  var at = function () {\n    function e(t) {\n      Oe(this, e), this.userId = t.userId, this.hooks = t.hooks, this.instance = t.instance, this.roomStore = t.roomStore, this.cursorStore = t.cursorStore, this.roomSubscriptions = t.roomSubscriptions, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.currentUser = t.currentUser, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onInitialState = this.onInitialState.bind(this), this.onAddedToRoom = this.onAddedToRoom.bind(this), this.onRemovedFromRoom = this.onRemovedFromRoom.bind(this), this.onRoomUpdated = this.onRoomUpdated.bind(this), this.onRoomDeleted = this.onRoomDeleted.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"user subscription timed out\"));\n          }, e.connectionTimeout), e.onSubscriptionEstablished = function (n) {\n            clearTimeout(e.timeout), t(n);\n          }, e.sub = e.instance.subscribeNonResuming({\n            path: \"/users\",\n            listeners: {\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling user subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"initial_state\":\n            this.onInitialState(t.data);\n            break;\n\n          case \"added_to_room\":\n            this.onAddedToRoom(t.data);\n            break;\n\n          case \"removed_from_room\":\n            this.onRemovedFromRoom(t.data);\n            break;\n\n          case \"room_updated\":\n            this.onRoomUpdated(t.data);\n            break;\n\n          case \"room_deleted\":\n            this.onRoomDeleted(t.data);\n            break;\n\n          case \"new_cursor\":\n            this.onNewCursor(t.data);\n        }\n      }\n    }, {\n      key: \"onInitialState\",\n      value: function (e) {\n        var t = e.current_user,\n            n = e.rooms,\n            r = e.cursors,\n            o = Fe(t),\n            i = n.map(function (e) {\n          return Ve(e);\n        }),\n            s = r.map(function (e) {\n          return Je(e);\n        });\n        this.established ? function (e) {\n          var t = e.basicUser,\n              n = e.basicRooms,\n              r = e.basicCursors,\n              o = e.currentUser,\n              i = e.roomStore,\n              s = e.cursorStore,\n              a = e.hooks;\n          o.setPropertiesFromBasicUser(t);\n          var u = !0,\n              c = !1,\n              h = void 0;\n\n          try {\n            for (var l, d = n[Symbol.iterator](); !(u = (l = d.next()).done); u = !0) {\n              var f = l.value,\n                  p = i.getSync(f.id);\n\n              if (!p) {\n                var g = i.setSync(f);\n                a.global.onAddedToRoom && a.global.onAddedToRoom(g);\n              }\n\n              p && !p.eq(f) && (i.updateSync(f.id, f), a.global.onRoomUpdated && a.global.onRoomUpdated(p));\n            }\n          } catch (e) {\n            c = !0, h = e;\n          } finally {\n            try {\n              !u && d.return && d.return();\n            } finally {\n              if (c) throw h;\n            }\n          }\n\n          var v = function (e) {\n            if (!n.some(function (t) {\n              return t.id === e;\n            })) {\n              var t = i.popSync(e);\n              a.global.onRemovedFromRoom && a.global.onRemovedFromRoom(t);\n            }\n          };\n\n          for (var m in i.snapshot()) v(m);\n\n          st({\n            basicCursors: r,\n            cursorStore: s,\n            onNewCursorHook: a.global.onNewReadCursor\n          });\n        }({\n          basicUser: o,\n          basicRooms: i,\n          basicCursors: s,\n          currentUser: this.currentUser,\n          roomStore: this.roomStore,\n          cursorStore: this.cursorStore,\n          hooks: this.hooks\n        }) : (this.established = !0, this.onSubscriptionEstablished({\n          basicUser: o,\n          basicRooms: i,\n          basicCursors: s\n        }));\n      }\n    }, {\n      key: \"onAddedToRoom\",\n      value: function (e) {\n        var t = this,\n            n = e.room;\n        this.roomStore.set(Ve(n)).then(function (e) {\n          t.hooks.global.onAddedToRoom && t.hooks.global.onAddedToRoom(e);\n        });\n      }\n    }, {\n      key: \"onRemovedFromRoom\",\n      value: function (e) {\n        var t = this,\n            n = e.room_id;\n        this.roomStore.pop(n).then(function (e) {\n          e && t.hooks.global.onRemovedFromRoom && t.hooks.global.onRemovedFromRoom(e);\n        });\n      }\n    }, {\n      key: \"onRoomUpdated\",\n      value: function (e) {\n        var t = this,\n            n = e.room,\n            r = Ve(n);\n        this.roomStore.update(r.id, r).then(function (e) {\n          t.hooks.global.onRoomUpdated && t.hooks.global.onRoomUpdated(e);\n        });\n      }\n    }, {\n      key: \"onRoomDeleted\",\n      value: function (e) {\n        var t = this,\n            n = e.room_id;\n        this.roomStore.pop(n).then(function (e) {\n          e && t.hooks.global.onRoomDeleted && t.hooks.global.onRoomDeleted(e);\n        });\n      }\n    }, {\n      key: \"onNewCursor\",\n      value: function (e) {\n        var t = this;\n        return this.cursorStore.set(Je(e)).then(function (e) {\n          t.hooks.global.onNewReadCursor && 0 === e.type && t.hooks.global.onNewReadCursor(e);\n        });\n      }\n    }]), e;\n  }(),\n      ut = function () {\n    function e(t) {\n      Oe(this, e), this.userId = t.userId, this.instance = t.instance, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout;\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"presence subscription timed out\"));\n          }, e.connectionTimeout), e.sub = e.instance.subscribeNonResuming({\n            path: \"/users/\" + encodeURIComponent(e.userId) + \"/register\",\n            listeners: {\n              onOpen: function () {\n                clearTimeout(e.timeout), t();\n              },\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              }\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling presence subscription\", e);\n        }\n      }\n    }]), e;\n  }(),\n      ct = function () {\n    function e(t) {\n      Oe(this, e), this.userId = t.userId, this.hooks = t.hooks, this.instance = t.instance, this.userStore = t.userStore, this.roomStore = t.roomStore, this.presenceStore = t.presenceStore, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onPresenceState = this.onPresenceState.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"user presence subscription timed out\"));\n          }, e.connectionTimeout), e.onSubscriptionEstablished = function () {\n            clearTimeout(e.timeout), t();\n          }, e.sub = e.instance.subscribeNonResuming({\n            path: \"/users/\" + encodeURIComponent(e.userId),\n            listeners: {\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling user presence subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"presence_state\":\n            this.onPresenceState(t.data);\n        }\n      }\n    }, {\n      key: \"onPresenceState\",\n      value: function (e) {\n        var t = this;\n        this.onSubscriptionEstablished();\n\n        var n = this.presenceStore[this.userId] || \"unknown\",\n            r = function (e) {\n          return {\n            state: [\"online\", \"offline\"].includes(e.state) ? e.state : \"unknown\"\n          };\n        }(e).state;\n\n        r !== n && (this.presenceStore[this.userId] = r, this.userStore.get(this.userId).then(function (e) {\n          t.hooks.global.onPresenceChanged && t.hooks.global.onPresenceChanged({\n            current: r,\n            previous: n\n          }, e), $(fe(function (o) {\n            var i = xe(o, 2),\n                s = i[0],\n                a = i[1];\n            return t.roomStore.get(s).then(function (t) {\n              de(e.id, t.userIds) && a.onPresenceChanged({\n                current: r,\n                previous: n\n              }, e);\n            });\n          }), ce(function (e) {\n            return void 0 !== e[1].onPresenceChanged;\n          }), Re)(t.hooks.rooms);\n        }));\n      }\n    }]), e;\n  }(),\n      ht = function () {\n    function e(t) {\n      Oe(this, e), this.onNewCursorHook = t.onNewCursorHook, this.roomId = t.roomId, this.cursorStore = t.cursorStore, this.instance = t.instance, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onInitialState = this.onInitialState.bind(this), this.onNewCursor = this.onNewCursor.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"cursor subscription timed out\"));\n          }, e.connectionTimeout), e.onSubscriptionEstablished = function (n) {\n            clearTimeout(e.timeout), t(n);\n          }, e.sub = e.instance.subscribeNonResuming({\n            path: \"/cursors/0/rooms/\" + encodeURIComponent(e.roomId),\n            listeners: {\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling cursor subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"initial_state\":\n            this.onInitialState(t.data);\n            break;\n\n          case \"new_cursor\":\n            this.onNewCursor(t.data);\n        }\n      }\n    }, {\n      key: \"onInitialState\",\n      value: function (e) {\n        var t = this,\n            n = e.cursors.map(function (e) {\n          return Je(e);\n        });\n        this.established ? st({\n          basicCursors: n,\n          cursorStore: this.cursorStore,\n          onNewCursorHook: this.onNewCursorHook\n        }) : (this.established = !0, Promise.all(n.map(function (e) {\n          return t.cursorStore.set(e);\n        })).then(this.onSubscriptionEstablished));\n      }\n    }, {\n      key: \"onNewCursor\",\n      value: function (e) {\n        var t = this;\n        return this.cursorStore.set(Je(e)).then(function (e) {\n          return t.onNewCursorHook(e);\n        });\n      }\n    }]), e;\n  }(),\n      lt = function () {\n    function e(t, n, r) {\n      Oe(this, e), this.type = t.type, this.name = t.name, this.size = t.size, void 0 !== t.customData && (this.customData = t.customData), this._id = t._id, this._downloadURL = t._downloadURL, this._expiration = t._expiration, this._roomId = n, this._instance = r, this.url = this.url.bind(this), this.urlExpiry = this.urlExpiry.bind(this), this._fetchNewDownloadURL = this._fetchNewDownloadURL.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"url\",\n      value: function () {\n        return this.urlExpiry().getTime() - Date.now() < 18e5 ? this._fetchNewDownloadURL() : Promise.resolve(this._downloadURL);\n      }\n    }, {\n      key: \"urlExpiry\",\n      value: function () {\n        return this._expiration;\n      }\n    }, {\n      key: \"_fetchNewDownloadURL\",\n      value: function () {\n        var e = this;\n        return this._instance.request({\n          method: \"GET\",\n          path: \"rooms/\" + encodeURIComponent(this._roomId) + \"/attachments/\" + this._id\n        }).then(function (t) {\n          var n = JSON.parse(t),\n              r = n.download_url,\n              o = n.expiration;\n          return e._downloadURL = r, e._expiration = new Date(o), e._downloadURL;\n        });\n      }\n    }]), e;\n  }(),\n      dt = function () {\n    function e(t, n, r, o) {\n      var i = this;\n      Oe(this, e), this.id = t.id, this.senderId = t.senderId, this.roomId = t.roomId, this.createdAt = t.createdAt, this.updatedAt = t.updatedAt, this.deletedAt = t.deletedAt, t.parts ? this.parts = t.parts.map(function (e) {\n        var t = e.partType,\n            n = e.payload;\n        return \"attachment\" === t ? {\n          partType: t,\n          payload: new lt(n, i.roomId, o)\n        } : {\n          partType: t,\n          payload: n\n        };\n      }) : (this.text = t.text, t.attachment && (this.attachment = t.attachment)), this.userStore = n, this.roomStore = r;\n    }\n\n    return Pe(e, [{\n      key: \"sender\",\n      get: function () {\n        return this.userStore.getSync(this.senderId);\n      }\n    }, {\n      key: \"room\",\n      get: function () {\n        return this.roomStore.getSync(this.roomId);\n      }\n    }]), e;\n  }(),\n      ft = function () {\n    function e(t) {\n      Oe(this, e), this.roomId = t.roomId, this.messageLimit = t.messageLimit, this.userId = t.userId, this.instance = t.instance, this.userStore = t.userStore, this.roomStore = t.roomStore, this.typingIndicators = t.typingIndicators, this.messageBuffer = [], this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.onMessageHook = t.onMessageHook, this.onMessageDeletedHook = t.onMessageDeletedHook, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onMessage = this.onMessage.bind(this), this.onMessageDeleted = this.onMessageDeleted.bind(this), this.flushBuffer = this.flushBuffer.bind(this), this.onIsTyping = this.onIsTyping.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"message subscription timed out\"));\n          }, e.connectionTimeout), e.sub = e.instance.subscribeResuming({\n            path: \"/rooms/\" + encodeURIComponent(e.roomId) + \"?\" + Me({\n              message_limit: e.messageLimit\n            }),\n            listeners: {\n              onOpen: function () {\n                clearTimeout(e.timeout), t();\n              },\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling message subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"new_message\":\n            this.onMessage(t.data);\n            break;\n\n          case \"message_deleted\":\n            this.onMessageDeleted(t.data);\n            break;\n\n          case \"is_typing\":\n            this.onIsTyping(t.data);\n        }\n      }\n    }, {\n      key: \"onMessage\",\n      value: function (e) {\n        var t = this,\n            n = {\n          message: new dt(Ge(e), this.userStore, this.roomStore, this.instance),\n          ready: !1\n        };\n        this.messageBuffer.push(n), this.userStore.fetchMissingUser(n.message.senderId).catch(function (e) {\n          t.logger.error(\"error fetching missing user information:\", e);\n        }).then(function () {\n          n.ready = !0, t.flushBuffer();\n        });\n      }\n    }, {\n      key: \"onMessageDeleted\",\n      value: function (e) {\n        this.onMessageDeletedHook(e.message_id);\n      }\n    }, {\n      key: \"flushBuffer\",\n      value: function () {\n        for (; this.messageBuffer.length > 0 && this.messageBuffer[0].ready;) this.onMessageHook(this.messageBuffer.shift().message);\n      }\n    }, {\n      key: \"onIsTyping\",\n      value: function (e) {\n        var t = this,\n            n = e.user_id;\n        n !== this.userId && Promise.all([this.roomStore.get(this.roomId), this.userStore.get(n)]).then(function (e) {\n          var n = xe(e, 2),\n              r = n[0],\n              o = n[1];\n          return t.typingIndicators.onIsTyping(r, o);\n        });\n      }\n    }]), e;\n  }(),\n      pt = function () {\n    function e(t) {\n      Oe(this, e), this.roomId = t.roomId, this.instance = t.instance, this.userStore = t.userStore, this.roomStore = t.roomStore, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.onUserJoinedRoomHook = t.onUserJoinedRoomHook, this.onUserLeftRoomHook = t.onUserLeftRoomHook, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onInitialState = this.onInitialState.bind(this), this.onUserJoined = this.onUserJoined.bind(this), this.onUserLeft = this.onUserLeft.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"membership subscription timed out\"));\n          }, e.connectionTimeout), e.onSubscriptionEstablished = function (n) {\n            clearTimeout(e.timeout), t(n);\n          }, e.sub = e.instance.subscribeNonResuming({\n            path: \"/rooms/\" + encodeURIComponent(e.roomId) + \"/memberships\",\n            listeners: {\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling membership subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"initial_state\":\n            this.onInitialState(t.data);\n            break;\n\n          case \"user_joined\":\n            this.onUserJoined(t.data);\n            break;\n\n          case \"user_left\":\n            this.onUserLeft(t.data);\n        }\n      }\n    }, {\n      key: \"onInitialState\",\n      value: function (e) {\n        var t = this,\n            n = e.user_ids;\n        this.established ? function (e) {\n          var t = e.userIds,\n              n = e.roomId,\n              r = e.roomStore,\n              o = e.userStore,\n              i = e.onUserJoinedRoomHook,\n              s = e.onUserLeftRoomHook;\n          o.fetchMissingUsers(t).then(function () {\n            var e = r.getSync(n);\n            return t.filter(function (t) {\n              return !e.userIds.includes(t);\n            }).forEach(function (t) {\n              return o.get(t).then(function (t) {\n                return i(e, t);\n              });\n            }), e.userIds.filter(function (e) {\n              return !t.includes(e);\n            }).forEach(function (t) {\n              return o.get(t).then(function (t) {\n                return s(e, t);\n              });\n            }), r.update(n, {\n              userIds: t\n            });\n          });\n        }({\n          userIds: n,\n          roomId: this.roomId,\n          roomStore: this.roomStore,\n          userStore: this.userStore,\n          onUserJoinedRoomHook: this.onUserJoinedRoomHook,\n          onUserLeftRoomHook: this.onUserLeftRoomHook\n        }) : (this.established = !0, this.roomStore.update(this.roomId, {\n          userIds: n\n        }).then(function () {\n          t.onSubscriptionEstablished();\n        }));\n      }\n    }, {\n      key: \"onUserJoined\",\n      value: function (e) {\n        var t = this,\n            n = e.user_id;\n        this.roomStore.addUserToRoom(this.roomId, n).then(function (e) {\n          return t.userStore.get(n).then(function (n) {\n            return t.onUserJoinedRoomHook(e, n);\n          });\n        });\n      }\n    }, {\n      key: \"onUserLeft\",\n      value: function (e) {\n        var t = this,\n            n = e.user_id;\n        this.roomStore.removeUserFromRoom(this.roomId, n).then(function (e) {\n          return t.userStore.get(n).then(function (n) {\n            return t.onUserLeftRoomHook(e, n);\n          });\n        });\n      }\n    }]), e;\n  }(),\n      gt = function () {\n    function e(t) {\n      Oe(this, e), this.buffer = [], this.messageSub = new ft({\n        roomId: t.roomId,\n        messageLimit: t.messageLimit,\n        userId: t.userId,\n        instance: t.serverInstance,\n        userStore: t.userStore,\n        roomStore: t.roomStore,\n        typingIndicators: t.typingIndicators,\n        logger: t.logger,\n        connectionTimeout: t.connectionTimeout,\n        onMessageHook: this.bufferWhileConnecting(function (e) {\n          t.hooks.rooms[t.roomId] && t.hooks.rooms[t.roomId].onMessage && t.hooks.rooms[t.roomId].onMessage(e);\n        }),\n        onMessageDeletedHook: this.bufferWhileConnecting(function (e) {\n          t.hooks.rooms[t.roomId] && t.hooks.rooms[t.roomId].onMessageDeleted && t.hooks.rooms[t.roomId].onMessageDeleted(e);\n        })\n      }), this.cursorSub = new ht({\n        roomId: t.roomId,\n        cursorStore: t.cursorStore,\n        instance: t.cursorsInstance,\n        logger: t.logger,\n        connectionTimeout: t.connectionTimeout,\n        onNewCursorHook: this.bufferWhileConnecting(function (e) {\n          t.hooks.rooms[t.roomId] && t.hooks.rooms[t.roomId].onNewReadCursor && 0 === e.type && e.userId !== t.userId && t.hooks.rooms[t.roomId].onNewReadCursor(e);\n        })\n      }), this.membershipSub = new pt({\n        roomId: t.roomId,\n        instance: t.serverInstance,\n        userStore: t.userStore,\n        roomStore: t.roomStore,\n        logger: t.logger,\n        connectionTimeout: t.connectionTimeout,\n        onUserJoinedRoomHook: this.bufferWhileConnecting(function (e, n) {\n          t.hooks.global.onUserJoinedRoom && t.hooks.global.onUserJoinedRoom(e, n), t.hooks.rooms[e.id] && t.hooks.rooms[e.id].onUserJoined && t.hooks.rooms[e.id].onUserJoined(n);\n        }),\n        onUserLeftRoomHook: this.bufferWhileConnecting(function (e, n) {\n          t.hooks.global.onUserLeftRoom && t.hooks.global.onUserLeftRoom(e, n), t.hooks.rooms[e.id] && t.hooks.rooms[e.id].onUserLeft && t.hooks.rooms[e.id].onUserLeft(n);\n        })\n      });\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return this.cancelled ? Promise.reject(new Error(\"attempt to connect a cancelled room subscription\")) : Promise.all([this.messageSub.connect(), this.cursorSub.connect(), this.membershipSub.connect()]).then(function () {\n          return e.flushBuffer();\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        this.cancelled = !0, this.messageSub.cancel(), this.cursorSub.cancel(), this.membershipSub.cancel();\n      }\n    }, {\n      key: \"bufferWhileConnecting\",\n      value: function (e) {\n        var t = this;\n        return function () {\n          for (var n = arguments.length, r = Array(n), o = 0; o < n; o++) r[o] = arguments[o];\n\n          t.connected ? e.apply(void 0, r) : t.buffer.push(e.bind.apply(e, [t].concat(r)));\n        };\n      }\n    }, {\n      key: \"flushBuffer\",\n      value: function () {\n        this.connected = !0, this.buffer.forEach(function (e) {\n          return e();\n        }), delete this.buffer;\n      }\n    }]), e;\n  }(),\n      vt = function () {\n    function e(t) {\n      Oe(this, e), this.onNotificationHook = t.onNotificationHook, this.userId = t.userId, this.instance = t.instance, this.logger = t.logger, this.connectionTimeout = t.connectionTimeout, this.connect = this.connect.bind(this), this.cancel = this.cancel.bind(this), this.onEvent = this.onEvent.bind(this), this.onNotification = this.onNotification.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.timeout = setTimeout(function () {\n            n(new Error(\"notification subscription timed out\"));\n          }, e.connectionTimeout), e.sub = e.instance.subscribeNonResuming({\n            path: \"/users/\" + encodeURIComponent(e.userId),\n            listeners: {\n              onOpen: function () {\n                clearTimeout(e.timeout), t();\n              },\n              onError: function (t) {\n                clearTimeout(e.timeout), n(t);\n              },\n              onEvent: e.onEvent\n            }\n          });\n        });\n      }\n    }, {\n      key: \"cancel\",\n      value: function () {\n        clearTimeout(this.timeout);\n\n        try {\n          this.sub && this.sub.unsubscribe();\n        } catch (e) {\n          this.logger.debug(\"error when cancelling notification subscription\", e);\n        }\n      }\n    }, {\n      key: \"onEvent\",\n      value: function (e) {\n        var t = e.body;\n\n        switch (t.event_name) {\n          case \"push_notification\":\n            this.onNotification(t.data);\n        }\n      }\n    }, {\n      key: \"onNotification\",\n      value: function (e) {\n        this.onNotificationHook(e);\n      }\n    }]), e;\n  }();\n\n  var mt = function () {\n    function e(t) {\n      var n = this,\n          r = t.serverInstanceV2,\n          o = t.serverInstanceV6,\n          i = t.connectionTimeout,\n          s = t.cursorsInstance,\n          a = t.filesInstance,\n          u = t.hooks,\n          c = t.id,\n          h = t.presenceInstance,\n          l = t.beamsTokenProviderInstance,\n          d = t.pushNotificationsInstance,\n          f = t.beamsInstanceInitFn;\n      Oe(this, e), this.hooks = {\n        global: u,\n        rooms: {}\n      }, this.id = c, this.encodedId = encodeURIComponent(this.id), this.serverInstanceV2 = r, this.serverInstanceV6 = o, this.filesInstance = a, this.cursorsInstance = s, this.connectionTimeout = i, this.presenceInstance = h, this.beamsTokenProviderInstance = l, this.pushNotificationsInstance = d, this.beamsInstanceInitFn = f, this.logger = o.logger, this.presenceStore = {}, this.userStore = new Qe({\n        instance: this.serverInstanceV6,\n        presenceStore: this.presenceStore,\n        logger: this.logger\n      }), this.roomStore = new tt({\n        instance: this.serverInstanceV6,\n        userStore: this.userStore,\n        isSubscribedTo: function (e) {\n          return n.isSubscribedTo(e);\n        },\n        logger: this.logger\n      }), this.cursorStore = new rt({\n        instance: this.cursorsInstance,\n        userStore: this.userStore,\n        roomStore: this.roomStore,\n        logger: this.logger\n      }), this.typingIndicators = new it({\n        hooks: this.hooks,\n        instance: this.serverInstanceV6,\n        logger: this.logger\n      }), this.userStore.onSetHooks.push(function (e) {\n        return n.subscribeToUserPresence(e);\n      }), this.roomSubscriptions = {}, this.readCursorBuffer = {}, this.userPresenceSubscriptions = {}, this.setReadCursor = this.setReadCursor.bind(this), this.readCursor = this.readCursor.bind(this), this.isTypingIn = this.isTypingIn.bind(this), this.createRoom = this.createRoom.bind(this), this.getJoinableRooms = this.getJoinableRooms.bind(this), this.joinRoom = this.joinRoom.bind(this), this.leaveRoom = this.leaveRoom.bind(this), this.addUserToRoom = this.addUserToRoom.bind(this), this.removeUserFromRoom = this.removeUserFromRoom.bind(this), this.sendMessage = this.sendMessage.bind(this), this.sendSimpleMessage = this.sendSimpleMessage.bind(this), this.sendMultipartMessage = this.sendMultipartMessage.bind(this), this.fetchMessages = this.fetchMessages.bind(this), this.fetchMultipartMessages = this.fetchMultipartMessages.bind(this), this.subscribeToRoom = this.subscribeToRoom.bind(this), this.subscribeToRoomMultipart = this.subscribeToRoomMultipart.bind(this), this.updateRoom = this.updateRoom.bind(this), this.deleteRoom = this.deleteRoom.bind(this), this.setReadCursorRequest = this.setReadCursorRequest.bind(this), this.uploadDataAttachment = this.uploadDataAttachment.bind(this), this.isMemberOf = this.isMemberOf.bind(this), this.isSubscribedTo = this.isSubscribedTo.bind(this), this.decorateMessage = this.decorateMessage.bind(this), this.setPropertiesFromBasicUser = this.setPropertiesFromBasicUser.bind(this), this.establishUserSubscription = this.establishUserSubscription.bind(this), this.establishPresenceSubscription = this.establishPresenceSubscription.bind(this), this.subscribeToUserPresence = this.subscribeToUserPresence.bind(this), this.disconnect = this.disconnect.bind(this), this._uploadAttachment = this._uploadAttachment.bind(this);\n    }\n\n    return Pe(e, [{\n      key: \"setReadCursor\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.roomId,\n            r = t.position;\n        return Ae(\"roomId\", \"string\", n), Ae(\"position\", \"number\", r), new Promise(function (t, o) {\n          void 0 !== e.readCursorBuffer[n] ? (e.readCursorBuffer[n].position = b(e.readCursorBuffer[n].position, r), e.readCursorBuffer[n].callbacks.push({\n            resolve: t,\n            reject: o\n          })) : (e.readCursorBuffer[n] = {\n            position: r,\n            callbacks: [{\n              resolve: t,\n              reject: o\n            }]\n          }, setTimeout(function () {\n            e.setReadCursorRequest(Ne({\n              roomId: n\n            }, e.readCursorBuffer[n])), delete e.readCursorBuffer[n];\n          }, 500));\n        });\n      }\n    }, {\n      key: \"readCursor\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = e.roomId,\n            n = e.userId,\n            r = void 0 === n ? this.id : n;\n\n        if (Ae(\"roomId\", \"string\", t), Ae(\"userId\", \"string\", r), r !== this.id && !this.isSubscribedTo(t)) {\n          var o = new Error(\"Must be subscribed to room \" + t + \" to access member's read cursors\");\n          throw this.logger.error(o), o;\n        }\n\n        return this.cursorStore.getSync(r, t);\n      }\n    }, {\n      key: \"isTypingIn\",\n      value: function () {\n        var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).roomId;\n        return Ae(\"roomId\", \"string\", e), this.typingIndicators.sendThrottledRequest(e);\n      }\n    }, {\n      key: \"createRoom\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.id,\n            r = t.name,\n            o = t.pushNotificationTitleOverride,\n            i = t.addUserIds,\n            s = t.customData,\n            a = Ue(t, [\"id\", \"name\", \"pushNotificationTitleOverride\", \"addUserIds\", \"customData\"]);\n        return n && Ae(\"id\", \"string\", n), r && Ae(\"name\", \"string\", r), o && Ae(\"pushNotificationTitleOverride\", \"string\", o), i && Le(\"addUserIds\", \"string\", i), s && Ae(\"customData\", \"object\", s), this.serverInstanceV6.request({\n          method: \"POST\",\n          path: \"/rooms\",\n          json: {\n            id: n,\n            created_by_id: this.id,\n            name: r,\n            push_notification_title_override: o,\n            private: !!a.private,\n            user_ids: i,\n            custom_data: s\n          }\n        }).then(function (t) {\n          return e.roomStore.set(Ve(JSON.parse(t)));\n        }).catch(function (t) {\n          throw e.logger.warn(\"error creating room:\", t), t;\n        });\n      }\n    }, {\n      key: \"getJoinableRooms\",\n      value: function () {\n        var e = this;\n        return this.serverInstanceV6.request({\n          method: \"GET\",\n          path: \"/users/\" + this.encodedId + \"/rooms?joinable=true\"\n        }).then(K(JSON.parse, L(Ve))).catch(function (t) {\n          throw e.logger.warn(\"error getting joinable rooms:\", t), t;\n        });\n      }\n    }, {\n      key: \"joinRoom\",\n      value: function () {\n        var e = this,\n            t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).roomId;\n        return Ae(\"roomId\", \"string\", t), this.isMemberOf(t) ? this.roomStore.get(t) : this.serverInstanceV6.request({\n          method: \"POST\",\n          path: \"/users/\" + this.encodedId + \"/rooms/\" + encodeURIComponent(t) + \"/join\"\n        }).then(function (t) {\n          return e.roomStore.set(Ve(JSON.parse(t)));\n        }).catch(function (n) {\n          throw e.logger.warn(\"error joining room \" + t + \":\", n), n;\n        });\n      }\n    }, {\n      key: \"leaveRoom\",\n      value: function () {\n        var e = this,\n            t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).roomId;\n        return Ae(\"roomId\", \"string\", t), this.roomStore.get(t).then(function (n) {\n          return e.serverInstanceV6.request({\n            method: \"POST\",\n            path: \"/users/\" + e.encodedId + \"/rooms/\" + encodeURIComponent(t) + \"/leave\"\n          }).then(function () {\n            return n;\n          });\n        }).catch(function (n) {\n          throw e.logger.warn(\"error leaving room \" + t + \":\", n), n;\n        });\n      }\n    }, {\n      key: \"addUserToRoom\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.userId,\n            r = t.roomId;\n        return Ae(\"userId\", \"string\", n), Ae(\"roomId\", \"string\", r), this.serverInstanceV6.request({\n          method: \"PUT\",\n          path: \"/rooms/\" + encodeURIComponent(r) + \"/users/add\",\n          json: {\n            user_ids: [n]\n          }\n        }).then(function () {\n          return e.roomStore.addUserToRoom(r, n);\n        }).catch(function (t) {\n          throw e.logger.warn(\"error adding user \" + n + \" to room \" + r + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"removeUserFromRoom\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.userId,\n            r = t.roomId;\n        return Ae(\"userId\", \"string\", n), Ae(\"roomId\", \"string\", r), this.serverInstanceV6.request({\n          method: \"PUT\",\n          path: \"/rooms/\" + encodeURIComponent(r) + \"/users/remove\",\n          json: {\n            user_ids: [n]\n          }\n        }).then(function () {\n          return e.roomStore.removeUserFromRoom(r, n);\n        }).catch(function (t) {\n          throw e.logger.warn(\"error removing user \" + n + \" from room \" + r + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.text,\n            r = t.roomId,\n            o = t.attachment;\n        return Ae(\"text\", \"string\", n), Ae(\"roomId\", \"string\", r), new Promise(function (t, n) {\n          void 0 !== o && bt(o) ? t(e.uploadDataAttachment(r, o)) : void 0 !== o && yt(o) ? t({\n            resource_link: o.link,\n            type: o.type\n          }) : void 0 !== o ? n(new TypeError(\"attachment was malformed\")) : t();\n        }).then(function (t) {\n          return e.serverInstanceV2.request({\n            method: \"POST\",\n            path: \"/rooms/\" + encodeURIComponent(r) + \"/messages\",\n            json: {\n              text: n,\n              attachment: t\n            }\n          });\n        }).then(K(JSON.parse, B(\"message_id\"))).catch(function (t) {\n          throw e.logger.warn(\"error sending message to room \" + r + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"sendSimpleMessage\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = e.roomId,\n            n = e.text;\n        return this.sendMultipartMessage({\n          roomId: t,\n          parts: [{\n            type: \"text/plain\",\n            content: n\n          }]\n        });\n      }\n    }, {\n      key: \"sendMultipartMessage\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.roomId,\n            r = t.parts;\n        return Ae(\"roomId\", \"string\", n), Le(\"parts\", \"object\", r), 0 === r.length ? Promise.reject(new TypeError(\"message must contain at least one part\")) : Promise.all(r.map(function (t) {\n          return t.type = t.type || t.file && t.file.type, Ae(\"part.type\", \"string\", t.type), t.content && Ae(\"part.content\", \"string\", t.content), t.url && Ae(\"part.url\", \"string\", t.url), t.name && Ae(\"part.name\", \"string\", t.name), t.file && Ae(\"part.file.size\", \"number\", t.file.size), t.file ? e._uploadAttachment({\n            roomId: n,\n            part: t\n          }) : t;\n        })).then(function (t) {\n          return e.serverInstanceV6.request({\n            method: \"POST\",\n            path: \"/rooms/\" + encodeURIComponent(n) + \"/messages\",\n            json: {\n              parts: t.map(function (e) {\n                return {\n                  type: e.type,\n                  content: e.content,\n                  url: e.url,\n                  attachment: e.attachment\n                };\n              })\n            }\n          });\n        }).then(function (e) {\n          return JSON.parse(e).message_id;\n        }).catch(function (t) {\n          throw e.logger.warn(\"error sending message to room \" + n + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"fetchMessages\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.roomId,\n            r = t.initialId,\n            o = t.limit,\n            i = t.direction,\n            s = t.serverInstance;\n        return Ae(\"roomId\", \"string\", n), r && Ae(\"initialId\", \"number\", r), o && Ae(\"limit\", \"number\", o), i && function (e, t, n) {\n          if (!de(n, t)) throw new TypeError(\"expected \" + e + \" to be one of \" + t + \" but was \" + n);\n        }(\"direction\", [\"older\", \"newer\"], i), (s || this.serverInstanceV2).request({\n          method: \"GET\",\n          path: \"/rooms/\" + encodeURIComponent(n) + \"/messages?\" + Me({\n            initial_id: r,\n            limit: o,\n            direction: i\n          })\n        }).then(function (t) {\n          var n = JSON.parse(t).map(function (t) {\n            return e.decorateMessage(Ge(t));\n          });\n          return e.userStore.fetchMissingUsers(Se(L(B(\"senderId\"), n))).then(function () {\n            return Ie(function (e, t) {\n              return e.id - t.id;\n            }, n);\n          });\n        }).catch(function (t) {\n          throw e.logger.warn(\"error fetching messages from room \" + n + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"fetchMultipartMessages\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        return this.fetchMessages(Ne({}, e, {\n          serverInstance: this.serverInstanceV6\n        }));\n      }\n    }, {\n      key: \"subscribeToRoom\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.roomId,\n            r = t.hooks,\n            o = void 0 === r ? {} : r,\n            i = t.messageLimit,\n            s = t.serverInstance;\n        Ae(\"roomId\", \"string\", n), qe(\"hooks\", \"function\", o), !s && o.onMessageDeleted && this.logger.warn(\"`subscribeToRoom` does not support the `onMessageDeleted` hook. Please use `subscribeToRoomMultipart` instead.\"), i && Ae(\"messageLimit\", \"number\", i), this.roomSubscriptions[n] && this.roomSubscriptions[n].cancel(), this.hooks.rooms[n] = o;\n        var a = new gt({\n          serverInstance: s || this.serverInstanceV2,\n          connectionTimeout: this.connectionTimeout,\n          cursorStore: this.cursorStore,\n          cursorsInstance: this.cursorsInstance,\n          hooks: this.hooks,\n          logger: this.logger,\n          messageLimit: i,\n          roomId: n,\n          roomStore: this.roomStore,\n          typingIndicators: this.typingIndicators,\n          userId: this.id,\n          userStore: this.userStore\n        });\n        return this.roomSubscriptions[n] = a, this.joinRoom({\n          roomId: n\n        }).then(function (e) {\n          return a.connect().then(function () {\n            return e;\n          });\n        }).catch(function (t) {\n          throw e.logger.warn(\"error subscribing to room \" + n + \":\", t), t;\n        });\n      }\n    }, {\n      key: \"subscribeToRoomMultipart\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        return this.subscribeToRoom(Ne({}, e, {\n          serverInstance: this.serverInstanceV6\n        }));\n      }\n    }, {\n      key: \"updateRoom\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.roomId,\n            r = t.name,\n            o = t.pushNotificationTitleOverride,\n            i = t.customData,\n            s = Ue(t, [\"roomId\", \"name\", \"pushNotificationTitleOverride\", \"customData\"]);\n        return Ae(\"roomId\", \"string\", n), r && Ae(\"name\", \"string\", r), o && Ae(\"pushNotificationTitleOverride\", \"string\", o), s.private && Ae(\"private\", \"boolean\", s.private), i && Ae(\"customData\", \"object\", i), this.serverInstanceV6.request({\n          method: \"PUT\",\n          path: \"/rooms/\" + encodeURIComponent(n),\n          json: {\n            name: r,\n            push_notification_title_override: o,\n            private: s.private,\n            custom_data: i\n          }\n        }).then(function () {}).catch(function (t) {\n          throw e.logger.warn(\"error updating room:\", t), t;\n        });\n      }\n    }, {\n      key: \"deleteRoom\",\n      value: function () {\n        var e = this,\n            t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).roomId;\n        return Ae(\"roomId\", \"string\", t), this.serverInstanceV2.request({\n          method: \"DELETE\",\n          path: \"/rooms/\" + encodeURIComponent(t)\n        }).then(function () {}).catch(function (t) {\n          throw e.logger.warn(\"error deleting room:\", t), t;\n        });\n      }\n    }, {\n      key: \"setReadCursorRequest\",\n      value: function (e) {\n        var t = this,\n            n = e.roomId,\n            r = e.position,\n            o = e.callbacks;\n        return this.cursorsInstance.request({\n          method: \"PUT\",\n          path: \"/cursors/0/rooms/\" + encodeURIComponent(n) + \"/users/\" + this.encodedId,\n          json: {\n            position: r\n          }\n        }).then(function () {\n          return L(function (e) {\n            return e.resolve();\n          }, o);\n        }).catch(function (e) {\n          t.logger.warn(\"error setting cursor:\", e), L(function (t) {\n            return t.reject(e);\n          }, o);\n        });\n      }\n    }, {\n      key: \"uploadDataAttachment\",\n      value: function (e, t) {\n        var n = t.file,\n            r = t.name,\n            o = new FormData();\n        return o.append(\"file\", n, r), this.filesInstance.request({\n          method: \"POST\",\n          path: \"/rooms/\" + encodeURIComponent(e) + \"/users/\" + this.encodedId + \"/files/\" + encodeURIComponent(r),\n          body: o\n        }).then(JSON.parse);\n      }\n    }, {\n      key: \"_uploadAttachment\",\n      value: function (e) {\n        var t = e.roomId,\n            n = e.part,\n            r = n.type,\n            o = n.name,\n            i = n.customData,\n            a = n.file;\n        return this.serverInstanceV6.request({\n          method: \"POST\",\n          path: \"/rooms/\" + encodeURIComponent(t) + \"/attachments\",\n          json: {\n            content_type: r,\n            content_length: a.size,\n            name: o || a.name,\n            custom_data: i\n          }\n        }).then(function (e) {\n          var t = JSON.parse(e),\n              n = t.attachment_id,\n              o = t.upload_url;\n          return s({\n            method: \"PUT\",\n            url: o,\n            body: a,\n            headers: {\n              \"content-type\": r\n            }\n          }).then(function () {\n            return {\n              type: r,\n              attachment: {\n                id: n\n              }\n            };\n          });\n        });\n      }\n    }, {\n      key: \"isMemberOf\",\n      value: function (e) {\n        return de(e, L(B(\"id\"), this.rooms));\n      }\n    }, {\n      key: \"isSubscribedTo\",\n      value: function (e) {\n        return ge(e, this.roomSubscriptions);\n      }\n    }, {\n      key: \"decorateMessage\",\n      value: function (e) {\n        return new dt(e, this.userStore, this.roomStore, this.serverInstanceV6);\n      }\n    }, {\n      key: \"setPropertiesFromBasicUser\",\n      value: function (e) {\n        this.avatarURL = e.avatarURL, this.createdAt = e.createdAt, this.customData = e.customData, this.name = e.name, this.updatedAt = e.updatedAt;\n      }\n    }, {\n      key: \"establishUserSubscription\",\n      value: function () {\n        var e = this;\n        return this.userSubscription = new at({\n          hooks: this.hooks,\n          userId: this.id,\n          instance: this.serverInstanceV6,\n          roomStore: this.roomStore,\n          cursorStore: this.cursorStore,\n          typingIndicators: this.typingIndicators,\n          logger: this.logger,\n          connectionTimeout: this.connectionTimeout,\n          currentUser: this\n        }), this.userSubscription.connect().then(function (t) {\n          var n = t.basicUser,\n              r = t.basicRooms,\n              o = t.basicCursors;\n          return e.setPropertiesFromBasicUser(n), Promise.all([].concat(Ce(r.map(function (t) {\n            return e.roomStore.set(t);\n          })), Ce(o.map(function (t) {\n            return e.cursorStore.set(t);\n          }))));\n        }).catch(function (t) {\n          throw e.logger.error(\"error establishing user subscription:\", t), t;\n        });\n      }\n    }, {\n      key: \"establishPresenceSubscription\",\n      value: function () {\n        var e = this;\n        return this.presenceSubscription = new ut({\n          userId: this.id,\n          instance: this.presenceInstance,\n          logger: this.logger,\n          connectionTimeout: this.connectionTimeout\n        }), Promise.all([this.userStore.fetchMissingUser(this.id), this.subscribeToUserPresence(this.id), this.presenceSubscription.connect().catch(function (t) {\n          throw e.logger.warn(\"error establishing presence subscription:\", t), t;\n        })]);\n      }\n    }, {\n      key: \"subscribeToUserPresence\",\n      value: function (e) {\n        if (this.userPresenceSubscriptions[e]) return Promise.resolve();\n        var t = new ct({\n          hooks: this.hooks,\n          userId: e,\n          instance: this.presenceInstance,\n          userStore: this.userStore,\n          roomStore: this.roomStore,\n          presenceStore: this.presenceStore,\n          logger: this.logger,\n          connectionTimeout: this.connectionTimeout\n        });\n        return this.userPresenceSubscriptions[e] = t, t.connect();\n      }\n    }, {\n      key: \"enablePushNotifications\",\n      value: function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.onClick,\n            r = t.serviceWorkerRegistration,\n            o = t.showNotificationsTabOpen,\n            i = void 0 === o || o,\n            s = t.showNotificationsTabClosed,\n            a = void 0 === s || s,\n            u = t._Notification,\n            c = void 0 === u ? Notification : u,\n            h = t._visibilityStateOverride;\n\n        try {\n          if (n && Ae(\"onClick\", \"function\", n), Ae(\"showNotificationsTabOpen\", \"boolean\", i), Ae(\"showNotificationsTabClosed\", \"boolean\", a), !this._hasPermissionToSendNotifications()) return Promise.reject(\"Failed to get permission to send notifications\");\n          var l = [];\n          return i && l.push(this._enableTabOpenNotifications({\n            onClick: n,\n            Notification: c,\n            visibilityStateOverride: h\n          })), a ? l.push(this._enableTabClosedNotifications(r)) : l.push(this._disableTabClosedNotifications()), Promise.all(l).catch(function (t) {\n            return e.logger.warn(\"Chatkit error when enabling push notifications:\", t), Promise.reject(\"Chatkit error when enabling push notifications: \" + t);\n          });\n        } catch (e) {\n          return this.logger.warn(\"Chatkit error when enabling push notifications:\", e), Promise.reject(\"Chatkit error when enabling push notifications: \" + e);\n        }\n      }\n    }, {\n      key: \"disablePushNotifications\",\n      value: function () {\n        var e = this;\n        return this._disableTabClosedNotifications().then(function () {\n          return e._disableTabOpenNotifications();\n        });\n      }\n    }, {\n      key: \"_hasPermissionToSendNotifications\",\n      value: function () {\n        return Notification.requestPermission().then(function (e) {\n          return \"granted\" === e;\n        });\n      }\n    }, {\n      key: \"_enableTabOpenNotifications\",\n      value: function (e) {\n        var t = e.onClick,\n            n = e.Notification,\n            r = e.visibilityStateOverride,\n            o = new vt({\n          onNotificationHook: function (e) {\n            return function (e) {\n              var t = e.notification,\n                  n = e.data,\n                  r = e.onClick,\n                  o = e.Notification;\n              \"hidden\" === (e.visibilityStateOverride || document.visibilityState) && (new o(t.title || \"\", {\n                body: t.body || \"\",\n                icon: t.icon,\n                data: Object.assign(n, {\n                  pusher: {\n                    deep_link: t.deep_link\n                  }\n                })\n              }).onclick = function (e) {\n                e.preventDefault(), window.focus(), r && r(e.target.data.chatkit), e.target.close();\n              });\n            }({\n              notification: e.notification,\n              data: e.data,\n              onClick: t,\n              Notification: n,\n              visibilityStateOverride: r\n            });\n          },\n          userId: this.id,\n          instance: this.pushNotificationsInstance,\n          logger: this.logger,\n          connectionTimeout: this.connectionTimeout\n        });\n        return this.notificationSubscription = o, o.connect();\n      }\n    }, {\n      key: \"_disableTabOpenNotifications\",\n      value: function () {\n        this.notificationSubscription.cancel();\n      }\n    }, {\n      key: \"_enableTabClosedNotifications\",\n      value: function (e) {\n        var t = this,\n            n = function (e) {\n          return t.beamsTokenProviderInstance.request({\n            method: \"GET\",\n            path: \"/beams-tokens?user_id=\" + encodeURIComponent(e)\n          }).then(JSON.parse).catch(function (e) {\n            return Promise.reject(\"Internal error: \" + e.statusCode + \" status code, info: \" + e.info.error_description);\n          });\n        };\n\n        return this.beamsInstanceInitFn({\n          serviceWorkerRegistration: e\n        }).then(function (e) {\n          return e.start();\n        }).then(function (e) {\n          return e.setUserId(t.id, {\n            fetchToken: n\n          });\n        });\n      }\n    }, {\n      key: \"_disableTabClosedNotifications\",\n      value: function () {\n        return this.beamsInstanceInitFn().then(function (e) {\n          return e.stop();\n        });\n      }\n    }, {\n      key: \"disconnect\",\n      value: function () {\n        this.userSubscription.cancel(), this.presenceSubscription.cancel(), this.notificationSubscription && this.notificationSubscription.cancel(), pe(function (e) {\n          return e.cancel();\n        }, this.roomSubscriptions), pe(function (e) {\n          return e.cancel();\n        }, this.userPresenceSubscriptions);\n      }\n    }, {\n      key: \"rooms\",\n      get: function () {\n        return F(this.roomStore.snapshot());\n      }\n    }, {\n      key: \"users\",\n      get: function () {\n        return F(this.userStore.snapshot());\n      }\n    }]), e;\n  }(),\n      bt = function (e) {\n    var t = e.file,\n        n = e.name;\n    return void 0 !== t && void 0 !== n && (Ae(\"attachment.file\", \"object\", t), Ae(\"attachment.name\", \"string\", n), !0);\n  },\n      yt = function (e) {\n    var t = e.link,\n        n = e.type;\n    return void 0 !== t && void 0 !== n && (Ae(\"attachment.link\", \"string\", t), Ae(\"attachment.type\", \"string\", n), !0);\n  },\n      St = \"1.14.1\";\n\n  var wt = function (e) {\n    if (Array.isArray(e)) {\n      for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];\n\n      return n;\n    }\n  };\n\n  var kt = function (e) {\n    if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n  };\n\n  var It = function () {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  };\n\n  var Et = function (e) {\n    return wt(e) || kt(e) || It();\n  };\n\n  var Rt = function (e, t) {\n    return e(t = {\n      exports: {}\n    }, t.exports), t.exports;\n  }(function (e) {\n    var t = function (e) {\n      var t,\n          n = Object.prototype,\n          r = n.hasOwnProperty,\n          o = \"function\" == typeof Symbol ? Symbol : {},\n          i = o.iterator || \"@@iterator\",\n          s = o.asyncIterator || \"@@asyncIterator\",\n          a = o.toStringTag || \"@@toStringTag\";\n\n      function u(e, t, n, r) {\n        var o = t && t.prototype instanceof g ? t : g,\n            i = Object.create(o.prototype),\n            s = new _(r || []);\n        return i._invoke = function (e, t, n) {\n          var r = h;\n          return function (o, i) {\n            if (r === d) throw new Error(\"Generator is already running\");\n\n            if (r === f) {\n              if (\"throw\" === o) throw i;\n              return P();\n            }\n\n            for (n.method = o, n.arg = i;;) {\n              var s = n.delegate;\n\n              if (s) {\n                var a = E(s, n);\n\n                if (a) {\n                  if (a === p) continue;\n                  return a;\n                }\n              }\n\n              if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n                if (r === h) throw r = f, n.arg;\n                n.dispatchException(n.arg);\n              } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n              r = d;\n              var u = c(e, t, n);\n\n              if (\"normal\" === u.type) {\n                if (r = n.done ? f : l, u.arg === p) continue;\n                return {\n                  value: u.arg,\n                  done: n.done\n                };\n              }\n\n              \"throw\" === u.type && (r = f, n.method = \"throw\", n.arg = u.arg);\n            }\n          };\n        }(e, n, s), i;\n      }\n\n      function c(e, t, n) {\n        try {\n          return {\n            type: \"normal\",\n            arg: e.call(t, n)\n          };\n        } catch (e) {\n          return {\n            type: \"throw\",\n            arg: e\n          };\n        }\n      }\n\n      e.wrap = u;\n      var h = \"suspendedStart\",\n          l = \"suspendedYield\",\n          d = \"executing\",\n          f = \"completed\",\n          p = {};\n\n      function g() {}\n\n      function v() {}\n\n      function m() {}\n\n      var b = {};\n\n      b[i] = function () {\n        return this;\n      };\n\n      var y = Object.getPrototypeOf,\n          S = y && y(y(O([])));\n      S && S !== n && r.call(S, i) && (b = S);\n      var w = m.prototype = g.prototype = Object.create(b);\n\n      function k(e) {\n        [\"next\", \"throw\", \"return\"].forEach(function (t) {\n          e[t] = function (e) {\n            return this._invoke(t, e);\n          };\n        });\n      }\n\n      function I(e) {\n        var t;\n\n        this._invoke = function (n, o) {\n          function i() {\n            return new Promise(function (t, i) {\n              !function t(n, o, i, s) {\n                var a = c(e[n], e, o);\n\n                if (\"throw\" !== a.type) {\n                  var u = a.arg,\n                      h = u.value;\n                  return h && \"object\" == typeof h && r.call(h, \"__await\") ? Promise.resolve(h.__await).then(function (e) {\n                    t(\"next\", e, i, s);\n                  }, function (e) {\n                    t(\"throw\", e, i, s);\n                  }) : Promise.resolve(h).then(function (e) {\n                    u.value = e, i(u);\n                  }, function (e) {\n                    return t(\"throw\", e, i, s);\n                  });\n                }\n\n                s(a.arg);\n              }(n, o, t, i);\n            });\n          }\n\n          return t = t ? t.then(i, i) : i();\n        };\n      }\n\n      function E(e, n) {\n        var r = e.iterator[n.method];\n\n        if (r === t) {\n          if (n.delegate = null, \"throw\" === n.method) {\n            if (e.iterator.return && (n.method = \"return\", n.arg = t, E(e, n), \"throw\" === n.method)) return p;\n            n.method = \"throw\", n.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n          }\n\n          return p;\n        }\n\n        var o = c(r, e.iterator, n.arg);\n        if (\"throw\" === o.type) return n.method = \"throw\", n.arg = o.arg, n.delegate = null, p;\n        var i = o.arg;\n        return i ? i.done ? (n[e.resultName] = i.value, n.next = e.nextLoc, \"return\" !== n.method && (n.method = \"next\", n.arg = t), n.delegate = null, p) : i : (n.method = \"throw\", n.arg = new TypeError(\"iterator result is not an object\"), n.delegate = null, p);\n      }\n\n      function R(e) {\n        var t = {\n          tryLoc: e[0]\n        };\n        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n      }\n\n      function T(e) {\n        var t = e.completion || {};\n        t.type = \"normal\", delete t.arg, e.completion = t;\n      }\n\n      function _(e) {\n        this.tryEntries = [{\n          tryLoc: \"root\"\n        }], e.forEach(R, this), this.reset(!0);\n      }\n\n      function O(e) {\n        if (e) {\n          var n = e[i];\n          if (n) return n.call(e);\n          if (\"function\" == typeof e.next) return e;\n\n          if (!isNaN(e.length)) {\n            var o = -1,\n                s = function n() {\n              for (; ++o < e.length;) if (r.call(e, o)) return n.value = e[o], n.done = !1, n;\n\n              return n.value = t, n.done = !0, n;\n            };\n\n            return s.next = s;\n          }\n        }\n\n        return {\n          next: P\n        };\n      }\n\n      function P() {\n        return {\n          value: t,\n          done: !0\n        };\n      }\n\n      return v.prototype = w.constructor = m, m.constructor = v, m[a] = v.displayName = \"GeneratorFunction\", e.isGeneratorFunction = function (e) {\n        var t = \"function\" == typeof e && e.constructor;\n        return !!t && (t === v || \"GeneratorFunction\" === (t.displayName || t.name));\n      }, e.mark = function (e) {\n        return Object.setPrototypeOf ? Object.setPrototypeOf(e, m) : (e.__proto__ = m, a in e || (e[a] = \"GeneratorFunction\")), e.prototype = Object.create(w), e;\n      }, e.awrap = function (e) {\n        return {\n          __await: e\n        };\n      }, k(I.prototype), I.prototype[s] = function () {\n        return this;\n      }, e.AsyncIterator = I, e.async = function (t, n, r, o) {\n        var i = new I(u(t, n, r, o));\n        return e.isGeneratorFunction(n) ? i : i.next().then(function (e) {\n          return e.done ? e.value : i.next();\n        });\n      }, k(w), w[a] = \"Generator\", w[i] = function () {\n        return this;\n      }, w.toString = function () {\n        return \"[object Generator]\";\n      }, e.keys = function (e) {\n        var t = [];\n\n        for (var n in e) t.push(n);\n\n        return t.reverse(), function n() {\n          for (; t.length;) {\n            var r = t.pop();\n            if (r in e) return n.value = r, n.done = !1, n;\n          }\n\n          return n.done = !0, n;\n        };\n      }, e.values = O, _.prototype = {\n        constructor: _,\n        reset: function (e) {\n          if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(T), !e) for (var n in this) \"t\" === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t);\n        },\n        stop: function () {\n          this.done = !0;\n          var e = this.tryEntries[0].completion;\n          if (\"throw\" === e.type) throw e.arg;\n          return this.rval;\n        },\n        dispatchException: function (e) {\n          if (this.done) throw e;\n          var n = this;\n\n          function o(r, o) {\n            return a.type = \"throw\", a.arg = e, n.next = r, o && (n.method = \"next\", n.arg = t), !!o;\n          }\n\n          for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n            var s = this.tryEntries[i],\n                a = s.completion;\n            if (\"root\" === s.tryLoc) return o(\"end\");\n\n            if (s.tryLoc <= this.prev) {\n              var u = r.call(s, \"catchLoc\"),\n                  c = r.call(s, \"finallyLoc\");\n\n              if (u && c) {\n                if (this.prev < s.catchLoc) return o(s.catchLoc, !0);\n                if (this.prev < s.finallyLoc) return o(s.finallyLoc);\n              } else if (u) {\n                if (this.prev < s.catchLoc) return o(s.catchLoc, !0);\n              } else {\n                if (!c) throw new Error(\"try statement without catch or finally\");\n                if (this.prev < s.finallyLoc) return o(s.finallyLoc);\n              }\n            }\n          }\n        },\n        abrupt: function (e, t) {\n          for (var n = this.tryEntries.length - 1; n >= 0; --n) {\n            var o = this.tryEntries[n];\n\n            if (o.tryLoc <= this.prev && r.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n              var i = o;\n              break;\n            }\n          }\n\n          i && (\"break\" === e || \"continue\" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);\n          var s = i ? i.completion : {};\n          return s.type = e, s.arg = t, i ? (this.method = \"next\", this.next = i.finallyLoc, p) : this.complete(s);\n        },\n        complete: function (e, t) {\n          if (\"throw\" === e.type) throw e.arg;\n          return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), p;\n        },\n        finish: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var n = this.tryEntries[t];\n            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), T(n), p;\n          }\n        },\n        catch: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var n = this.tryEntries[t];\n\n            if (n.tryLoc === e) {\n              var r = n.completion;\n\n              if (\"throw\" === r.type) {\n                var o = r.arg;\n                T(n);\n              }\n\n              return o;\n            }\n          }\n\n          throw new Error(\"illegal catch attempt\");\n        },\n        delegateYield: function (e, n, r) {\n          return this.delegate = {\n            iterator: O(e),\n            resultName: n,\n            nextLoc: r\n          }, \"next\" === this.method && (this.arg = t), p;\n        }\n      }, e;\n    }(e.exports);\n\n    try {\n      regeneratorRuntime = t;\n    } catch (e) {\n      Function(\"r\", \"regeneratorRuntime = r\")(t);\n    }\n  });\n\n  var Tt = function (e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  };\n\n  function _t(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var r = t[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n    }\n  }\n\n  var Ot = function (e, t, n) {\n    return t && _t(e.prototype, t), n && _t(e, n), e;\n  };\n\n  function Pt(e, t, n, r, o, i, s) {\n    try {\n      var a = e[i](s),\n          u = a.value;\n    } catch (e) {\n      return void n(e);\n    }\n\n    a.done ? t(u) : Promise.resolve(u).then(r, o);\n  }\n\n  var Nt = function (e) {\n    return function () {\n      var t = this,\n          n = arguments;\n      return new Promise(function (r, o) {\n        var i = e.apply(t, n);\n\n        function s(e) {\n          Pt(i, r, o, s, a, \"next\", e);\n        }\n\n        function a(e) {\n          Pt(i, r, o, s, a, \"throw\", e);\n        }\n\n        s(void 0);\n      });\n    };\n  };\n\n  var Ut = function (e, t, n) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: n,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = n, e;\n  };\n\n  function xt(e, t) {\n    var n = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var r = Object.getOwnPropertySymbols(e);\n      t && (r = r.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), n.push.apply(n, r);\n    }\n\n    return n;\n  }\n\n  function Ct(e) {\n    var t = e.method,\n        n = e.path,\n        r = e.body,\n        o = void 0 === r ? null : r,\n        i = e.headers,\n        s = void 0 === i ? {} : i,\n        a = {\n      method: t,\n      headers: s\n    };\n    return null !== o && (a.body = JSON.stringify(o), a.headers = function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {};\n        t % 2 ? xt(Object(n), !0).forEach(function (t) {\n          Ut(e, t, n[t]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : xt(Object(n)).forEach(function (t) {\n          Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n        });\n      }\n\n      return e;\n    }({\n      \"Content-Type\": \"application/json\"\n    }, s)), fetch(n, a).then(function () {\n      var e = Nt(Rt.mark(function e(t) {\n        return Rt.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (t.ok) {\n                e.next = 3;\n                break;\n              }\n\n              return e.next = 3, Mt(t);\n\n            case 3:\n              return e.prev = 3, e.next = 6, t.json();\n\n            case 6:\n              return e.abrupt(\"return\", e.sent);\n\n            case 9:\n              return e.prev = 9, e.t0 = e.catch(3), e.abrupt(\"return\", null);\n\n            case 12:\n            case \"end\":\n              return e.stop();\n          }\n        }, e, null, [[3, 9]]);\n      }));\n      return function (t) {\n        return e.apply(this, arguments);\n      };\n    }());\n  }\n\n  function Mt(e) {\n    return At.apply(this, arguments);\n  }\n\n  function At() {\n    return (At = Nt(Rt.mark(function e(t) {\n      var n, r, o, i, s, a;\n      return Rt.wrap(function (e) {\n        for (;;) switch (e.prev = e.next) {\n          case 0:\n            return e.prev = 0, e.next = 3, t.json();\n\n          case 3:\n            r = e.sent, o = r.error, i = void 0 === o ? \"Unknown error\" : o, s = r.description, a = void 0 === s ? \"No description\" : s, n = \"Unexpected status code \".concat(t.status, \": \").concat(i, \", \").concat(a), e.next = 14;\n            break;\n\n          case 11:\n            e.prev = 11, e.t0 = e.catch(0), n = \"Unexpected status code \".concat(t.status, \": Cannot parse error response\");\n\n          case 14:\n            throw new Error(n);\n\n          case 15:\n          case \"end\":\n            return e.stop();\n        }\n      }, e, null, [[0, 11]]);\n    }))).apply(this, arguments);\n  }\n\n  var jt = function () {\n    function e(t) {\n      Tt(this, e), this._instanceId = t, this._dbConn = null;\n    }\n\n    return Ot(e, [{\n      key: \"connect\",\n      value: function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          var r = indexedDB.open(e._dbName);\n          r.onsuccess = function (n) {\n            var r = n.target.result;\n            e._dbConn = r, e._readState().then(function (t) {\n              return null === t ? e.clear() : Promise.resolve();\n            }).then(t);\n          }, r.onupgradeneeded = function (e) {\n            e.target.result.createObjectStore(\"beams\", {\n              keyPath: \"instance_id\"\n            });\n          }, r.onerror = function (e) {\n            var t = new Error(\"Database error: \".concat(e.target.error));\n            n(t);\n          };\n        });\n      }\n    }, {\n      key: \"clear\",\n      value: function () {\n        return this._writeState({\n          instance_id: this._instanceId,\n          device_id: null,\n          token: null,\n          user_id: null\n        });\n      }\n    }, {\n      key: \"_readState\",\n      value: function () {\n        var e = this;\n        if (!this.isConnected) throw new Error(\"Cannot read value: DeviceStateStore not connected to IndexedDB\");\n        return new Promise(function (t, n) {\n          var r = e._dbConn.transaction(\"beams\").objectStore(\"beams\").get(e._instanceId);\n\n          r.onsuccess = function (e) {\n            var n = e.target.result;\n            n || t(null), t(n);\n          }, r.onerror = function (e) {\n            n(e.target.error);\n          };\n        });\n      }\n    }, {\n      key: \"_readProperty\",\n      value: function () {\n        var e = Nt(Rt.mark(function e(t) {\n          var n;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return e.next = 2, this._readState();\n\n              case 2:\n                if (null !== (n = e.sent)) {\n                  e.next = 5;\n                  break;\n                }\n\n                return e.abrupt(\"return\", null);\n\n              case 5:\n                return e.abrupt(\"return\", n[t] || null);\n\n              case 6:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function (t) {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_writeState\",\n      value: function (e) {\n        var t = this;\n        if (!this.isConnected) throw new Error(\"Cannot write value: DeviceStateStore not connected to IndexedDB\");\n        return new Promise(function (n, r) {\n          var o = t._dbConn.transaction(\"beams\", \"readwrite\").objectStore(\"beams\").put(e);\n\n          o.onsuccess = function (e) {\n            n();\n          }, o.onerror = function (e) {\n            r(e.target.error);\n          };\n        });\n      }\n    }, {\n      key: \"_writeProperty\",\n      value: function () {\n        var e = Nt(Rt.mark(function e(t, n) {\n          var r;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return e.next = 2, this._readState();\n\n              case 2:\n                return (r = e.sent)[t] = n, e.next = 6, this._writeState(r);\n\n              case 6:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function (t, n) {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        return this._readProperty(\"token\");\n      }\n    }, {\n      key: \"setToken\",\n      value: function (e) {\n        return this._writeProperty(\"token\", e);\n      }\n    }, {\n      key: \"getDeviceId\",\n      value: function () {\n        return this._readProperty(\"device_id\");\n      }\n    }, {\n      key: \"setDeviceId\",\n      value: function (e) {\n        return this._writeProperty(\"device_id\", e);\n      }\n    }, {\n      key: \"getUserId\",\n      value: function () {\n        return this._readProperty(\"user_id\");\n      }\n    }, {\n      key: \"setUserId\",\n      value: function (e) {\n        return this._writeProperty(\"user_id\", e);\n      }\n    }, {\n      key: \"getLastSeenSdkVersion\",\n      value: function () {\n        return this._readProperty(\"last_seen_sdk_version\");\n      }\n    }, {\n      key: \"setLastSeenSdkVersion\",\n      value: function (e) {\n        return this._writeProperty(\"last_seen_sdk_version\", e);\n      }\n    }, {\n      key: \"getLastSeenUserAgent\",\n      value: function () {\n        return this._readProperty(\"last_seen_user_agent\");\n      }\n    }, {\n      key: \"setLastSeenUserAgent\",\n      value: function (e) {\n        return this._writeProperty(\"last_seen_user_agent\", e);\n      }\n    }, {\n      key: \"_dbName\",\n      get: function () {\n        return \"beams-\".concat(this._instanceId);\n      }\n    }, {\n      key: \"isConnected\",\n      get: function () {\n        return null !== this._dbConn;\n      }\n    }]), e;\n  }(),\n      Dt = \"/service-worker.js?pusherBeamsWebSDKVersion=\".concat(\"0.9.2\");\n\n  function Lt() {\n    return (Lt = Nt(Rt.mark(function e(t) {\n      var n, r, o, i, s, a, u, c, h, l;\n      return Rt.wrap(function (e) {\n        for (;;) switch (e.prev = e.next) {\n          case 0:\n            if (t) {\n              e.next = 2;\n              break;\n            }\n\n            throw new Error(\"Config object required\");\n\n          case 2:\n            if (n = t.instanceId, r = t.endpointOverride, o = void 0 === r ? null : r, i = t.serviceWorkerRegistration, s = void 0 === i ? null : i, void 0 !== n) {\n              e.next = 5;\n              break;\n            }\n\n            throw new Error(\"Instance ID is required\");\n\n          case 5:\n            if (\"string\" == typeof n) {\n              e.next = 7;\n              break;\n            }\n\n            throw new Error(\"Instance ID must be a string\");\n\n          case 7:\n            if (0 !== n.length) {\n              e.next = 9;\n              break;\n            }\n\n            throw new Error(\"Instance ID cannot be empty\");\n\n          case 9:\n            if (window.indexedDB) {\n              e.next = 11;\n              break;\n            }\n\n            throw new Error(\"Pusher Beams does not support this browser version (IndexedDB not supported)\");\n\n          case 11:\n            if (\"showNotification\" in ServiceWorkerRegistration.prototype) {\n              e.next = 13;\n              break;\n            }\n\n            throw new Error(\"Pusher Beams does not support this browser version (ServiceWorkerRegistration not supported)\");\n\n          case 13:\n            if (\"PushManager\" in window) {\n              e.next = 15;\n              break;\n            }\n\n            throw new Error(\"Pusher Beams does not support this browser version (PushManager not supported)\");\n\n          case 15:\n            return a = new jt(n), e.next = 18, a.connect();\n\n          case 18:\n            return e.next = 20, a.getDeviceId();\n\n          case 20:\n            return u = e.sent, e.next = 23, a.getToken();\n\n          case 23:\n            return c = e.sent, e.next = 26, a.getUserId();\n\n          case 26:\n            if (h = e.sent, l = new qt({\n              instanceId: n,\n              deviceId: u,\n              token: c,\n              userId: h,\n              serviceWorkerRegistration: s,\n              deviceStateStore: a,\n              endpointOverride: o\n            }), !(null !== u)) {\n              e.next = 37;\n              break;\n            }\n\n            return e.prev = 30, e.next = 33, l._updateDeviceMetadata();\n\n          case 33:\n            e.next = 37;\n            break;\n\n          case 35:\n            e.prev = 35, e.t0 = e.catch(30);\n\n          case 37:\n            return e.abrupt(\"return\", l);\n\n          case 38:\n          case \"end\":\n            return e.stop();\n        }\n      }, e, null, [[30, 35]]);\n    }))).apply(this, arguments);\n  }\n\n  var qt = function () {\n    function e(t) {\n      var n = t.instanceId,\n          r = t.deviceId,\n          o = t.token,\n          i = t.userId,\n          s = t.serviceWorkerRegistration,\n          a = t.deviceStateStore,\n          u = t.endpointOverride,\n          c = void 0 === u ? null : u;\n\n      if (Tt(this, e), this.instanceId = n, this.deviceId = r, this.token = o, this.userId = i, this._deviceStateStore = a, this._endpoint = c, s) {\n        var h = s.scope;\n        if (!window.location.href.startsWith(h)) throw new Error(\"Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (\".concat(h, \")\"));\n      }\n\n      this._serviceWorkerRegistration = s;\n    }\n\n    return Ot(e, [{\n      key: \"start\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          var t, n, r, o;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                if (Bt()) {\n                  e.next = 3;\n                  break;\n                }\n\n                return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"), e.abrupt(\"return\", this);\n\n              case 3:\n                if (null === this.deviceId) {\n                  e.next = 5;\n                  break;\n                }\n\n                return e.abrupt(\"return\", this);\n\n              case 5:\n                return e.next = 7, this._getPublicKey();\n\n              case 7:\n                return t = e.sent, n = t.vapidPublicKey, e.next = 11, this._getPushToken(n);\n\n              case 11:\n                return r = e.sent, e.next = 14, this._registerDevice(r);\n\n              case 14:\n                return o = e.sent, e.next = 17, this._deviceStateStore.setToken(r);\n\n              case 17:\n                return e.next = 19, this._deviceStateStore.setDeviceId(o);\n\n              case 19:\n                return e.next = 21, this._deviceStateStore.setLastSeenSdkVersion(\"0.9.2\");\n\n              case 21:\n                return e.next = 23, this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);\n\n              case 23:\n                return this.token = r, this.deviceId = o, e.abrupt(\"return\", this);\n\n              case 26:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"setUserId\",\n      value: function () {\n        var e = Nt(Rt.mark(function e(t, n) {\n          var r, o, i, s, a;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                if (Bt()) {\n                  e.next = 3;\n                  break;\n                }\n\n                return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"), e.abrupt(\"return\");\n\n              case 3:\n                if (null !== this.deviceId) {\n                  e.next = 6;\n                  break;\n                }\n\n                return r = new Error(\".start must be called before .setUserId\"), e.abrupt(\"return\", Promise.reject(r));\n\n              case 6:\n                if (\"string\" == typeof t) {\n                  e.next = 8;\n                  break;\n                }\n\n                throw new Error(\"User ID must be a string (was \".concat(t, \")\"));\n\n              case 8:\n                if (\"\" !== t) {\n                  e.next = 10;\n                  break;\n                }\n\n                throw new Error(\"User ID cannot be the empty string\");\n\n              case 10:\n                if (null === this.userId || this.userId === t) {\n                  e.next = 12;\n                  break;\n                }\n\n                throw new Error(\"Changing the `userId` is not allowed.\");\n\n              case 12:\n                return o = \"\".concat(this._baseURL, \"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId), \"/devices/web/\").concat(this.deviceId, \"/user\"), e.next = 15, n.fetchToken(t);\n\n              case 15:\n                return i = e.sent, s = i.token, a = {\n                  method: \"PUT\",\n                  path: o,\n                  headers: {\n                    Authorization: \"Bearer \".concat(s)\n                  }\n                }, e.next = 20, Ct(a);\n\n              case 20:\n                return this.userId = t, e.abrupt(\"return\", this._deviceStateStore.setUserId(t));\n\n              case 22:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function (t, n) {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"stop\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                if (Bt()) {\n                  e.next = 3;\n                  break;\n                }\n\n                return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"), e.abrupt(\"return\");\n\n              case 3:\n                if (null !== this.deviceId) {\n                  e.next = 5;\n                  break;\n                }\n\n                return e.abrupt(\"return\");\n\n              case 5:\n                return e.next = 7, this._deleteDevice();\n\n              case 7:\n                return e.next = 9, this._deviceStateStore.clear();\n\n              case 9:\n                this.deviceId = null, this.token = null, this.userId = null;\n\n              case 12:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"clearAllState\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                if (Bt()) {\n                  e.next = 3;\n                  break;\n                }\n\n                return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"), e.abrupt(\"return\");\n\n              case 3:\n                return e.next = 5, this.stop();\n\n              case 5:\n                return e.next = 7, this.start();\n\n              case 7:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_getPublicKey\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          var t, n;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return t = \"\".concat(this._baseURL, \"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId), \"/web-vapid-public-key\"), n = {\n                  method: \"GET\",\n                  path: t\n                }, e.abrupt(\"return\", Ct(n));\n\n              case 3:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_getPushToken\",\n      value: function () {\n        var e = Nt(Rt.mark(function e(t) {\n          var n, r, o;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                if (e.prev = 0, !this._serviceWorkerRegistration) {\n                  e.next = 5;\n                  break;\n                }\n\n                n = this._serviceWorkerRegistration, e.next = 15;\n                break;\n\n              case 5:\n                return e.next = 7, fetch(Dt);\n\n              case 7:\n                if (r = e.sent, 200 === r.status) {\n                  e.next = 11;\n                  break;\n                }\n\n                throw new Error(\"Cannot start SDK, service worker missing: No file found at /service-worker.js\");\n\n              case 11:\n                return window.navigator.serviceWorker.register(Dt, {\n                  updateViaCache: \"none\"\n                }), e.next = 14, window.navigator.serviceWorker.ready;\n\n              case 14:\n                n = e.sent;\n\n              case 15:\n                return e.next = 17, n.pushManager.subscribe({\n                  userVisibleOnly: !0,\n                  applicationServerKey: (i = t, void 0, void 0, void 0, s = \"=\".repeat((4 - i.length % 4) % 4), a = (i + s).replace(/-/g, \"+\").replace(/_/g, \"/\"), u = window.atob(a), Uint8Array.from(Et(u).map(function (e) {\n                    return e.charCodeAt(0);\n                  })))\n                });\n\n              case 17:\n                return o = e.sent, e.abrupt(\"return\", btoa(JSON.stringify(o)));\n\n              case 21:\n                return e.prev = 21, e.t0 = e.catch(0), e.abrupt(\"return\", Promise.reject(e.t0));\n\n              case 24:\n              case \"end\":\n                return e.stop();\n            }\n\n            var i, s, a, u;\n          }, e, this, [[0, 21]]);\n        }));\n        return function (t) {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_registerDevice\",\n      value: function () {\n        var e = Nt(Rt.mark(function e(t) {\n          var n, r, o;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return n = \"\".concat(this._baseURL, \"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId), \"/devices/web\"), r = {\n                  method: \"POST\",\n                  path: n,\n                  body: {\n                    token: t,\n                    metadata: {\n                      sdkVersion: \"0.9.2\"\n                    }\n                  }\n                }, e.next = 5, Ct(r);\n\n              case 5:\n                return o = e.sent, e.abrupt(\"return\", o.id);\n\n              case 7:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function (t) {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_deleteDevice\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          var t, n;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return t = \"\".concat(this._baseURL, \"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId), \"/devices/web/\").concat(encodeURIComponent(this.deviceId)), n = {\n                  method: \"DELETE\",\n                  path: t\n                }, e.next = 4, Ct(n);\n\n              case 4:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_updateDeviceMetadata\",\n      value: function () {\n        var e = Nt(Rt.mark(function e() {\n          var t, n, r, o, i;\n          return Rt.wrap(function (e) {\n            for (;;) switch (e.prev = e.next) {\n              case 0:\n                return t = window.navigator.userAgent, e.next = 3, this._deviceStateStore.getLastSeenUserAgent();\n\n              case 3:\n                return n = e.sent, e.next = 6, this._deviceStateStore.getLastSeenSdkVersion();\n\n              case 6:\n                if (r = e.sent, t !== n || \"0.9.2\" !== r) {\n                  e.next = 9;\n                  break;\n                }\n\n                return e.abrupt(\"return\");\n\n              case 9:\n                return o = \"\".concat(this._baseURL, \"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId), \"/devices/web/\").concat(this.deviceId, \"/metadata\"), i = {\n                  method: \"PUT\",\n                  path: o,\n                  body: {\n                    sdkVersion: \"0.9.2\"\n                  }\n                }, e.next = 14, Ct(i);\n\n              case 14:\n                return e.next = 16, this._deviceStateStore.setLastSeenSdkVersion(\"0.9.2\");\n\n              case 16:\n                return e.next = 18, this._deviceStateStore.setLastSeenUserAgent(t);\n\n              case 18:\n              case \"end\":\n                return e.stop();\n            }\n          }, e, this);\n        }));\n        return function () {\n          return e.apply(this, arguments);\n        };\n      }()\n    }, {\n      key: \"_baseURL\",\n      get: function () {\n        return null !== this._endpoint ? this._endpoint : \"https://\".concat(this.instanceId, \".pushnotifications.pusher.com\");\n      }\n    }]), e;\n  }();\n\n  function Bt() {\n    var e = window.navigator,\n        t = e.vendor,\n        n = null !== window.chrome && void 0 !== window.chrome,\n        r = e.userAgent.indexOf(\"OPR\") > -1,\n        o = e.userAgent.indexOf(\"Edge\") > -1;\n    return n && \"Google Inc.\" === t && !o && !r || r;\n  }\n\n  return {\n    TokenProvider: He,\n    ChatManager: function () {\n      function e() {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = t.instanceLocator,\n            s = t.tokenProvider,\n            a = t.userId,\n            u = Ue(t, [\"instanceLocator\", \"tokenProvider\", \"userId\"]);\n        Oe(this, e), Ae(\"instanceLocator\", \"string\", n), Ae(\"tokenProvider\", \"object\", s), Ae(\"tokenProvider.fetchToken\", \"function\", s.fetchToken), Ae(\"userId\", \"string\", a);\n        var c = Ee(\":\", n),\n            h = xe(c, 3),\n            l = h[0],\n            d = h[1],\n            f = h[2];\n        if (!l || !d || !f) throw new TypeError(\"expected instanceLocator to be of the format x:y:z, but was \" + n);\n        var p = u.baseClient || new r({\n          host: d + \".\" + o,\n          logger: u.logger,\n          sdkProduct: \"chatkit\",\n          sdkLanguage: u.sdkLanguage,\n          sdkVersion: St\n        });\n        \"function\" == typeof s.setUserId && s.setUserId(a);\n        var g = {\n          client: p,\n          locator: n,\n          logger: u.logger,\n          tokenProvider: s\n        };\n        this.serverInstanceV2 = new i(Ne({\n          serviceName: \"chatkit\",\n          serviceVersion: \"v2\"\n        }, g)), this.serverInstanceV6 = new i(Ne({\n          serviceName: \"chatkit\",\n          serviceVersion: \"v6\"\n        }, g)), this.filesInstance = new i(Ne({\n          serviceName: \"chatkit_files\",\n          serviceVersion: \"v1\"\n        }, g)), this.cursorsInstance = new i(Ne({\n          serviceName: \"chatkit_cursors\",\n          serviceVersion: \"v2\"\n        }, g)), this.presenceInstance = new i(Ne({\n          serviceName: \"chatkit_presence\",\n          serviceVersion: \"v2\"\n        }, g)), this.beamsTokenProviderInstance = new i(Ne({\n          serviceName: \"chatkit_beams_token_provider\",\n          serviceVersion: \"v1\"\n        }, g)), this.pushNotificationsInstance = new i(Ne({\n          serviceName: \"chatkit_push_notifications\",\n          serviceVersion: \"v1\"\n        }, g)), this.beamsInstanceInitFn = u.beamsInstanceInitFn || function (e) {\n          return function (e) {\n            return Lt.apply(this, arguments);\n          }(Ne({\n            instanceId: f\n          }, e));\n        }, this.logger = this.serverInstanceV6.logger, this.userId = a, this.connectionTimeout = u.connectionTimeout || Ze, this.connect = this.connect.bind(this), this.disconnect = this.disconnect.bind(this);\n      }\n\n      return Pe(e, [{\n        key: \"connect\",\n        value: function () {\n          var e = this,\n              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          qe(\"hooks\", \"function\", t);\n          var n = new mt({\n            hooks: t,\n            id: this.userId,\n            serverInstanceV2: this.serverInstanceV2,\n            serverInstanceV6: this.serverInstanceV6,\n            filesInstance: this.filesInstance,\n            cursorsInstance: this.cursorsInstance,\n            presenceInstance: this.presenceInstance,\n            beamsTokenProviderInstance: this.beamsTokenProviderInstance,\n            pushNotificationsInstance: this.pushNotificationsInstance,\n            beamsInstanceInitFn: this.beamsInstanceInitFn,\n            connectionTimeout: this.connectionTimeout\n          });\n          return Promise.all([n.establishUserSubscription(), n.establishPresenceSubscription()]).then(function () {\n            return e.currentUser = n, n;\n          });\n        }\n      }, {\n        key: \"disconnect\",\n        value: function () {\n          this.currentUser && this.currentUser.disconnect();\n        }\n      }, {\n        key: \"disablePushNotifications\",\n        value: function () {\n          return this.currentUser ? this.currentUser.disablePushNotifications().catch(function (e) {\n            return Promise.reject(\"Chatkit error when disabling push notifications: \" + e.message);\n          }) : Promise.reject(\"Cannot disable notifications until .connect is called\");\n        }\n      }]), e;\n    }()\n  };\n});","map":{"version":3,"names":["e","t","exports","module","define","amd","Chatkit","window","global","self","n","r","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","split","length","indexOf","substring","a","value","responseToHeadersObject","statusCode","headers","info","fromXHR","responseText","JSON","parse","status","getAllResponseHeaders","ErrorResponse","error","NetworkError","ProtocolError","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","XhrReadyState","VERBOSE","DEBUG","INFO","WARNING","ERROR","LogLevel","threshold","Array","console","group","push","log","groupEnd","pop","verbose","arguments","debug","warn","forEach","errorAwareLog","error_uri","error_description","ConsoleLogger","EmptyLogger","createRetryStrategyOptionsOrDefault","initialTimeoutMillis","maxTimeoutMillis","limit","increaseTimeout","waitTimeMillis","Retry","DoNotRetry","options","logger","retryUnsafeRequests","currentRetryCount","increaseTimeoutFunction","currentBackoffMillis","attemptRetry","constructor","name","calculateMillisToRetry","parseInt","toUpperCase","RetryResolution","__assign","assign","u","h","f","host","replace","websocketTransport","httpTransport","encrypted","sdkProduct","sdkVersion","sdkLanguage","sdkPlatform","navigator","product","request","tokenProvider","fetchToken","then","Authorization","makeRequest","subscribeResuming","replaceMissingListenersWithNoOps","subscribeStrategyListenersFromSubscriptionListeners","createResumingStrategy","createTokenProvidingStrategy","createTransportStrategy","onEnd","onError","onEvent","onOpen","onSubscribe","onRetrying","infoHeaders","subscribeNonResuming","createRetryingStrategy","executeNetworkRequest","catch","BaseClient","onreadystatechange","readyState","response","Promise","json","send","stringify","body","sendRawRequest","XMLHttpRequest","withCredentials","Boolean","open","method","url","setRequestHeader","unsubscribe","state","onTransition","nextSubscribeStrategy","listeners","retryResolution","initialEventId","underlyingSubscription","eventId","timeout","setTimeout","g","clearTimeout","Error","subscribe","isTokenExpiredError","clearToken","putTokenIntoHeader","HOST_BASE","Instance","UNOPENED","OPENING","OPEN","ENDING","ENDED","HttpTransportState","gotEOS","lastNewlineIndex","xhr","assertStateIsIn","onLoading","onDone","abort","onChunk","lastIndexOf","slice","onMessage","some","map","join","verifyMessage","onEventMessage","onEOSMessage","isArray","baseURL","createXHR","path","setJSONHeaderIfAppropriate","jwt","Connecting","Open","Closing","Closed","WSReadyState","subscriptions","add","has","isEmpty","keys","remove","getAll","getAllAsArray","subID","removeAll","wsTransport","webSocketPath","forcedClose","closedError","lastSentPingID","lastSubscriptionID","pendingSubscriptions","connect","tryReconnectIfNeeded","socket","sendMessage","getMessage","WebSocket","onopen","subscribePending","pingInterval","setInterval","pongTimeout","Date","getTime","lastMessageReceivedTimestamp","close","onmessage","receiveMessage","onerror","onclose","concat","bind","subscription","data","validateMessage","shift","onPongMessage","onPingMessage","onCloseMessage","onOpenMessage","locator","serviceName","serviceVersion","platformVersion","cluster","id","client","absPath","retryStrategyOptions","apply","toString","v","init","xf","result","b","y","S","w","nodeType","k","I","E","R","next","done","T","_","Symbol","iterator","O","reduce","TypeError","P","N","U","x","C","propertyIsEnumerable","M","A","j","D","L","q","B","H","V","F","G","J","W","z","X","K","Y","reverse","$","Z","Q","ee","te","ne","equals","String","match","valueOf","message","source","ignoreCase","multiline","sticky","unicode","size","entries","values","re","oe","ie","se","ae","toISOString","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","ue","ce","he","le","sort","test","isNaN","NaN","de","fe","pe","ge","ve","me","be","_nativeSet","Set","_items","ye","null","Se","we","ke","Ie","Ee","Re","Te","_e","trim","Oe","Pe","writable","key","Ne","Ue","xe","return","Ce","from","Me","encodeURIComponent","Ae","je","De","Le","qe","Be","Math","floor","now","He","queryParams","fetchFreshToken","cacheIsStale","cache","clearCache","setUserId","req","token","expiresIn","resolve","cachedToken","all","getValueOrFunction","user_id","userId","grant_type","access_token","expires_in","cacheExpiresAt","Ve","createdAt","created_at","createdByUserId","created_by_id","isPrivate","private","updatedAt","updated_at","customData","custom_data","deletedAt","deleted_at","unreadCount","unread_count","lastMessageAt","last_message_at","Fe","avatarURL","avatar_url","Ge","roomId","room_id","senderId","parts","ze","text","attachment","We","Je","position","type","cursor_type","link","resource_link","content","partType","payload","_id","_downloadURL","download_url","_expiration","expiration","Xe","presenceStore","Ke","pending","inProgress","clear","callbacks","delete","reject","Ye","$e","Ze","Qe","instance","onSetHooks","users","set","fetchMissingUser","_fetchMissingUserBatch","fetchMissingUsers","fetchMissingUserReq","snapshot","getSync","decorate","filter","et","basicRoom","userStore","isSubscribedTo","userIds","eq","tt","rooms","setSync","popSync","addUserToRoom","removeUserFromRoom","updateSync","update","fetchBasicRoom","nt","roomStore","rt","cursors","fetchBasicCursor","ot","it","hooks","lastSentRequests","timers","sendThrottledRequest","onIsTyping","onStarted","onStopped","typingRequestSent","onUserStartedTyping","onUserStoppedTyping","st","basicCursors","cursorStore","onNewCursorHook","at","roomSubscriptions","connectionTimeout","currentUser","cancel","onInitialState","onAddedToRoom","onRemovedFromRoom","onRoomUpdated","onRoomDeleted","onSubscriptionEstablished","sub","event_name","onNewCursor","current_user","established","basicUser","basicRooms","setPropertiesFromBasicUser","onNewReadCursor","room","ut","ct","onPresenceState","includes","onPresenceChanged","current","previous","ht","lt","_roomId","_instance","urlExpiry","_fetchNewDownloadURL","dt","ft","messageLimit","typingIndicators","messageBuffer","onMessageHook","onMessageDeletedHook","onMessageDeleted","flushBuffer","message_limit","ready","message_id","pt","onUserJoinedRoomHook","onUserLeftRoomHook","onUserJoined","onUserLeft","user_ids","gt","buffer","messageSub","serverInstance","bufferWhileConnecting","cursorSub","cursorsInstance","membershipSub","onUserJoinedRoom","onUserLeftRoom","cancelled","connected","vt","onNotificationHook","onNotification","mt","serverInstanceV2","serverInstanceV6","filesInstance","presenceInstance","beamsTokenProviderInstance","pushNotificationsInstance","beamsInstanceInitFn","encodedId","subscribeToUserPresence","readCursorBuffer","userPresenceSubscriptions","setReadCursor","readCursor","isTypingIn","createRoom","getJoinableRooms","joinRoom","leaveRoom","sendSimpleMessage","sendMultipartMessage","fetchMessages","fetchMultipartMessages","subscribeToRoom","subscribeToRoomMultipart","updateRoom","deleteRoom","setReadCursorRequest","uploadDataAttachment","isMemberOf","decorateMessage","establishUserSubscription","establishPresenceSubscription","disconnect","_uploadAttachment","pushNotificationTitleOverride","addUserIds","push_notification_title_override","bt","yt","file","part","initialId","direction","initial_id","FormData","append","content_type","content_length","attachment_id","upload_url","userSubscription","presenceSubscription","onClick","serviceWorkerRegistration","showNotificationsTabOpen","showNotificationsTabClosed","_Notification","Notification","_visibilityStateOverride","_hasPermissionToSendNotifications","_enableTabOpenNotifications","visibilityStateOverride","_enableTabClosedNotifications","_disableTabClosedNotifications","_disableTabOpenNotifications","requestPermission","notification","document","visibilityState","title","icon","pusher","deep_link","onclick","preventDefault","focus","target","chatkit","notificationSubscription","start","stop","St","wt","kt","It","Et","Rt","asyncIterator","toStringTag","create","_invoke","arg","delegate","sent","_sent","dispatchException","abrupt","wrap","getPrototypeOf","__await","resultName","nextLoc","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","completion","reset","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","AsyncIterator","async","prev","charAt","rval","complete","finish","delegateYield","regeneratorRuntime","Function","Tt","_t","Ot","Pt","Nt","Ut","xt","getOwnPropertySymbols","getOwnPropertyDescriptor","Ct","getOwnPropertyDescriptors","defineProperties","fetch","ok","Mt","t0","At","description","jt","_instanceId","_dbConn","indexedDB","_dbName","onsuccess","_readState","onupgradeneeded","createObjectStore","keyPath","_writeState","instance_id","device_id","isConnected","transaction","objectStore","put","_readProperty","_writeProperty","Dt","Lt","instanceId","endpointOverride","ServiceWorkerRegistration","getDeviceId","getToken","getUserId","qt","deviceId","deviceStateStore","_updateDeviceMetadata","_deviceStateStore","_endpoint","scope","location","href","startsWith","_serviceWorkerRegistration","Bt","_getPublicKey","vapidPublicKey","_getPushToken","_registerDevice","setToken","setDeviceId","setLastSeenSdkVersion","setLastSeenUserAgent","userAgent","_baseURL","_deleteDevice","serviceWorker","register","updateViaCache","pushManager","userVisibleOnly","applicationServerKey","repeat","atob","Uint8Array","charCodeAt","btoa","metadata","getLastSeenUserAgent","getLastSeenSdkVersion","vendor","chrome","TokenProvider","ChatManager","instanceLocator","baseClient","disablePushNotifications"],"sources":["C:/Users/sun/Desktop/project/myproject/vue-chatkit/node_modules/@pusher/chatkit-client/dist/web/chatkit.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Chatkit=t()}(this,function(){\"use strict\";\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;var e,t,n=(function(e,t){var n;\"undefined\"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=10)}([function(e,t,n){function r(e){var t={};if(!e)return t;for(var n=0,r=e.split(\"\\r\\n\");n<r.length;n++){var o=r[n],i=o.indexOf(\": \");if(i>0){var s=o.substring(0,i),a=o.substring(i+2);t[s]=a}}return t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.responseToHeadersObject=r;var o=function(){function e(e,t,n){this.statusCode=e,this.headers=t,this.info=n}return e.fromXHR=function(t){var n=t.responseText;try{n=JSON.parse(t.responseText)}catch(e){}return new e(t.status,r(t.getAllResponseHeaders()),n)},e}();t.ErrorResponse=o;var i=function(){return function(e){this.error=e}}();t.NetworkError=i;var s=function(){return function(e){this.error=e}}();t.ProtocolError=s,function(e){e[e.UNSENT=0]=\"UNSENT\",e[e.OPENED=1]=\"OPENED\",e[e.HEADERS_RECEIVED=2]=\"HEADERS_RECEIVED\",e[e.LOADING=3]=\"LOADING\",e[e.DONE=4]=\"DONE\"}(t.XhrReadyState||(t.XhrReadyState={}))},function(e,t,n){var r;Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.VERBOSE=1]=\"VERBOSE\",e[e.DEBUG=2]=\"DEBUG\",e[e.INFO=3]=\"INFO\",e[e.WARNING=4]=\"WARNING\",e[e.ERROR=5]=\"ERROR\"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e){void 0===e&&(e=2),this.threshold=e;var t=Array(),n=\"--------------------------------------------------------------------------------\";window.console.group||(window.console.group=function(e){t.push(e),window.console.log(\"%c \\nBEGIN GROUP: %c\",n,e)}),window.console.groupEnd||(window.console.groupEnd=function(){window.console.log(\"END GROUP: %c\\n%c\",t.pop(),n)})}return e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(window.console.log,r.VERBOSE,e)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(window.console.log,r.DEBUG,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(window.console.info,r.INFO,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(window.console.warn,r.WARNING,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(window.console.error,r.ERROR,e)},e.prototype.log=function(e,t,n){var o=this;if(t>=this.threshold){var i=\"Logger.\"+r[t];n.length>1?(window.console.group(),n.forEach(function(t){o.errorAwareLog(e,t,i)}),window.console.groupEnd()):this.errorAwareLog(e,n[0],i)}},e.prototype.errorAwareLog=function(e,t,n){if(null!=t&&t.info&&t.info.error_uri){var r=t.info.error_description;e((r||\"An error has occurred\")+\". More information can be found at \"+t.info.error_uri+\". Error object: \",t)}else e(n+\": \",t)},e}();t.ConsoleLogger=o;var i=function(){function e(){}return e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e}();t.EmptyLogger=i},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);t.createRetryStrategyOptionsOrDefault=function(e){var t=e.initialTimeoutMillis||1e3,n=e.maxTimeoutMillis||5e3,r=-1;return void 0!==e.limit&&null!=e.limit&&(r=e.limit),{increaseTimeout:void 0!==e.increaseTimeout?e.increaseTimeout:function(e){return 2*e>n?n:2*e},initialTimeoutMillis:t,limit:r,maxTimeoutMillis:n}};var o=function(){return function(e){this.waitTimeMillis=e}}();t.Retry=o;var i=function(){return function(e){this.error=e}}();t.DoNotRetry=i;var s=function(){function e(e,t,n){this.options=e,this.logger=t,this.retryUnsafeRequests=n,this.currentRetryCount=0,this.initialTimeoutMillis=e.initialTimeoutMillis,this.maxTimeoutMillis=e.maxTimeoutMillis,this.limit=e.limit,this.increaseTimeoutFunction=e.increaseTimeout,this.currentBackoffMillis=this.initialTimeoutMillis}return e.prototype.attemptRetry=function(e){if(this.logger.verbose(this.constructor.name+\": Error received\",e),this.currentRetryCount>=this.limit&&this.limit>=0)return this.logger.verbose(this.constructor.name+\": Retry count is over the maximum limit: \"+this.limit),new i(e);if(null==e)return new o(this.calculateMillisToRetry());if(e instanceof r.ErrorResponse&&e.headers[\"Retry-After\"])return this.logger.verbose(this.constructor.name+\": Retry-After header is present, retrying in \"+e.headers[\"Retry-After\"]),new o(1e3*parseInt(e.headers[\"Retry-After\"],10));if(this.retryUnsafeRequests)return new o(this.calculateMillisToRetry());switch(e.constructor){case r.ErrorResponse:var t=e.statusCode,n=e.headers[\"Request-Method\"];return t>=500&&t<600&&(\"GET\"===(s=(s=n).toUpperCase())||\"HEAD\"===s||\"OPTIONS\"===s||\"SUBSCRIBE\"===s)?(this.logger.verbose(this.constructor.name+\": Encountered an error with status code \"+t+\" and request method \"+n+\", will retry\"),new o(this.calculateMillisToRetry())):(this.logger.verbose(this.constructor.name+\": Encountered an error with status code \"+t+\" and request method \"+n+\", will not retry\",e),new i(e));case r.NetworkError:return this.logger.verbose(this.constructor.name+\": Encountered a network error, will retry\",e),new o(this.calculateMillisToRetry());case r.ProtocolError:return this.logger.verbose(this.constructor.name+\": Encountered a protocol error, will retry\",e),new o(this.calculateMillisToRetry());default:return this.logger.verbose(this.constructor.name+\": Encountered an error, will retry\",e),new o(this.calculateMillisToRetry())}var s},e.prototype.calculateMillisToRetry=function(){return this.currentBackoffMillis=this.increaseTimeoutFunction(this.currentBackoffMillis),this.logger.verbose(this.constructor.name+\": Retrying in \"+this.currentBackoffMillis+\"ms\"),this.currentBackoffMillis},e}();t.RetryResolution=s},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(1),i=n(4),s=n(5),a=n(6),u=n(11),c=n(12),h=n(7),l=n(13),d=n(14),f=n(8),p=function(){function e(e){this.options=e,this.host=e.host.replace(/(\\/)+$/,\"\");var t=e.logger||new o.ConsoleLogger;this.logger=t,this.websocketTransport=new d.default(this.host,t),this.httpTransport=new l.default(this.host,e.encrypted),this.sdkProduct=e.sdkProduct||\"unknown\",this.sdkVersion=e.sdkVersion||\"unknown\",this.sdkLanguage=e.sdkLanguage||\"javascript\",this.sdkPlatform=navigator?\"ReactNative\"===navigator.product?\"react-native\":\"web\":\"node\"}return e.prototype.request=function(e,t){var n=this;return e.tokenProvider?e.tokenProvider.fetchToken(t).then(function(t){var n;return void 0!==e.headers?e.headers.Authorization=\"Bearer \"+t:e.headers=((n={}).Authorization=\"Bearer \"+t,n),e}).then(function(e){return n.makeRequest(e)}):this.makeRequest(e)},e.prototype.subscribeResuming=function(e,t,n,o,i,a){var l=c.replaceMissingListenersWithNoOps(n),d=u.subscribeStrategyListenersFromSubscriptionListeners(l),p=!1;return s.createResumingStrategy(o,h.createTokenProvidingStrategy(f.createTransportStrategy(e,this.websocketTransport,this.logger),this.logger,a),this.logger,i)({onEnd:d.onEnd,onError:d.onError,onEvent:d.onEvent,onOpen:function(e){p||(p=!0,d.onOpen(e)),l.onSubscribe()},onRetrying:d.onRetrying},r({},t,this.infoHeaders()))},e.prototype.subscribeNonResuming=function(e,t,n,o,i){var s=c.replaceMissingListenersWithNoOps(n),l=u.subscribeStrategyListenersFromSubscriptionListeners(s),d=!1;return a.createRetryingStrategy(o,h.createTokenProvidingStrategy(f.createTransportStrategy(e,this.websocketTransport,this.logger),this.logger,i),this.logger)({onEnd:l.onEnd,onError:l.onError,onEvent:l.onEvent,onOpen:function(e){d||(d=!0,l.onOpen(e)),s.onSubscribe()},onRetrying:l.onRetrying},r({},t,this.infoHeaders()))},e.prototype.infoHeaders=function(){return{\"X-SDK-Language\":this.sdkLanguage,\"X-SDK-Platform\":this.sdkPlatform,\"X-SDK-Product\":this.sdkProduct,\"X-SDK-Version\":this.sdkVersion}},e.prototype.makeRequest=function(e){var t=this;return i.executeNetworkRequest(function(){return t.httpTransport.request(r({},e,{headers:r({},e.headers,t.infoHeaders())}))},e).catch(function(e){throw t.logger.error(e),e})},e}();t.BaseClient=p},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);function o(e,t,n){return e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300?t(e.response):0!==e.status?n(r.ErrorResponse.fromXHR(e)):n(new r.NetworkError(\"No Connection\")))},e}t.executeNetworkRequest=function(e,t){return new Promise(function(n,r){!function(e,t){t.json?e.send(JSON.stringify(t.json)):e.send(t.body)}(o(e(),n,r),t)})},t.sendRawRequest=function(e){return new Promise(function(t,n){var r=o(new window.XMLHttpRequest,t,n);if(r.withCredentials=Boolean(e.withCredentials),r.open(e.method.toUpperCase(),e.url,!0),e.headers)for(var i in e.headers)e.headers.hasOwnProperty(i)&&r.setRequestHeader(i,e.headers[i]);r.send(e.body)})}},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=n(2);t.createResumingStrategy=function(e,t,n,r){var s=o.createRetryStrategyOptionsOrDefault(e),a=new o.RetryResolution(s,n);return function(e,r){return new i(n,r,t,e,a)}};var i=function(){return function(e,t,n,r,o){var i=this;this.unsubscribe=function(){i.state.unsubscribe()},this.onTransition=function(e){i.state=e},this.state=new s(this.onTransition,e,t,n,r,o)}}(),s=function(){function e(e,t,n,r,o,i,s){var c=this;this.onTransition=e,this.logger=t,this.headers=n,this.nextSubscribeStrategy=r,this.listeners=o,this.retryResolution=i,this.initialEventId=s;var l=s;t.verbose(\"ResumingSubscription: transitioning to OpeningSubscriptionState\"),l&&(n[\"Last-Event-Id\"]=l,t.verbose(\"ResumingSubscription: initialEventId is \"+l)),this.underlyingSubscription=r({onEnd:function(n){e(new h(t,o,n))},onError:function(s){e(new u(s,e,t,n,o,r,i,l))},onEvent:function(e){l=e.eventId,o.onEvent(e)},onOpen:function(n){e(new a(t,n,o,c.underlyingSubscription,e))},onRetrying:o.onRetrying},n)}return e.prototype.unsubscribe=function(){this.onTransition(new c(this.logger)),null!=this.underlyingSubscription&&this.underlyingSubscription.unsubscribe()},e}(),a=function(){function e(e,t,n,r,o){this.logger=e,this.headers=t,this.listeners=n,this.underlyingSubscription=r,this.onTransition=o,e.verbose(\"ResumingSubscription: transitioning to OpenSubscriptionState\"),n.onOpen(t)}return e.prototype.unsubscribe=function(){this.onTransition(new c(this.logger)),this.underlyingSubscription.unsubscribe()},e}(),u=function(){function e(e,t,n,i,s,u,c,d){var f=this;this.onTransition=t,this.logger=n,this.headers=i,this.listeners=s,this.nextSubscribeStrategy=u,this.retryResolution=c,this.timeout=-1,n.verbose(\"ResumingSubscription: transitioning to ResumingSubscriptionState\");var p=function(e,i){s.onRetrying();var a,u=((a=e)instanceof r.ErrorResponse&&(a.headers[\"Request-Method\"]=\"SUBSCRIBE\"),c.attemptRetry(a));u instanceof o.Retry?f.timeout=window.setTimeout(function(){g(i)},u.waitTimeMillis):t(new l(n,s,e))},g=function(e){n.verbose(\"ResumingSubscription: trying to re-establish the subscription\"),e&&(n.verbose(\"ResumingSubscription: lastEventId: \"+e),i[\"Last-Event-Id\"]=e),f.underlyingSubscription=u({onEnd:function(e){t(new h(n,s,e))},onError:function(e){p(e,d)},onEvent:function(e){d=e.eventId,s.onEvent(e)},onOpen:function(e){t(new a(n,e,s,f.underlyingSubscription,t))},onRetrying:s.onRetrying},i)};p(e,d)}return e.prototype.unsubscribe=function(){this.onTransition(new c(this.logger)),window.clearTimeout(this.timeout),null!=this.underlyingSubscription&&this.underlyingSubscription.unsubscribe()},e}(),c=function(){function e(e,t){this.logger=e,e.verbose(\"ResumingSubscription: transitioning to EndingSubscriptionState\")}return e.prototype.unsubscribe=function(){throw new Error(\"Subscription is already ending\")},e}(),h=function(){function e(e,t,n){this.logger=e,this.listeners=t,e.verbose(\"ResumingSubscription: transitioning to EndedSubscriptionState\"),t.onEnd(n)}return e.prototype.unsubscribe=function(){throw new Error(\"Subscription has already ended\")},e}(),l=function(){function e(e,t,n){this.logger=e,this.listeners=t,e.verbose(\"ResumingSubscription: transitioning to FailedSubscriptionState\",n),t.onError(n)}return e.prototype.unsubscribe=function(){throw new Error(\"Subscription has already ended\")},e}()},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=n(2);t.createRetryingStrategy=function(e,t,n){var r=o.createRetryStrategyOptionsOrDefault(e),s=new o.RetryResolution(r,n);return function(e,r){return new i(n,r,e,t,s)}};var i=function(){return function(e,t,n,r,o){var i=this;this.unsubscribe=function(){i.state.unsubscribe()},this.onTransition=function(e){i.state=e},this.state=new s(this.onTransition,e,t,n,r,o)}}(),s=function(){function e(e,t,n,r,o,i){var s=this;this.logger=t,this.headers=n,this.listeners=r,this.nextSubscribeStrategy=o,this.retryResolution=i,t.verbose(\"RetryingSubscription: transitioning to OpeningSubscriptionState\"),this.underlyingSubscription=o({onEnd:function(n){return e(new c(t,r,n))},onError:function(s){return e(new a(s,e,t,n,r,o,i))},onEvent:r.onEvent,onOpen:function(n){return e(new u(t,r,n,s.underlyingSubscription,e))},onRetrying:r.onRetrying},n)}return e.prototype.unsubscribe=function(){throw this.underlyingSubscription.unsubscribe(),new Error(\"Method not implemented.\")},e}(),a=function(){function e(e,t,n,i,s,a,l){var d=this;this.onTransition=t,this.logger=n,this.headers=i,this.listeners=s,this.nextSubscribeStrategy=a,this.retryResolution=l,this.timeout=-1,n.verbose(\"RetryingSubscription: transitioning to RetryingSubscriptionState\");var f=function(e){s.onRetrying();var i,a=((i=e)instanceof r.ErrorResponse&&(i.headers[\"Request-Method\"]=\"SUBSCRIBE\"),l.attemptRetry(i));a instanceof o.Retry?d.timeout=window.setTimeout(function(){p()},a.waitTimeMillis):t(new h(n,s,e))},p=function(){n.verbose(\"RetryingSubscription: trying to re-establish the subscription\");var e=a({onEnd:function(e){return t(new c(n,s,e))},onError:function(e){return f(e)},onEvent:s.onEvent,onOpen:function(r){t(new u(n,s,r,e,t))},onRetrying:s.onRetrying},i)};f(e)}return e.prototype.unsubscribe=function(){window.clearTimeout(this.timeout),this.onTransition(new c(this.logger,this.listeners))},e}(),u=function(){function e(e,t,n,r,o){this.logger=e,this.listeners=t,this.headers=n,this.underlyingSubscription=r,this.onTransition=o,e.verbose(\"RetryingSubscription: transitioning to OpenSubscriptionState\"),t.onOpen(n)}return e.prototype.unsubscribe=function(){this.underlyingSubscription.unsubscribe(),this.onTransition(new c(this.logger,this.listeners))},e}(),c=function(){function e(e,t,n){this.logger=e,this.listeners=t,e.verbose(\"RetryingSubscription: transitioning to EndedSubscriptionState\"),t.onEnd(n)}return e.prototype.unsubscribe=function(){throw new Error(\"Subscription has already ended\")},e}(),h=function(){function e(e,t,n){this.logger=e,this.listeners=t,e.verbose(\"RetryingSubscription: transitioning to FailedSubscriptionState\",n),t.onError(n)}return e.prototype.unsubscribe=function(){throw new Error(\"Subscription has already ended\")},e}()},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);t.createTokenProvidingStrategy=function(e,t,n){return n?function(r,i){return new o(t,r,i,n,e)}:e};var o=function(){function e(e,t,n,r,o){var a=this;this.logger=e,this.listeners=t,this.headers=n,this.tokenProvider=r,this.nextSubscribeStrategy=o,this.unsubscribe=function(){a.state.unsubscribe(),a.state=new s(a.logger)},this.state=new i(e,n,o),this.subscribe()}return e.prototype.subscribe=function(){var e=this;this.tokenProvider.fetchToken().then(function(t){var n=Object.assign({},e.listeners);e.state.subscribe(t,{onEnd:function(t){e.state=new s(e.logger),n.onEnd(t)},onError:function(r){e.isTokenExpiredError(r)?(e.tokenProvider.clearToken(t),e.subscribe()):(e.state=new s(e.logger),n.onError(r))},onEvent:e.listeners.onEvent,onOpen:e.listeners.onOpen})}).catch(function(t){e.logger.debug(\"TokenProvidingSubscription: error when fetching token:\",t),e.state=new s(e.logger),e.listeners.onError(t)})},e.prototype.isTokenExpiredError=function(e){return e instanceof r.ErrorResponse&&401===e.statusCode&&\"authentication/expired\"===e.info},e}(),i=function(){function e(e,t,n){this.logger=e,this.headers=t,this.nextSubscribeStrategy=n,e.verbose(\"TokenProvidingSubscription: transitioning to ActiveState\")}return e.prototype.subscribe=function(e,t){var n=this;this.putTokenIntoHeader(e),this.underlyingSubscription=this.nextSubscribeStrategy({onEnd:function(e){n.logger.verbose(\"TokenProvidingSubscription: subscription ended\"),t.onEnd(e)},onError:function(e){n.logger.verbose(\"TokenProvidingSubscription: subscription errored:\",e),t.onError(e)},onEvent:t.onEvent,onOpen:function(e){n.logger.verbose(\"TokenProvidingSubscription: subscription opened\"),t.onOpen(e)},onRetrying:t.onRetrying},this.headers)},e.prototype.unsubscribe=function(){null!=this.underlyingSubscription&&this.underlyingSubscription.unsubscribe()},e.prototype.putTokenIntoHeader=function(e){this.headers.Authorization=\"Bearer \"+e,this.logger.verbose(\"TokenProvidingSubscription: token fetched: \"+e)},e}(),s=function(){function e(e){this.logger=e,e.verbose(\"TokenProvidingSubscription: transitioning to InactiveState\")}return e.prototype.subscribe=function(e,t){this.logger.verbose(\"TokenProvidingSubscription: subscribe called in Inactive state; doing nothing\")},e.prototype.unsubscribe=function(){this.logger.verbose(\"TokenProvidingSubscription: unsubscribe called in Inactive state; doing nothing\")},e}()},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.createTransportStrategy=function(e,t,n){return function(n,r){return t.subscribe(e,n,r)}}},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.HOST_BASE=\"pusherplatform.io\"},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(3);t.BaseClient=r.BaseClient;var o=n(9);t.HOST_BASE=o.HOST_BASE;var i=n(15);t.Instance=i.default;var s=n(1);t.ConsoleLogger=s.ConsoleLogger,t.EmptyLogger=s.EmptyLogger;var a=n(0);t.ErrorResponse=a.ErrorResponse,t.NetworkError=a.NetworkError,t.responseToHeadersObject=a.responseToHeadersObject,t.XhrReadyState=a.XhrReadyState;var u=n(4);t.executeNetworkRequest=u.executeNetworkRequest,t.sendRawRequest=u.sendRawRequest;var c=n(5);t.createResumingStrategy=c.createResumingStrategy;var h=n(2);t.createRetryStrategyOptionsOrDefault=h.createRetryStrategyOptionsOrDefault,t.DoNotRetry=h.DoNotRetry,t.Retry=h.Retry,t.RetryResolution=h.RetryResolution;var l=n(6);t.createRetryingStrategy=l.createRetryingStrategy;var d=n(7);t.createTokenProvidingStrategy=d.createTokenProvidingStrategy;var f=n(8);t.createTransportStrategy=f.createTransportStrategy,t.default={BaseClient:r.BaseClient,ConsoleLogger:s.ConsoleLogger,EmptyLogger:s.EmptyLogger,Instance:i.default}},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.subscribeStrategyListenersFromSubscriptionListeners=function(e){return{onEnd:e.onEnd,onError:e.onError,onEvent:e.onEvent,onOpen:e.onOpen,onRetrying:e.onRetrying}}},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.replaceMissingListenersWithNoOps=function(e){return{onEnd:e.onEnd||function(e){},onError:e.onError||function(e){},onEvent:e.onEvent||function(e){},onOpen:e.onOpen||function(e){},onRetrying:e.onRetrying||function(){},onSubscribe:e.onSubscribe||function(){}}}},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=n(0);!function(e){e[e.UNOPENED=0]=\"UNOPENED\",e[e.OPENING=1]=\"OPENING\",e[e.OPEN=2]=\"OPEN\",e[e.ENDING=3]=\"ENDING\",e[e.ENDED=4]=\"ENDED\"}(r=t.HttpTransportState||(t.HttpTransportState={}));var i=function(){function e(e,t){var n=this;return this.gotEOS=!1,this.lastNewlineIndex=0,this.state=r.UNOPENED,this.xhr=e,this.listeners=t,this.xhr.onreadystatechange=function(){switch(n.xhr.readyState){case o.XhrReadyState.UNSENT:case o.XhrReadyState.OPENED:case o.XhrReadyState.HEADERS_RECEIVED:n.assertStateIsIn(r.OPENING);break;case o.XhrReadyState.LOADING:n.onLoading();break;case o.XhrReadyState.DONE:n.onDone()}},this.state=r.OPENING,this.xhr.send(),this}return e.prototype.unsubscribe=function(){this.state=r.ENDED,this.xhr.abort(),this.listeners.onEnd&&this.listeners.onEnd(null)},e.prototype.onLoading=function(){if(this.assertStateIsIn(r.OPENING,r.OPEN,r.ENDING),200===this.xhr.status){this.state===r.OPENING&&(this.state=r.OPEN,this.listeners.onOpen&&this.listeners.onOpen(o.responseToHeadersObject(this.xhr.getAllResponseHeaders()))),this.assertStateIsIn(r.OPEN);var e=this.onChunk();this.assertStateIsIn(r.OPEN,r.ENDING),e&&(this.state=r.ENDED,e instanceof o.ErrorResponse&&204!==e.statusCode&&this.listeners.onError&&this.listeners.onError(e))}},e.prototype.onDone=function(){if(200===this.xhr.status){this.state===r.OPENING&&(this.state=r.OPEN,this.listeners.onOpen&&this.listeners.onOpen(o.responseToHeadersObject(this.xhr.getAllResponseHeaders()))),this.assertStateIsIn(r.OPEN,r.ENDING);var e=this.onChunk();e?(this.state=r.ENDED,204===e.statusCode?this.listeners.onEnd&&this.listeners.onEnd(null):this.listeners.onError&&this.listeners.onError(e)):this.state<=r.ENDING?this.listeners.onError&&this.listeners.onError(new Error(\"HTTP response ended without receiving EOS message\")):this.listeners.onEnd&&this.listeners.onEnd(null)}else{if(this.assertStateIsIn(r.OPENING,r.OPEN,r.ENDED),this.state===r.ENDED)return;0===this.xhr.status?this.listeners.onError&&this.listeners.onError(new o.NetworkError(\"Connection lost.\")):this.listeners.onError&&this.listeners.onError(o.ErrorResponse.fromXHR(this.xhr))}},e.prototype.onChunk=function(){this.assertStateIsIn(r.OPEN);var e=this.xhr.responseText,t=e.lastIndexOf(\"\\n\");if(t>this.lastNewlineIndex){var n=e.slice(this.lastNewlineIndex,t).split(\"\\n\");this.lastNewlineIndex=t;for(var o=0,i=n;o<i.length;o++){var s=i[o];if(0!==s.length){var a=JSON.parse(s),u=this.onMessage(a);if(null!=u)return u}}}},e.prototype.assertStateIsIn=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!t.some(function(t){return t===e.state})){var o=t.map(function(e){return r[e]}).join(\", \"),i=r[this.state];window.console.warn(\"Expected this.state to be one of [\"+o+\"] but it is \"+i)}},e.prototype.onMessage=function(e){switch(this.assertStateIsIn(r.OPEN),this.verifyMessage(e),e[0]){case 0:return null;case 1:return this.onEventMessage(e);case 255:return this.onEOSMessage(e);default:return new Error(\"Unknown Message: \"+JSON.stringify(e))}},e.prototype.onEventMessage=function(e){if(this.assertStateIsIn(r.OPEN),4!==e.length)return new Error(\"Event message has \"+e.length+\" elements (expected 4)\");e[0];var t=e[1],n=e[2],o=e[3];return\"string\"!=typeof t?new Error(\"Invalid event ID in message: \"+JSON.stringify(e)):\"object\"!=typeof n||Array.isArray(n)?new Error(\"Invalid event headers in message: \"+JSON.stringify(e)):(this.listeners.onEvent&&this.listeners.onEvent({body:o,headers:n,eventId:t}),null)},e.prototype.onEOSMessage=function(e){if(this.assertStateIsIn(r.OPEN),4!==e.length)return new Error(\"EOS message has \"+e.length+\" elements (expected 4)\");e[0];var t=e[1],n=e[2],i=e[3];return\"number\"!=typeof t?new Error(\"Invalid EOS Status Code\"):\"object\"!=typeof n||Array.isArray(n)?new Error(\"Invalid EOS ElementsHeaders\"):(this.state=r.ENDING,new o.ErrorResponse(t,n,i))},e.prototype.verifyMessage=function(e){return this.gotEOS?new Error(\"Got another message after EOS message\"):Array.isArray(e)?e.length<1?new Error(\"Message is empty array\"):void 0:new Error(\"Message is not an array\")},e}(),s=function(){function e(e,t){void 0===t&&(t=!0),this.baseURL=(t?\"https\":\"http\")+\"://\"+e}return e.prototype.request=function(e){return this.createXHR(this.baseURL,e)},e.prototype.subscribe=function(e,t,n){var r={headers:n,method:\"SUBSCRIBE\",path:e};return new i(this.createXHR(this.baseURL,r),t)},e.prototype.createXHR=function(e,t){var n=new window.XMLHttpRequest,r=e+\"/\"+t.path.replace(/^\\/+/,\"\");if(n.open(t.method.toUpperCase(),r,!0),n=this.setJSONHeaderIfAppropriate(n,t),t.jwt&&n.setRequestHeader(\"authorization\",\"Bearer \"+t.jwt),t.headers)for(var o in t.headers)t.headers.hasOwnProperty(o)&&n.setRequestHeader(o,t.headers[o]);return n},e.prototype.setJSONHeaderIfAppropriate=function(e,t){return t.json&&e.setRequestHeader(\"content-type\",\"application/json\"),e},e}();t.default=s},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,\"__esModule\",{value:!0});var o,i=n(0);!function(e){e[e.Connecting=0]=\"Connecting\",e[e.Open=1]=\"Open\",e[e.Closing=2]=\"Closing\",e[e.Closed=3]=\"Closed\"}(o=t.WSReadyState||(t.WSReadyState={}));var s=function(){function e(){this.subscriptions={}}return e.prototype.add=function(e,t,n,r){return this.subscriptions[e]={headers:r,listeners:n,path:t},e},e.prototype.has=function(e){return void 0!==this.subscriptions[e]},e.prototype.isEmpty=function(){return 0===Object.keys(this.subscriptions).length},e.prototype.remove=function(e){return delete this.subscriptions[e]},e.prototype.get=function(e){return this.subscriptions[e]},e.prototype.getAll=function(){return this.subscriptions},e.prototype.getAllAsArray=function(){var e=this;return Object.keys(this.subscriptions).map(function(t){return r({subID:parseInt(t,10)},e.subscriptions[parseInt(t,10)])})},e.prototype.removeAll=function(){this.subscriptions={}},e}(),a=function(){function e(e,t){this.wsTransport=e,this.subID=t}return e.prototype.unsubscribe=function(){this.wsTransport.unsubscribe(this.subID)},e}(),u=function(){function e(e,t){this.webSocketPath=\"/ws\",this.forcedClose=!1,this.closedError=null,this.lastSentPingID=null,this.baseURL=\"wss://\"+e+this.webSocketPath,this.lastSubscriptionID=0,this.logger=t,this.subscriptions=new s,this.pendingSubscriptions=new s,this.connect()}return e.prototype.subscribe=function(e,t,n){this.tryReconnectIfNeeded();var r=this.lastSubscriptionID++;return this.socket.readyState!==o.Open?(this.pendingSubscriptions.add(r,e,t,n),new a(this,r)):(this.subscriptions.add(r,e,t,n),this.sendMessage(this.getMessage(100,r,e,n)),new a(this,r))},e.prototype.unsubscribe=function(e){this.sendMessage(this.getMessage(198,e));var t=this.subscriptions.get(e);t.listeners.onEnd&&t.listeners.onEnd(null),this.subscriptions.remove(e)},e.prototype.connect=function(){var e=this;this.forcedClose=!1,this.closedError=null,this.socket=new window.WebSocket(this.baseURL),this.socket.onopen=function(t){e.pendingSubscriptions.getAllAsArray().forEach(function(t){var n=t.subID,r=t.path,o=t.listeners,i=t.headers;e.subscribePending(r,o,i,n)}),e.pendingSubscriptions.removeAll(),e.pingInterval=window.setInterval(function(){if(!e.pongTimeout){var t=(new Date).getTime();1e4>t-e.lastMessageReceivedTimestamp||(e.sendMessage(e.getMessage(16,t)),e.lastSentPingID=t,e.pongTimeout=window.setTimeout(function(){1e4>(new Date).getTime()-e.lastMessageReceivedTimestamp?e.pongTimeout=null:e.close(new i.NetworkError(\"Pong response wasn't received within timeout\"))},1e4))}},3e4)},this.socket.onmessage=function(t){return e.receiveMessage(t)},this.socket.onerror=function(t){e.logger.verbose(\"WebSocket encountered an error event\",t)},this.socket.onclose=function(t){e.logger.verbose(\"WebSocket encountered a close event\",t);var n=e.subscriptions.getAllAsArray().concat(e.pendingSubscriptions.getAllAsArray());e.subscriptions.removeAll(),e.pendingSubscriptions.removeAll(),n.forEach(function(t){t.listeners.onError&&t.listeners.onError(e.closedError)}),e.tryReconnectIfNeeded()}},e.prototype.close=function(e){if(this.socket instanceof window.WebSocket){var t=function(e){};null!=this.socket.onclose&&(t=this.socket.onclose.bind(this)),this.socket.onclose=function(){},this.socket.onerror=function(){},this.socket.onmessage=function(){},this.socket.onopen=function(){},this.forcedClose=!0,this.closedError=e,this.socket.close(),window.clearTimeout(this.pingInterval),window.clearTimeout(this.pongTimeout),this.pongTimeout=null,this.pingInterval=null,this.lastSentPingID=null,t()}},e.prototype.tryReconnectIfNeeded=function(){(this.forcedClose||this.socket.readyState===o.Closed)&&this.connect()},e.prototype.subscribePending=function(e,t,n,r){void 0!==r?(this.subscriptions.add(r,e,t,n),this.sendMessage(this.getMessage(100,r,e,n))):this.logger.debug(\"Subscription to path \"+e+\" has an undefined ID\")},e.prototype.getMessage=function(e,t,n,r){return[e,t,n,r]},e.prototype.sendMessage=function(e){this.socket.readyState===o.Open?this.socket.send(JSON.stringify(e)):this.logger.warn(\"Can't send on socket in \\\"\"+o[this.socket.readyState]+'\" state')},e.prototype.subscription=function(e){return this.subscriptions.get(e)},e.prototype.receiveMessage=function(e){var t;this.lastMessageReceivedTimestamp=(new Date).getTime();try{t=JSON.parse(e.data)}catch(t){return void this.close(new i.ProtocolError(\"Message is not valid JSON format. Getting \"+e.data))}var n=this.validateMessage(t);if(n)this.close(n);else{var r=t.shift();switch(r){case 17:return void this.onPongMessage(t);case 16:return void this.onPingMessage(t);case 99:return void this.onCloseMessage(t)}var o=t.shift(),s=this.subscription(o);if(s){var a=s.listeners;switch(r){case 101:this.onOpenMessage(t,o,a);break;case 102:this.onEventMessage(t,a);break;case 199:this.onEOSMessage(t,o,a);break;default:this.close(new i.ProtocolError(\"Received unknown type of message.\"))}}else this.logger.debug(\"Received message for unknown subscription ID: \"+o)}},e.prototype.validateMessage=function(e){return Array.isArray(e)?e.length<1?new i.ProtocolError(\"Message is empty array: \"+JSON.stringify(e)):null:new i.ProtocolError(\"Message is expected to be an array. Getting: \"+JSON.stringify(e))},e.prototype.onOpenMessage=function(e,t,n){n.onOpen&&n.onOpen(e[1])},e.prototype.onEventMessage=function(e,t){if(3===e.length){var n=e[0],r=e[1],o=e[2];\"string\"==typeof n?\"object\"!=typeof r||Array.isArray(r)?t.onError&&t.onError(new i.ProtocolError(\"Invalid event headers in message: \"+JSON.stringify(e))):t.onEvent&&t.onEvent({eventId:n,headers:r,body:o}):t.onError&&t.onError(new i.ProtocolError(\"Invalid event ID in message: \"+JSON.stringify(e)))}else t.onError&&t.onError(new i.ProtocolError(\"Event message has \"+e.length+\" elements (expected 4)\"))},e.prototype.onEOSMessage=function(e,t,n){if(this.subscriptions.remove(t),3===e.length){var r=e[0],o=e[1],s=e[2];\"number\"==typeof r?\"object\"!=typeof o||Array.isArray(o)?n.onError&&n.onError(new i.ProtocolError(\"Invalid EOS ElementsHeaders\")):204!==r?n.onError&&n.onError(new i.ErrorResponse(r,o,s)):n.onEnd&&n.onEnd(null):n.onError&&n.onError(new i.ProtocolError(\"Invalid EOS Status Code\"))}else n.onError&&n.onError(new i.ProtocolError(\"EOS message has \"+e.length+\" elements (expected 4)\"))},e.prototype.onCloseMessage=function(e){var t=e[0],n=e[1],r=e[2];if(\"number\"==typeof t)if(\"object\"!=typeof n||Array.isArray(n))this.close(new i.ProtocolError(\"Close message: Invalid EOS ElementsHeaders\"));else{var o={error:r.error||\"network_error\",error_description:r.error_description||\"Network error\"};this.close(new i.ErrorResponse(t,n,o))}else this.close(new i.ProtocolError(\"Close message: Invalid EOS Status Code\"))},e.prototype.onPongMessage=function(e){var t=e[0];this.lastSentPingID!==t&&this.close(new i.ProtocolError(\"Received pong with ID \"+t+\" but last sent ping ID was \"+this.lastSentPingID)),window.clearTimeout(this.pongTimeout),delete this.pongTimeout,this.lastSentPingID=null},e.prototype.onPingMessage=function(e){var t=e[0];this.sendMessage(this.getMessage(17,t))},e}();t.default=u},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(3),o=n(9),i=n(1),s=function(){function e(e){if(!e.locator)throw new Error(\"Expected `locator` property in Instance options!\");var t=e.locator.split(\":\");if(3!==t.length)throw new Error(\"The instance locator supplied is invalid. Did you copy it correctly from the Pusher dashboard?\");if(!e.serviceName)throw new Error(\"Expected `serviceName` property in Instance options!\");if(!e.serviceVersion)throw new Error(\"Expected `serviceVersion` property in Instance options!\");this.platformVersion=t[0],this.cluster=t[1],this.id=t[2],this.serviceName=e.serviceName,this.serviceVersion=e.serviceVersion,this.host=e.host||this.cluster+\".\"+o.HOST_BASE,this.logger=e.logger||new i.ConsoleLogger,this.client=e.client||new r.BaseClient({encrypted:e.encrypted,host:this.host,logger:this.logger}),this.tokenProvider=e.tokenProvider}return e.prototype.request=function(e,t){return e.path=this.absPath(e.path),null!=e.headers&&void 0!==e.headers||(e.headers={}),e.tokenProvider=e.tokenProvider||this.tokenProvider,this.client.request(e,t)},e.prototype.subscribeNonResuming=function(e){var t=e.headers||{},n=e.retryStrategyOptions||{},r=e.tokenProvider||this.tokenProvider;return this.client.subscribeNonResuming(this.absPath(e.path),t,e.listeners,n,r)},e.prototype.subscribeResuming=function(e){var t=e.headers||{},n=e.retryStrategyOptions||{},r=e.tokenProvider||this.tokenProvider;return this.client.subscribeResuming(this.absPath(e.path),t,e.listeners,n,e.initialEventId,r)},e.prototype.absPath=function(e){return(\"/services/\"+this.serviceName+\"/\"+this.serviceVersion+\"/\"+this.id+\"/\"+e).replace(/\\/+/g,\"/\").replace(/\\/+$/,\"\")},e}();t.default=s}])},e.exports=n()}(e={exports:{}},e.exports),e.exports);(t=n)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")&&t.default;var r=n.BaseClient,o=n.HOST_BASE,i=n.Instance,s=n.sendRawRequest;function a(e){return null!=e&&\"object\"==typeof e&&!0===e[\"@@functional/placeholder\"]}function u(e){return function t(n){return 0===arguments.length||a(n)?t:e.apply(this,arguments)}}function c(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return a(n)?t:u(function(t){return e(n,t)});default:return a(n)&&a(r)?t:a(n)?u(function(t){return e(t,r)}):a(r)?u(function(t){return e(n,t)}):e(n,r)}}}function h(e,t){var n;e=e||[],t=t||[];var r=e.length,o=t.length,i=[];for(n=0;n<r;)i[i.length]=e[n],n+=1;for(n=0;n<o;)i[i.length]=t[n],n+=1;return i}function l(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,s){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,s,a){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,s,a,u){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,s,a,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,s,a,u,c,h){return t.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}function d(e,t,n){return function(){for(var r=[],o=0,i=e,s=0;s<t.length||o<arguments.length;){var u;s<t.length&&(!a(t[s])||o>=arguments.length)?u=t[s]:(u=arguments[o],o+=1),r[s]=u,a(u)||(i-=1),s+=1}return i<=0?n.apply(this,r):l(i,d(e,r,n))}}var f=c(function(e,t){return 1===e?u(t):l(e,d(e,[],t))});function p(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return a(n)?t:c(function(t,r){return e(n,t,r)});case 2:return a(n)&&a(r)?t:a(n)?c(function(t,n){return e(t,r,n)}):a(r)?c(function(t,r){return e(n,t,r)}):u(function(t){return e(n,r,t)});default:return a(n)&&a(r)&&a(o)?t:a(n)&&a(r)?c(function(t,n){return e(t,n,o)}):a(n)&&a(o)?c(function(t,n){return e(t,r,n)}):a(r)&&a(o)?c(function(t,r){return e(n,t,r)}):a(n)?u(function(t){return e(t,r,o)}):a(r)?u(function(t){return e(n,t,o)}):a(o)?u(function(t){return e(n,r,t)}):e(n,r,o)}}}var g=Array.isArray||function(e){return null!=e&&e.length>=0&&\"[object Array]\"===Object.prototype.toString.call(e)};function v(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!g(o)){for(var i=0;i<e.length;){if(\"function\"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(function(e){return\"function\"==typeof e[\"@@transducer/step\"]}(o))return t.apply(null,r)(o)}return n.apply(this,arguments)}}var m={init:function(){return this.xf[\"@@transducer/init\"]()},result:function(e){return this.xf[\"@@transducer/result\"](e)}},b=c(function(e,t){return t>e?t:e});function y(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}function S(e){return\"[object String]\"===Object.prototype.toString.call(e)}var w=u(function(e){return!!g(e)||!!e&&(\"object\"==typeof e&&(!S(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}),k=function(){function e(e){this.f=e}return e.prototype[\"@@transducer/init\"]=function(){throw new Error(\"init not implemented on XWrap\")},e.prototype[\"@@transducer/result\"]=function(e){return e},e.prototype[\"@@transducer/step\"]=function(e,t){return this.f(e,t)},e}();function I(e){return new k(e)}var E=c(function(e,t){return l(e.length,function(){return e.apply(t,arguments)})});function R(e,t,n){for(var r=n.next();!r.done;){if((t=e[\"@@transducer/step\"](t,r.value))&&t[\"@@transducer/reduced\"]){t=t[\"@@transducer/value\"];break}r=n.next()}return e[\"@@transducer/result\"](t)}function T(e,t,n,r){return e[\"@@transducer/result\"](n[r](E(e[\"@@transducer/step\"],e),t))}var _=\"undefined\"!=typeof Symbol?Symbol.iterator:\"@@iterator\";function O(e,t,n){if(\"function\"==typeof e&&(e=I(e)),w(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e[\"@@transducer/step\"](t,n[r]))&&t[\"@@transducer/reduced\"]){t=t[\"@@transducer/value\"];break}r+=1}return e[\"@@transducer/result\"](t)}(e,t,n);if(\"function\"==typeof n[\"fantasy-land/reduce\"])return T(e,t,n,\"fantasy-land/reduce\");if(null!=n[_])return R(e,t,n[_]());if(\"function\"==typeof n.next)return R(e,t,n);if(\"function\"==typeof n.reduce)return T(e,t,n,\"reduce\");throw new TypeError(\"reduce: list must be array or iterable\")}var P=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype[\"@@transducer/init\"]=m.init,e.prototype[\"@@transducer/result\"]=m.result,e.prototype[\"@@transducer/step\"]=function(e,t){return this.xf[\"@@transducer/step\"](e,this.f(t))},e}(),N=c(function(e,t){return new P(e,t)});function U(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var x=Object.prototype.toString,C=!{toString:null}.propertyIsEnumerable(\"toString\"),M=[\"constructor\",\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],A=function(){return arguments.propertyIsEnumerable(\"length\")}(),j=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},D=u(\"function\"!=typeof Object.keys||A?function(e){if(Object(e)!==e)return[];var t,n,r=[],o=A&&function(){return\"[object Arguments]\"===x.call(arguments)?function(e){return\"[object Arguments]\"===x.call(e)}:function(e){return U(\"callee\",e)}}(e);for(t in e)!U(t,e)||o&&\"length\"===t||(r[r.length]=t);if(C)for(n=M.length-1;n>=0;)U(t=M[n],e)&&!j(r,t)&&(r[r.length]=t),n-=1;return r}:function(e){return Object(e)!==e?[]:Object.keys(e)}),L=c(v([\"fantasy-land/map\",\"map\"],N,function(e,t){switch(Object.prototype.toString.call(t)){case\"[object Function]\":return f(t.length,function(){return e.call(this,t.apply(this,arguments))});case\"[object Object]\":return O(function(n,r){return n[r]=e(t[r]),n},{},D(t));default:return y(e,t)}})),q=c(function(e,t){for(var n=t,r=0;r<e.length;){if(null==n)return;n=n[e[r]],r+=1}return n}),B=c(function(e,t){return q([e],t)}),H=p(O),V=c(function(e,t){return h(t,[e])}),F=u(function(e){for(var t=D(e),n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r});var G=u(function(e){return null===e?\"Null\":void 0===e?\"Undefined\":Object.prototype.toString.call(e).slice(8,-1)});function J(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function W(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return g(r)||\"function\"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var z=p(W(\"slice\",function(e,t,n){return Array.prototype.slice.call(n,e,t)})),X=u(W(\"tail\",z(1,1/0)));function K(){if(0===arguments.length)throw new Error(\"pipe requires at least one argument\");return l(arguments[0].length,H(J,arguments[0],X(arguments)))}var Y=u(function(e){return S(e)?e.split(\"\").reverse().join(\"\"):Array.prototype.slice.call(e,0).reverse()});function $(){if(0===arguments.length)throw new Error(\"compose requires at least one argument\");return K.apply(this,Y(arguments))}function Z(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Q(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}var ee=c(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t});function te(e,t,n,r){var o=Z(e);function i(e,t){return ne(e,t,n.slice(),r.slice())}return!Q(function(e,t){return!Q(i,t,e)},Z(t),o)}function ne(e,t,n,r){if(ee(e,t))return!0;var o,i,s=G(e);if(s!==G(t))return!1;if(null==e||null==t)return!1;if(\"function\"==typeof e[\"fantasy-land/equals\"]||\"function\"==typeof t[\"fantasy-land/equals\"])return\"function\"==typeof e[\"fantasy-land/equals\"]&&e[\"fantasy-land/equals\"](t)&&\"function\"==typeof t[\"fantasy-land/equals\"]&&t[\"fantasy-land/equals\"](e);if(\"function\"==typeof e.equals||\"function\"==typeof t.equals)return\"function\"==typeof e.equals&&e.equals(t)&&\"function\"==typeof t.equals&&t.equals(e);switch(s){case\"Arguments\":case\"Array\":case\"Object\":if(\"function\"==typeof e.constructor&&\"Promise\"===(o=e.constructor,null==(i=String(o).match(/^function (\\w*)/))?\"\":i[1]))return e===t;break;case\"Boolean\":case\"Number\":case\"String\":if(typeof e!=typeof t||!ee(e.valueOf(),t.valueOf()))return!1;break;case\"Date\":if(!ee(e.valueOf(),t.valueOf()))return!1;break;case\"Error\":return e.name===t.name&&e.message===t.message;case\"RegExp\":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(s){case\"Map\":return e.size===t.size&&te(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case\"Set\":return e.size===t.size&&te(e.values(),t.values(),n.concat([e]),r.concat([t]));case\"Arguments\":case\"Array\":case\"Object\":case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"Error\":case\"RegExp\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":case\"ArrayBuffer\":break;default:return!1}var u=D(e);if(u.length!==D(t).length)return!1;var c=n.concat([e]),h=r.concat([t]);for(a=u.length-1;a>=0;){var l=u[a];if(!U(l,t)||!ne(t[l],e[l],c,h))return!1;a-=1}return!0}var re=c(function(e,t){return ne(e,t,[],[])});function oe(e,t){return function(e,t,n){var r,o;if(\"function\"==typeof e.indexOf)switch(typeof t){case\"number\":if(0===t){for(r=1/t;n<e.length;){if(0===(o=e[n])&&1/o===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if(\"number\"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case\"string\":case\"boolean\":case\"function\":case\"undefined\":return e.indexOf(t,n);case\"object\":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(re(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}function ie(e){return'\"'+e.replace(/\\\\/g,\"\\\\\\\\\").replace(/[\\b]/g,\"\\\\b\").replace(/\\f/g,\"\\\\f\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\t/g,\"\\\\t\").replace(/\\v/g,\"\\\\v\").replace(/\\0/g,\"\\\\0\").replace(/\"/g,'\\\\\"')+'\"'}var se=function(e){return(e<10?\"0\":\"\")+e},ae=\"function\"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+\"-\"+se(e.getUTCMonth()+1)+\"-\"+se(e.getUTCDate())+\"T\"+se(e.getUTCHours())+\":\"+se(e.getUTCMinutes())+\":\"+se(e.getUTCSeconds())+\".\"+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+\"Z\"};var ue=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype[\"@@transducer/init\"]=m.init,e.prototype[\"@@transducer/result\"]=m.result,e.prototype[\"@@transducer/step\"]=function(e,t){return this.f(t)?this.xf[\"@@transducer/step\"](e,t):e},e}(),ce=c(v([\"filter\"],c(function(e,t){return new ue(e,t)}),function(e,t){return n=t,\"[object Object]\"===Object.prototype.toString.call(n)?O(function(n,r){return e(t[r])&&(n[r]=t[r]),n},{},D(t)):function(e,t){for(var n=0,r=t.length,o=[];n<r;)e(t[n])&&(o[o.length]=t[n]),n+=1;return o}(e,t);var n})),he=c(function(e,t){return ce((n=e,function(){return!n.apply(this,arguments)}),t);var n});var le=u(function(e){return function e(t,n){var r=function(r){var o=n.concat([t]);return oe(r,o)?\"<Circular>\":e(r,o)},o=function(e,t){return y(function(t){return ie(t)+\": \"+r(e[t])},t.slice().sort())};switch(Object.prototype.toString.call(t)){case\"[object Arguments]\":return\"(function() { return arguments; }(\"+y(r,t).join(\", \")+\"))\";case\"[object Array]\":return\"[\"+y(r,t).concat(o(t,he(function(e){return/^\\d+$/.test(e)},D(t)))).join(\", \")+\"]\";case\"[object Boolean]\":return\"object\"==typeof t?\"new Boolean(\"+r(t.valueOf())+\")\":t.toString();case\"[object Date]\":return\"new Date(\"+(isNaN(t.valueOf())?r(NaN):ie(ae(t)))+\")\";case\"[object Null]\":return\"null\";case\"[object Number]\":return\"object\"==typeof t?\"new Number(\"+r(t.valueOf())+\")\":1/t==-1/0?\"-0\":t.toString(10);case\"[object String]\":return\"object\"==typeof t?\"new String(\"+r(t.valueOf())+\")\":ie(t);case\"[object Undefined]\":return\"undefined\";default:if(\"function\"==typeof t.toString){var i=t.toString();if(\"[object Object]\"!==i)return i}return\"{\"+o(t,D(t)).join(\", \")+\"}\"}}(e,[])}),de=c(oe),fe=c(W(\"forEach\",function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t})),pe=c(function(e,t){for(var n=D(t),r=0;r<n.length;){var o=n[r];e(t[o],o,t),r+=1}return t}),ge=c(U);function ve(e){return e}var me=u(ve),be=function(){function e(){this._nativeSet=\"function\"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!ye(e,!0,this)},e.prototype.has=function(e){return ye(e,!1,this)},e}();function ye(e,t,n){var r,o=typeof e;switch(o){case\"string\":case\"number\":return 0===e&&1/e==-1/0?!!n._items[\"-0\"]||(t&&(n._items[\"-0\"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):o in n._items?e in n._items[o]||(t&&(n._items[o][e]=!0),!1):(t&&(n._items[o]={},n._items[o][e]=!0),!1);case\"boolean\":if(o in n._items){var i=e?1:0;return!!n._items[o][i]||(t&&(n._items[o][i]=!0),!1)}return t&&(n._items[o]=e?[!1,!0]:[!0,!1]),!1;case\"function\":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):o in n._items?!!oe(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1);case\"undefined\":return!!n._items[o]||(t&&(n._items[o]=!0),!1);case\"object\":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(e))in n._items?!!oe(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1)}}var Se=c(function(e,t){for(var n,r,o=new be,i=[],s=0;s<t.length;)n=e(r=t[s]),o.add(n)&&i.push(r),s+=1;return i})(me),we=c(function(e,t){return f(e+1,function(){var n,r=arguments[e];if(null!=r&&(n=r[t],\"[object Function]\"===Object.prototype.toString.call(n)))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(le(r)+' does not have a method named \"'+t+'\"')})}),ke=we(1,\"join\");var Ie=c(function(e,t){return Array.prototype.slice.call(t,0).sort(e)}),Ee=we(1,\"split\"),Re=u(function(e){var t=[];for(var n in e)U(n,e)&&(t[t.length]=[n,e[n]]);return t}),Te=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\",_e=(String.prototype.trim,\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e}),Oe=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},xe=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),Ce=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Me=K(ce(function(e){return void 0!==e}),Re,L(function(e){var t=xe(e,2),n=t[0],r=t[1];return n+\"=\"+encodeURIComponent(r)}),ke(\"&\")),Ae=function(e,t,n){var r=void 0===n?\"undefined\":_e(n);if(r!==t)throw new TypeError(\"expected \"+e+\" to be of type \"+t+\" but was of type \"+r)},je=function(e,t){var n=void 0===t?\"undefined\":_e(t);if(\"string\"!==n&&\"function\"!==n)throw new TypeError(\"expected \"+e+\" to be a string or function but was of type \"+n)},De=function(e,t){var n=void 0===t?\"undefined\":_e(t);if(\"object\"!==n&&\"function\"!==n)throw new TypeError(\"expected \"+e+\" to be an object or function but was of type \"+n)},Le=function(e,t,n){if(!Array.isArray(n))throw new TypeError(\"expected \"+e+\" to be an array\");n.forEach(function(n,r){return Ae(e+\"[\"+r+\"]\",t,n)})},qe=function(e,t,n){Ae(e,\"object\",n),pe(function(n,r){return Ae(e+\".\"+r,t,n)},n)},Be=function(){return Math.floor(Date.now()/1e3)},He=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,r=t.queryParams,o=t.headers,i=t.withCredentials;Oe(this,e),je(\"url\",n),r&&De(\"queryParams\",r),o&&De(\"headers\",o),this.url=n,this.queryParams=r,this.headers=o,this.withCredentials=i,this.fetchToken=this.fetchToken.bind(this),this.fetchFreshToken=this.fetchFreshToken.bind(this),this.cacheIsStale=this.cacheIsStale.bind(this),this.cache=this.cache.bind(this),this.clearCache=this.clearCache.bind(this),this.setUserId=this.setUserId.bind(this)}return Pe(e,[{key:\"getValueOrFunction\",value:function(e){return new Promise(function(t){t(\"function\"==typeof e?e():e)})}},{key:\"fetchToken\",value:function(){var e=this;return this.cacheIsStale()?(this.req||this.fetchFreshToken()).then(function(t){var n=t.token,r=t.expiresIn;return e.cache(n,r),n}):Promise.resolve(this.cachedToken)}},{key:\"fetchFreshToken\",value:function(){var e=this;return this.req=Promise.all([this.getValueOrFunction(this.url),this.getValueOrFunction(this.queryParams),this.getValueOrFunction(this.headers)]).then(function(t){var n=xe(t,3),r=n[0],o=n[1],i=n[2];return s({method:\"POST\",url:function(e,t){return t+(de(\"?\",t)?\"&\":\"?\")+Me(e)}(Ne({user_id:e.userId},o),r),body:Me({grant_type:\"client_credentials\"}),headers:Ne({\"content-type\":\"application/x-www-form-urlencoded\"},i),withCredentials:e.withCredentials})}).then(function(t){var n=JSON.parse(t),r=n.access_token,o=n.expires_in;return delete e.req,{token:r,expiresIn:o}}).catch(function(t){throw delete e.req,t}),this.req}},{key:\"cacheIsStale\",value:function(){return!this.cachedToken||Be()>this.cacheExpiresAt}},{key:\"cache\",value:function(e,t){this.cachedToken=e,this.cacheExpiresAt=Be()+t}},{key:\"clearCache\",value:function(){this.cachedToken=void 0,this.cacheExpiresAt=void 0}},{key:\"setUserId\",value:function(e){this.clearCache(),this.userId=e}}]),e}(),Ve=function(e){return{createdAt:e.created_at,createdByUserId:e.created_by_id,id:e.id,isPrivate:e.private,name:e.name,updatedAt:e.updated_at,customData:e.custom_data,deletedAt:e.deleted_at,unreadCount:e.unread_count,lastMessageAt:e.last_message_at}},Fe=function(e){return{avatarURL:e.avatar_url,createdAt:e.created_at,customData:e.custom_data,id:e.id,name:e.name,updatedAt:e.updated_at}},Ge=function(e){var t={roomId:e.room_id,id:e.id,senderId:e.user_id,createdAt:e.created_at,updatedAt:e.updated_at,deletedAt:e.deleted_at};return e.parts?t.parts=e.parts.map(function(e){return ze(e)}):(t.text=e.text,e.attachment&&(t.attachment=We(e.attachment))),t},Je=function(e){return{position:e.position,updatedAt:e.updated_at,userId:e.user_id,roomId:e.room_id,type:e.cursor_type}},We=function(e){return{link:e.resource_link,type:e.type,name:e.name}},ze=function(e){if(null!=e.content)return{partType:\"inline\",payload:{type:e.type,content:e.content}};if(null!=e.url)return{partType:\"url\",payload:{type:e.type,url:e.url}};if(null!=e.attachment)return{partType:\"attachment\",payload:{type:e.type,name:e.attachment.name,size:e.attachment.size,customData:e.attachment.custom_data,_id:e.attachment.id,_downloadURL:e.attachment.download_url,_expiration:new Date(e.attachment.expiration)}};throw new TypeError(\"failed to parse message part\")},Xe=function(){function e(t,n){Oe(this,e),this.avatarURL=t.avatarURL,this.createdAt=t.createdAt,this.customData=t.customData,this.id=t.id,this.name=t.name,this.updatedAt=t.updatedAt,this.presenceStore=n}return Pe(e,[{key:\"presence\",get:function(){return{state:this.presenceStore[this.id]||\"unknown\"}}}]),e}();function Ke(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t.pending[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;n.push(u),t.inProgress.add(u)}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return t.pending.clear(),e(n).then(function(e){var r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value,c=!0,h=!1,l=void 0;try{for(var d,f=t.callbacks[u][Symbol.iterator]();!(c=(d=f.next()).done);c=!0){d.value.resolve(e)}}catch(e){h=!0,l=e}finally{try{!c&&f.return&&f.return()}finally{if(h)throw l}}t.inProgress.delete(u),delete t.callbacks[u]}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}}).catch(function(e){var r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value,c=!0,h=!1,l=void 0;try{for(var d,f=t.callbacks[u][Symbol.iterator]();!(c=(d=f.next()).done);c=!0){d.value.reject(e)}}catch(e){h=!0,l=e}finally{try{!c&&f.return&&f.return()}finally{if(h)throw l}}t.inProgress.delete(u),delete t.callbacks[u]}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}})}var Ye=50,$e=250,Ze=2e4,Qe=function(){function e(t){var n,r,o,i,s=t.instance,a=t.presenceStore,u=t.logger;Oe(this,e),this.instance=s,this.presenceStore=a,this.logger=u,this.onSetHooks=[],this.users={},this.set=this.set.bind(this),this.get=this.get.bind(this),this.fetchMissingUser=(n=this._fetchMissingUserBatch.bind(this),r=Ye,o=$e,i={callbacks:{},pending:new Set,inProgress:new Set},function(e){return new Promise(function(t,s){i.pending.has(e)||i.inProgress.has(e)?i.callbacks[e].push({resolve:t,reject:s}):(i.pending.add(e),i.callbacks[e]=[{resolve:t,reject:s}]),i.pending.size>=o?(clearTimeout(i.timeout),Ke(n,i),delete i.timeout):i.timeout||(i.timeout=setTimeout(function(){Ke(n,i),delete i.timeout},r))})}),this.fetchMissingUsers=this.fetchMissingUsers.bind(this),this.fetchMissingUserReq=this.fetchMissingUserReq.bind(this),this.snapshot=this.snapshot.bind(this),this.getSync=this.getSync.bind(this),this.decorate=this.decorate.bind(this)}return Pe(e,[{key:\"set\",value:function(e){return this.users[e.id]=this.decorate(e),this.onSetHooks.forEach(function(t){return t(e.id)}),Promise.resolve(this.users[e.id])}},{key:\"get\",value:function(e){var t=this;return this.fetchMissingUser(e).then(function(){return t.users[e]})}},{key:\"fetchMissingUsers\",value:function(e){var t=this;return Promise.all(e.map(function(e){return t.fetchMissingUser(e)}))}},{key:\"_fetchMissingUserBatch\",value:function(e){var t=this,n=e.filter(function(e){return!t.users[e]});return n.length>0?this.fetchMissingUserReq(n):Promise.resolve()}},{key:\"fetchMissingUserReq\",value:function(e){var t,n,r,o,i,s=this;return this.instance.request({method:\"GET\",path:(t=\"id\",n=e,r=\"/users_by_ids\",o=de(\"?\",r)?\"\":\"?\",i=L(function(e){return encodeURIComponent(t)+\"=\"+encodeURIComponent(e)},n),r+o+ke(\"&\",i))}).then(function(e){JSON.parse(e).map(function(e){return Fe(e)}).forEach(function(e){s.set(e)})}).catch(function(e){throw s.logger.warn(\"error fetching missing users:\",e),e})}},{key:\"snapshot\",value:function(){return this.users}},{key:\"getSync\",value:function(e){return this.users[e]}},{key:\"decorate\",value:function(e){return e?new Xe(e,this.presenceStore):void 0}}]),e}(),et=function(){function e(t){var n=t.basicRoom,r=t.userStore,o=t.isSubscribedTo,i=t.logger;Oe(this,e),this.createdAt=n.createdAt,this.createdByUserId=n.createdByUserId,this.deletedAt=n.deletedAt,this.id=n.id,this.isPrivate=n.isPrivate,this.name=n.name,this.updatedAt=n.updatedAt,this.customData=n.customData,this.unreadCount=n.unreadCount,this.lastMessageAt=n.lastMessageAt,this.userIds=[],this.userStore=r,this.isSubscribedTo=o,this.logger=i,this.eq=this.eq.bind(this)}return Pe(e,[{key:\"eq\",value:function(e){return this.createdAt===e.createdAt&&this.createdByUserId===e.createdByUserId&&this.deletedAt===e.deletedAt&&this.id===e.id&&this.isPrivate===e.isPrivate&&this.name===e.name&&this.updatedAt===e.updatedAt&&JSON.stringify(this.customData)===JSON.stringify(e.customData)}},{key:\"users\",get:function(){var e=this;if(!this.isSubscribedTo(this.id)){var t=new Error(\"Must be subscribed to room \"+this.id+\" to access users property\");throw this.logger.error(t),t}return ce(function(t){return de(t.id,e.userIds)},F(this.userStore.snapshot()))}}]),e}(),tt=function(){function e(t){Oe(this,e),this.instance=t.instance,this.userStore=t.userStore,this.isSubscribedTo=t.isSubscribedTo,this.logger=t.logger,this.rooms={},this.setSync=this.setSync.bind(this),this.set=this.set.bind(this),this.get=this.get.bind(this),this.popSync=this.popSync.bind(this),this.pop=this.pop.bind(this),this.addUserToRoom=this.addUserToRoom.bind(this),this.removeUserFromRoom=this.removeUserFromRoom.bind(this),this.updateSync=this.updateSync.bind(this),this.update=this.update.bind(this),this.fetchBasicRoom=this.fetchBasicRoom.bind(this),this.snapshot=this.snapshot.bind(this),this.getSync=this.getSync.bind(this),this.decorate=this.decorate.bind(this)}return Pe(e,[{key:\"setSync\",value:function(e){return this.rooms[e.id]||(this.rooms[e.id]=this.decorate(e)),this.rooms[e.id]}},{key:\"set\",value:function(e){return Promise.resolve(this.setSync(e))}},{key:\"get\",value:function(e){var t=this;return Promise.resolve(this.rooms[e]).then(function(n){return n||t.fetchBasicRoom(e).then(function(n){return t.set(e,n)})})}},{key:\"popSync\",value:function(e){var t=this.rooms[e];return delete this.rooms[e],t}},{key:\"pop\",value:function(e){return Promise.resolve(this.popSync(e))}},{key:\"addUserToRoom\",value:function(e,t){return Promise.all([this.get(e).then(function(e){return e.userIds=Se(V(t,e.userIds)),e}),this.userStore.fetchMissingUser(t)]).then(function(e){return xe(e,1)[0]})}},{key:\"removeUserFromRoom\",value:function(e,t){return this.get(e).then(function(e){return e.userIds=e.userIds.filter(function(e){return e!==t}),e})}},{key:\"updateSync\",value:function(e,t){var n=this.getSync(e);for(var r in t)n[r]=t[r];return n}},{key:\"update\",value:function(e,t){var n=this;return Promise.all([this.get(e).then(function(){return n.updateSync(e,t)}),this.userStore.fetchMissingUsers(t.userIds||[])]).then(function(e){return xe(e,1)[0]})}},{key:\"fetchBasicRoom\",value:function(e){var t=this;return this.instance.request({method:\"GET\",path:\"/rooms/\"+encodeURIComponent(e)}).then(K(JSON.parse,Ve)).catch(function(n){t.logger.warn(\"error fetching details for room \"+e+\":\",n)})}},{key:\"snapshot\",value:function(){return this.rooms}},{key:\"getSync\",value:function(e){return this.rooms[e]}},{key:\"decorate\",value:function(e){return e?new et({basicRoom:e,userStore:this.userStore,isSubscribedTo:this.isSubscribedTo,logger:this.logger}):void 0}}]),e}(),nt=function(){function e(t,n,r){Oe(this,e),this.position=t.position,this.updatedAt=t.updatedAt,this.userId=t.userId,this.roomId=t.roomId,this.type=t.type,this.userStore=n,this.roomStore=r}return Pe(e,[{key:\"user\",get:function(){return this.userStore.getSync(this.userId)}},{key:\"room\",get:function(){return this.roomStore.getSync(this.roomId)}}]),e}(),rt=function(){function e(t){var n=t.instance,r=t.userStore,o=t.roomStore,i=t.logger;Oe(this,e),this.instance=n,this.userStore=r,this.roomStore=o,this.logger=i,this.cursors={},this.set=this.set.bind(this),this.get=this.get.bind(this),this.getSync=this.getSync.bind(this),this.fetchBasicCursor=this.fetchBasicCursor.bind(this),this.decorate=this.decorate.bind(this)}return Pe(e,[{key:\"set\",value:function(e){var t=this,n=ot(e.userId,e.roomId);return this.cursors[n]=this.decorate(e),this.userStore.fetchMissingUser(e.userId).then(function(){return t.cursors[n]})}},{key:\"get\",value:function(e,t){var n=this,r=ot(e,t);return this.cursors[r]?Promise.resolve(this.cursors[r]):this.fetchBasicCursor(e,t).then(function(e){return n.set(e)})}},{key:\"getSync\",value:function(e,t){return this.cursors[ot(e,t)]}},{key:\"fetchBasicCursor\",value:function(e,t){var n=this;return this.instance.request({method:\"GET\",path:\"/cursors/0/rooms/\"+encodeURIComponent(t)+\"/users/\"+encodeURIComponent(e)}).then(function(e){var t=JSON.parse(e);if(t)return Je(t)}).catch(function(e){throw n.logger.warn(\"error fetching cursor:\",e),e})}},{key:\"decorate\",value:function(e){return e?new nt(e,this.userStore,this.roomStore):void 0}}]),e}(),ot=function(e,t){return encodeURIComponent(e)+\"/\"+encodeURIComponent(t)},it=function(){function e(t){var n=t.hooks,r=t.instance,o=t.logger;Oe(this,e),this.hooks=n,this.instance=r,this.logger=o,this.lastSentRequests={},this.timers={},this.sendThrottledRequest=this.sendThrottledRequest.bind(this),this.onIsTyping=this.onIsTyping.bind(this),this.onStarted=this.onStarted.bind(this),this.onStopped=this.onStopped.bind(this)}return Pe(e,[{key:\"sendThrottledRequest\",value:function(e){var t=this,n=Date.now(),r=this.lastSentRequests[e];return r&&n-r<1e3?Promise.resolve():(this.lastSentRequests[e]=n,this.instance.request({method:\"POST\",path:\"/rooms/\"+encodeURIComponent(e)+\"/typing_indicators\"}).catch(function(n){throw delete t.typingRequestSent[e],t.logger.warn(\"Error sending typing indicator in room \"+e,n),n}))}},{key:\"onIsTyping\",value:function(e,t){var n=this;this.timers[e.id]||(this.timers[e.id]={}),this.timers[e.id][t.id]?clearTimeout(this.timers[e.id][t.id]):this.onStarted(e,t),this.timers[e.id][t.id]=setTimeout(function(){n.onStopped(e,t),delete n.timers[e.id][t.id]},1500)}},{key:\"onStarted\",value:function(e,t){this.hooks.global.onUserStartedTyping&&this.hooks.global.onUserStartedTyping(e,t),this.hooks.rooms[e.id]&&this.hooks.rooms[e.id].onUserStartedTyping&&this.hooks.rooms[e.id].onUserStartedTyping(t)}},{key:\"onStopped\",value:function(e,t){this.hooks.global.onUserStoppedTyping&&this.hooks.global.onUserStoppedTyping(e,t),this.hooks.rooms[e.id]&&this.hooks.rooms[e.id].onUserStoppedTyping&&this.hooks.rooms[e.id].onUserStoppedTyping(t)}}]),e}();function st(e){var t=e.basicCursors,n=e.cursorStore,r=e.onNewCursorHook;return Promise.all(t.map(function(e){var t=n.getSync(e.userId,e.roomId);if(!t||t.position!==e.position)return n.set(e).then(function(e){r&&r(e)})}))}var at=function(){function e(t){Oe(this,e),this.userId=t.userId,this.hooks=t.hooks,this.instance=t.instance,this.roomStore=t.roomStore,this.cursorStore=t.cursorStore,this.roomSubscriptions=t.roomSubscriptions,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.currentUser=t.currentUser,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onInitialState=this.onInitialState.bind(this),this.onAddedToRoom=this.onAddedToRoom.bind(this),this.onRemovedFromRoom=this.onRemovedFromRoom.bind(this),this.onRoomUpdated=this.onRoomUpdated.bind(this),this.onRoomDeleted=this.onRoomDeleted.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"user subscription timed out\"))},e.connectionTimeout),e.onSubscriptionEstablished=function(n){clearTimeout(e.timeout),t(n)},e.sub=e.instance.subscribeNonResuming({path:\"/users\",listeners:{onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling user subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"initial_state\":this.onInitialState(t.data);break;case\"added_to_room\":this.onAddedToRoom(t.data);break;case\"removed_from_room\":this.onRemovedFromRoom(t.data);break;case\"room_updated\":this.onRoomUpdated(t.data);break;case\"room_deleted\":this.onRoomDeleted(t.data);break;case\"new_cursor\":this.onNewCursor(t.data)}}},{key:\"onInitialState\",value:function(e){var t=e.current_user,n=e.rooms,r=e.cursors,o=Fe(t),i=n.map(function(e){return Ve(e)}),s=r.map(function(e){return Je(e)});this.established?function(e){var t=e.basicUser,n=e.basicRooms,r=e.basicCursors,o=e.currentUser,i=e.roomStore,s=e.cursorStore,a=e.hooks;o.setPropertiesFromBasicUser(t);var u=!0,c=!1,h=void 0;try{for(var l,d=n[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var f=l.value,p=i.getSync(f.id);if(!p){var g=i.setSync(f);a.global.onAddedToRoom&&a.global.onAddedToRoom(g)}p&&!p.eq(f)&&(i.updateSync(f.id,f),a.global.onRoomUpdated&&a.global.onRoomUpdated(p))}}catch(e){c=!0,h=e}finally{try{!u&&d.return&&d.return()}finally{if(c)throw h}}var v=function(e){if(!n.some(function(t){return t.id===e})){var t=i.popSync(e);a.global.onRemovedFromRoom&&a.global.onRemovedFromRoom(t)}};for(var m in i.snapshot())v(m);st({basicCursors:r,cursorStore:s,onNewCursorHook:a.global.onNewReadCursor})}({basicUser:o,basicRooms:i,basicCursors:s,currentUser:this.currentUser,roomStore:this.roomStore,cursorStore:this.cursorStore,hooks:this.hooks}):(this.established=!0,this.onSubscriptionEstablished({basicUser:o,basicRooms:i,basicCursors:s}))}},{key:\"onAddedToRoom\",value:function(e){var t=this,n=e.room;this.roomStore.set(Ve(n)).then(function(e){t.hooks.global.onAddedToRoom&&t.hooks.global.onAddedToRoom(e)})}},{key:\"onRemovedFromRoom\",value:function(e){var t=this,n=e.room_id;this.roomStore.pop(n).then(function(e){e&&t.hooks.global.onRemovedFromRoom&&t.hooks.global.onRemovedFromRoom(e)})}},{key:\"onRoomUpdated\",value:function(e){var t=this,n=e.room,r=Ve(n);this.roomStore.update(r.id,r).then(function(e){t.hooks.global.onRoomUpdated&&t.hooks.global.onRoomUpdated(e)})}},{key:\"onRoomDeleted\",value:function(e){var t=this,n=e.room_id;this.roomStore.pop(n).then(function(e){e&&t.hooks.global.onRoomDeleted&&t.hooks.global.onRoomDeleted(e)})}},{key:\"onNewCursor\",value:function(e){var t=this;return this.cursorStore.set(Je(e)).then(function(e){t.hooks.global.onNewReadCursor&&0===e.type&&t.hooks.global.onNewReadCursor(e)})}}]),e}(),ut=function(){function e(t){Oe(this,e),this.userId=t.userId,this.instance=t.instance,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"presence subscription timed out\"))},e.connectionTimeout),e.sub=e.instance.subscribeNonResuming({path:\"/users/\"+encodeURIComponent(e.userId)+\"/register\",listeners:{onOpen:function(){clearTimeout(e.timeout),t()},onError:function(t){clearTimeout(e.timeout),n(t)}}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling presence subscription\",e)}}}]),e}(),ct=function(){function e(t){Oe(this,e),this.userId=t.userId,this.hooks=t.hooks,this.instance=t.instance,this.userStore=t.userStore,this.roomStore=t.roomStore,this.presenceStore=t.presenceStore,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onPresenceState=this.onPresenceState.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"user presence subscription timed out\"))},e.connectionTimeout),e.onSubscriptionEstablished=function(){clearTimeout(e.timeout),t()},e.sub=e.instance.subscribeNonResuming({path:\"/users/\"+encodeURIComponent(e.userId),listeners:{onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling user presence subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"presence_state\":this.onPresenceState(t.data)}}},{key:\"onPresenceState\",value:function(e){var t=this;this.onSubscriptionEstablished();var n=this.presenceStore[this.userId]||\"unknown\",r=function(e){return{state:[\"online\",\"offline\"].includes(e.state)?e.state:\"unknown\"}}(e).state;r!==n&&(this.presenceStore[this.userId]=r,this.userStore.get(this.userId).then(function(e){t.hooks.global.onPresenceChanged&&t.hooks.global.onPresenceChanged({current:r,previous:n},e),$(fe(function(o){var i=xe(o,2),s=i[0],a=i[1];return t.roomStore.get(s).then(function(t){de(e.id,t.userIds)&&a.onPresenceChanged({current:r,previous:n},e)})}),ce(function(e){return void 0!==e[1].onPresenceChanged}),Re)(t.hooks.rooms)}))}}]),e}(),ht=function(){function e(t){Oe(this,e),this.onNewCursorHook=t.onNewCursorHook,this.roomId=t.roomId,this.cursorStore=t.cursorStore,this.instance=t.instance,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onInitialState=this.onInitialState.bind(this),this.onNewCursor=this.onNewCursor.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"cursor subscription timed out\"))},e.connectionTimeout),e.onSubscriptionEstablished=function(n){clearTimeout(e.timeout),t(n)},e.sub=e.instance.subscribeNonResuming({path:\"/cursors/0/rooms/\"+encodeURIComponent(e.roomId),listeners:{onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling cursor subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"initial_state\":this.onInitialState(t.data);break;case\"new_cursor\":this.onNewCursor(t.data)}}},{key:\"onInitialState\",value:function(e){var t=this,n=e.cursors.map(function(e){return Je(e)});this.established?st({basicCursors:n,cursorStore:this.cursorStore,onNewCursorHook:this.onNewCursorHook}):(this.established=!0,Promise.all(n.map(function(e){return t.cursorStore.set(e)})).then(this.onSubscriptionEstablished))}},{key:\"onNewCursor\",value:function(e){var t=this;return this.cursorStore.set(Je(e)).then(function(e){return t.onNewCursorHook(e)})}}]),e}(),lt=function(){function e(t,n,r){Oe(this,e),this.type=t.type,this.name=t.name,this.size=t.size,void 0!==t.customData&&(this.customData=t.customData),this._id=t._id,this._downloadURL=t._downloadURL,this._expiration=t._expiration,this._roomId=n,this._instance=r,this.url=this.url.bind(this),this.urlExpiry=this.urlExpiry.bind(this),this._fetchNewDownloadURL=this._fetchNewDownloadURL.bind(this)}return Pe(e,[{key:\"url\",value:function(){return this.urlExpiry().getTime()-Date.now()<18e5?this._fetchNewDownloadURL():Promise.resolve(this._downloadURL)}},{key:\"urlExpiry\",value:function(){return this._expiration}},{key:\"_fetchNewDownloadURL\",value:function(){var e=this;return this._instance.request({method:\"GET\",path:\"rooms/\"+encodeURIComponent(this._roomId)+\"/attachments/\"+this._id}).then(function(t){var n=JSON.parse(t),r=n.download_url,o=n.expiration;return e._downloadURL=r,e._expiration=new Date(o),e._downloadURL})}}]),e}(),dt=function(){function e(t,n,r,o){var i=this;Oe(this,e),this.id=t.id,this.senderId=t.senderId,this.roomId=t.roomId,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.deletedAt=t.deletedAt,t.parts?this.parts=t.parts.map(function(e){var t=e.partType,n=e.payload;return\"attachment\"===t?{partType:t,payload:new lt(n,i.roomId,o)}:{partType:t,payload:n}}):(this.text=t.text,t.attachment&&(this.attachment=t.attachment)),this.userStore=n,this.roomStore=r}return Pe(e,[{key:\"sender\",get:function(){return this.userStore.getSync(this.senderId)}},{key:\"room\",get:function(){return this.roomStore.getSync(this.roomId)}}]),e}(),ft=function(){function e(t){Oe(this,e),this.roomId=t.roomId,this.messageLimit=t.messageLimit,this.userId=t.userId,this.instance=t.instance,this.userStore=t.userStore,this.roomStore=t.roomStore,this.typingIndicators=t.typingIndicators,this.messageBuffer=[],this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.onMessageHook=t.onMessageHook,this.onMessageDeletedHook=t.onMessageDeletedHook,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onMessage=this.onMessage.bind(this),this.onMessageDeleted=this.onMessageDeleted.bind(this),this.flushBuffer=this.flushBuffer.bind(this),this.onIsTyping=this.onIsTyping.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"message subscription timed out\"))},e.connectionTimeout),e.sub=e.instance.subscribeResuming({path:\"/rooms/\"+encodeURIComponent(e.roomId)+\"?\"+Me({message_limit:e.messageLimit}),listeners:{onOpen:function(){clearTimeout(e.timeout),t()},onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling message subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"new_message\":this.onMessage(t.data);break;case\"message_deleted\":this.onMessageDeleted(t.data);break;case\"is_typing\":this.onIsTyping(t.data)}}},{key:\"onMessage\",value:function(e){var t=this,n={message:new dt(Ge(e),this.userStore,this.roomStore,this.instance),ready:!1};this.messageBuffer.push(n),this.userStore.fetchMissingUser(n.message.senderId).catch(function(e){t.logger.error(\"error fetching missing user information:\",e)}).then(function(){n.ready=!0,t.flushBuffer()})}},{key:\"onMessageDeleted\",value:function(e){this.onMessageDeletedHook(e.message_id)}},{key:\"flushBuffer\",value:function(){for(;this.messageBuffer.length>0&&this.messageBuffer[0].ready;)this.onMessageHook(this.messageBuffer.shift().message)}},{key:\"onIsTyping\",value:function(e){var t=this,n=e.user_id;n!==this.userId&&Promise.all([this.roomStore.get(this.roomId),this.userStore.get(n)]).then(function(e){var n=xe(e,2),r=n[0],o=n[1];return t.typingIndicators.onIsTyping(r,o)})}}]),e}(),pt=function(){function e(t){Oe(this,e),this.roomId=t.roomId,this.instance=t.instance,this.userStore=t.userStore,this.roomStore=t.roomStore,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.onUserJoinedRoomHook=t.onUserJoinedRoomHook,this.onUserLeftRoomHook=t.onUserLeftRoomHook,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onInitialState=this.onInitialState.bind(this),this.onUserJoined=this.onUserJoined.bind(this),this.onUserLeft=this.onUserLeft.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"membership subscription timed out\"))},e.connectionTimeout),e.onSubscriptionEstablished=function(n){clearTimeout(e.timeout),t(n)},e.sub=e.instance.subscribeNonResuming({path:\"/rooms/\"+encodeURIComponent(e.roomId)+\"/memberships\",listeners:{onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling membership subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"initial_state\":this.onInitialState(t.data);break;case\"user_joined\":this.onUserJoined(t.data);break;case\"user_left\":this.onUserLeft(t.data)}}},{key:\"onInitialState\",value:function(e){var t=this,n=e.user_ids;this.established?function(e){var t=e.userIds,n=e.roomId,r=e.roomStore,o=e.userStore,i=e.onUserJoinedRoomHook,s=e.onUserLeftRoomHook;o.fetchMissingUsers(t).then(function(){var e=r.getSync(n);return t.filter(function(t){return!e.userIds.includes(t)}).forEach(function(t){return o.get(t).then(function(t){return i(e,t)})}),e.userIds.filter(function(e){return!t.includes(e)}).forEach(function(t){return o.get(t).then(function(t){return s(e,t)})}),r.update(n,{userIds:t})})}({userIds:n,roomId:this.roomId,roomStore:this.roomStore,userStore:this.userStore,onUserJoinedRoomHook:this.onUserJoinedRoomHook,onUserLeftRoomHook:this.onUserLeftRoomHook}):(this.established=!0,this.roomStore.update(this.roomId,{userIds:n}).then(function(){t.onSubscriptionEstablished()}))}},{key:\"onUserJoined\",value:function(e){var t=this,n=e.user_id;this.roomStore.addUserToRoom(this.roomId,n).then(function(e){return t.userStore.get(n).then(function(n){return t.onUserJoinedRoomHook(e,n)})})}},{key:\"onUserLeft\",value:function(e){var t=this,n=e.user_id;this.roomStore.removeUserFromRoom(this.roomId,n).then(function(e){return t.userStore.get(n).then(function(n){return t.onUserLeftRoomHook(e,n)})})}}]),e}(),gt=function(){function e(t){Oe(this,e),this.buffer=[],this.messageSub=new ft({roomId:t.roomId,messageLimit:t.messageLimit,userId:t.userId,instance:t.serverInstance,userStore:t.userStore,roomStore:t.roomStore,typingIndicators:t.typingIndicators,logger:t.logger,connectionTimeout:t.connectionTimeout,onMessageHook:this.bufferWhileConnecting(function(e){t.hooks.rooms[t.roomId]&&t.hooks.rooms[t.roomId].onMessage&&t.hooks.rooms[t.roomId].onMessage(e)}),onMessageDeletedHook:this.bufferWhileConnecting(function(e){t.hooks.rooms[t.roomId]&&t.hooks.rooms[t.roomId].onMessageDeleted&&t.hooks.rooms[t.roomId].onMessageDeleted(e)})}),this.cursorSub=new ht({roomId:t.roomId,cursorStore:t.cursorStore,instance:t.cursorsInstance,logger:t.logger,connectionTimeout:t.connectionTimeout,onNewCursorHook:this.bufferWhileConnecting(function(e){t.hooks.rooms[t.roomId]&&t.hooks.rooms[t.roomId].onNewReadCursor&&0===e.type&&e.userId!==t.userId&&t.hooks.rooms[t.roomId].onNewReadCursor(e)})}),this.membershipSub=new pt({roomId:t.roomId,instance:t.serverInstance,userStore:t.userStore,roomStore:t.roomStore,logger:t.logger,connectionTimeout:t.connectionTimeout,onUserJoinedRoomHook:this.bufferWhileConnecting(function(e,n){t.hooks.global.onUserJoinedRoom&&t.hooks.global.onUserJoinedRoom(e,n),t.hooks.rooms[e.id]&&t.hooks.rooms[e.id].onUserJoined&&t.hooks.rooms[e.id].onUserJoined(n)}),onUserLeftRoomHook:this.bufferWhileConnecting(function(e,n){t.hooks.global.onUserLeftRoom&&t.hooks.global.onUserLeftRoom(e,n),t.hooks.rooms[e.id]&&t.hooks.rooms[e.id].onUserLeft&&t.hooks.rooms[e.id].onUserLeft(n)})})}return Pe(e,[{key:\"connect\",value:function(){var e=this;return this.cancelled?Promise.reject(new Error(\"attempt to connect a cancelled room subscription\")):Promise.all([this.messageSub.connect(),this.cursorSub.connect(),this.membershipSub.connect()]).then(function(){return e.flushBuffer()})}},{key:\"cancel\",value:function(){this.cancelled=!0,this.messageSub.cancel(),this.cursorSub.cancel(),this.membershipSub.cancel()}},{key:\"bufferWhileConnecting\",value:function(e){var t=this;return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.connected?e.apply(void 0,r):t.buffer.push(e.bind.apply(e,[t].concat(r)))}}},{key:\"flushBuffer\",value:function(){this.connected=!0,this.buffer.forEach(function(e){return e()}),delete this.buffer}}]),e}(),vt=function(){function e(t){Oe(this,e),this.onNotificationHook=t.onNotificationHook,this.userId=t.userId,this.instance=t.instance,this.logger=t.logger,this.connectionTimeout=t.connectionTimeout,this.connect=this.connect.bind(this),this.cancel=this.cancel.bind(this),this.onEvent=this.onEvent.bind(this),this.onNotification=this.onNotification.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){e.timeout=setTimeout(function(){n(new Error(\"notification subscription timed out\"))},e.connectionTimeout),e.sub=e.instance.subscribeNonResuming({path:\"/users/\"+encodeURIComponent(e.userId),listeners:{onOpen:function(){clearTimeout(e.timeout),t()},onError:function(t){clearTimeout(e.timeout),n(t)},onEvent:e.onEvent}})})}},{key:\"cancel\",value:function(){clearTimeout(this.timeout);try{this.sub&&this.sub.unsubscribe()}catch(e){this.logger.debug(\"error when cancelling notification subscription\",e)}}},{key:\"onEvent\",value:function(e){var t=e.body;switch(t.event_name){case\"push_notification\":this.onNotification(t.data)}}},{key:\"onNotification\",value:function(e){this.onNotificationHook(e)}}]),e}();var mt=function(){function e(t){var n=this,r=t.serverInstanceV2,o=t.serverInstanceV6,i=t.connectionTimeout,s=t.cursorsInstance,a=t.filesInstance,u=t.hooks,c=t.id,h=t.presenceInstance,l=t.beamsTokenProviderInstance,d=t.pushNotificationsInstance,f=t.beamsInstanceInitFn;Oe(this,e),this.hooks={global:u,rooms:{}},this.id=c,this.encodedId=encodeURIComponent(this.id),this.serverInstanceV2=r,this.serverInstanceV6=o,this.filesInstance=a,this.cursorsInstance=s,this.connectionTimeout=i,this.presenceInstance=h,this.beamsTokenProviderInstance=l,this.pushNotificationsInstance=d,this.beamsInstanceInitFn=f,this.logger=o.logger,this.presenceStore={},this.userStore=new Qe({instance:this.serverInstanceV6,presenceStore:this.presenceStore,logger:this.logger}),this.roomStore=new tt({instance:this.serverInstanceV6,userStore:this.userStore,isSubscribedTo:function(e){return n.isSubscribedTo(e)},logger:this.logger}),this.cursorStore=new rt({instance:this.cursorsInstance,userStore:this.userStore,roomStore:this.roomStore,logger:this.logger}),this.typingIndicators=new it({hooks:this.hooks,instance:this.serverInstanceV6,logger:this.logger}),this.userStore.onSetHooks.push(function(e){return n.subscribeToUserPresence(e)}),this.roomSubscriptions={},this.readCursorBuffer={},this.userPresenceSubscriptions={},this.setReadCursor=this.setReadCursor.bind(this),this.readCursor=this.readCursor.bind(this),this.isTypingIn=this.isTypingIn.bind(this),this.createRoom=this.createRoom.bind(this),this.getJoinableRooms=this.getJoinableRooms.bind(this),this.joinRoom=this.joinRoom.bind(this),this.leaveRoom=this.leaveRoom.bind(this),this.addUserToRoom=this.addUserToRoom.bind(this),this.removeUserFromRoom=this.removeUserFromRoom.bind(this),this.sendMessage=this.sendMessage.bind(this),this.sendSimpleMessage=this.sendSimpleMessage.bind(this),this.sendMultipartMessage=this.sendMultipartMessage.bind(this),this.fetchMessages=this.fetchMessages.bind(this),this.fetchMultipartMessages=this.fetchMultipartMessages.bind(this),this.subscribeToRoom=this.subscribeToRoom.bind(this),this.subscribeToRoomMultipart=this.subscribeToRoomMultipart.bind(this),this.updateRoom=this.updateRoom.bind(this),this.deleteRoom=this.deleteRoom.bind(this),this.setReadCursorRequest=this.setReadCursorRequest.bind(this),this.uploadDataAttachment=this.uploadDataAttachment.bind(this),this.isMemberOf=this.isMemberOf.bind(this),this.isSubscribedTo=this.isSubscribedTo.bind(this),this.decorateMessage=this.decorateMessage.bind(this),this.setPropertiesFromBasicUser=this.setPropertiesFromBasicUser.bind(this),this.establishUserSubscription=this.establishUserSubscription.bind(this),this.establishPresenceSubscription=this.establishPresenceSubscription.bind(this),this.subscribeToUserPresence=this.subscribeToUserPresence.bind(this),this.disconnect=this.disconnect.bind(this),this._uploadAttachment=this._uploadAttachment.bind(this)}return Pe(e,[{key:\"setReadCursor\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.roomId,r=t.position;return Ae(\"roomId\",\"string\",n),Ae(\"position\",\"number\",r),new Promise(function(t,o){void 0!==e.readCursorBuffer[n]?(e.readCursorBuffer[n].position=b(e.readCursorBuffer[n].position,r),e.readCursorBuffer[n].callbacks.push({resolve:t,reject:o})):(e.readCursorBuffer[n]={position:r,callbacks:[{resolve:t,reject:o}]},setTimeout(function(){e.setReadCursorRequest(Ne({roomId:n},e.readCursorBuffer[n])),delete e.readCursorBuffer[n]},500))})}},{key:\"readCursor\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomId,n=e.userId,r=void 0===n?this.id:n;if(Ae(\"roomId\",\"string\",t),Ae(\"userId\",\"string\",r),r!==this.id&&!this.isSubscribedTo(t)){var o=new Error(\"Must be subscribed to room \"+t+\" to access member's read cursors\");throw this.logger.error(o),o}return this.cursorStore.getSync(r,t)}},{key:\"isTypingIn\",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roomId;return Ae(\"roomId\",\"string\",e),this.typingIndicators.sendThrottledRequest(e)}},{key:\"createRoom\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.name,o=t.pushNotificationTitleOverride,i=t.addUserIds,s=t.customData,a=Ue(t,[\"id\",\"name\",\"pushNotificationTitleOverride\",\"addUserIds\",\"customData\"]);return n&&Ae(\"id\",\"string\",n),r&&Ae(\"name\",\"string\",r),o&&Ae(\"pushNotificationTitleOverride\",\"string\",o),i&&Le(\"addUserIds\",\"string\",i),s&&Ae(\"customData\",\"object\",s),this.serverInstanceV6.request({method:\"POST\",path:\"/rooms\",json:{id:n,created_by_id:this.id,name:r,push_notification_title_override:o,private:!!a.private,user_ids:i,custom_data:s}}).then(function(t){return e.roomStore.set(Ve(JSON.parse(t)))}).catch(function(t){throw e.logger.warn(\"error creating room:\",t),t})}},{key:\"getJoinableRooms\",value:function(){var e=this;return this.serverInstanceV6.request({method:\"GET\",path:\"/users/\"+this.encodedId+\"/rooms?joinable=true\"}).then(K(JSON.parse,L(Ve))).catch(function(t){throw e.logger.warn(\"error getting joinable rooms:\",t),t})}},{key:\"joinRoom\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roomId;return Ae(\"roomId\",\"string\",t),this.isMemberOf(t)?this.roomStore.get(t):this.serverInstanceV6.request({method:\"POST\",path:\"/users/\"+this.encodedId+\"/rooms/\"+encodeURIComponent(t)+\"/join\"}).then(function(t){return e.roomStore.set(Ve(JSON.parse(t)))}).catch(function(n){throw e.logger.warn(\"error joining room \"+t+\":\",n),n})}},{key:\"leaveRoom\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roomId;return Ae(\"roomId\",\"string\",t),this.roomStore.get(t).then(function(n){return e.serverInstanceV6.request({method:\"POST\",path:\"/users/\"+e.encodedId+\"/rooms/\"+encodeURIComponent(t)+\"/leave\"}).then(function(){return n})}).catch(function(n){throw e.logger.warn(\"error leaving room \"+t+\":\",n),n})}},{key:\"addUserToRoom\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userId,r=t.roomId;return Ae(\"userId\",\"string\",n),Ae(\"roomId\",\"string\",r),this.serverInstanceV6.request({method:\"PUT\",path:\"/rooms/\"+encodeURIComponent(r)+\"/users/add\",json:{user_ids:[n]}}).then(function(){return e.roomStore.addUserToRoom(r,n)}).catch(function(t){throw e.logger.warn(\"error adding user \"+n+\" to room \"+r+\":\",t),t})}},{key:\"removeUserFromRoom\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userId,r=t.roomId;return Ae(\"userId\",\"string\",n),Ae(\"roomId\",\"string\",r),this.serverInstanceV6.request({method:\"PUT\",path:\"/rooms/\"+encodeURIComponent(r)+\"/users/remove\",json:{user_ids:[n]}}).then(function(){return e.roomStore.removeUserFromRoom(r,n)}).catch(function(t){throw e.logger.warn(\"error removing user \"+n+\" from room \"+r+\":\",t),t})}},{key:\"sendMessage\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.text,r=t.roomId,o=t.attachment;return Ae(\"text\",\"string\",n),Ae(\"roomId\",\"string\",r),new Promise(function(t,n){void 0!==o&&bt(o)?t(e.uploadDataAttachment(r,o)):void 0!==o&&yt(o)?t({resource_link:o.link,type:o.type}):void 0!==o?n(new TypeError(\"attachment was malformed\")):t()}).then(function(t){return e.serverInstanceV2.request({method:\"POST\",path:\"/rooms/\"+encodeURIComponent(r)+\"/messages\",json:{text:n,attachment:t}})}).then(K(JSON.parse,B(\"message_id\"))).catch(function(t){throw e.logger.warn(\"error sending message to room \"+r+\":\",t),t})}},{key:\"sendSimpleMessage\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomId,n=e.text;return this.sendMultipartMessage({roomId:t,parts:[{type:\"text/plain\",content:n}]})}},{key:\"sendMultipartMessage\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.roomId,r=t.parts;return Ae(\"roomId\",\"string\",n),Le(\"parts\",\"object\",r),0===r.length?Promise.reject(new TypeError(\"message must contain at least one part\")):Promise.all(r.map(function(t){return t.type=t.type||t.file&&t.file.type,Ae(\"part.type\",\"string\",t.type),t.content&&Ae(\"part.content\",\"string\",t.content),t.url&&Ae(\"part.url\",\"string\",t.url),t.name&&Ae(\"part.name\",\"string\",t.name),t.file&&Ae(\"part.file.size\",\"number\",t.file.size),t.file?e._uploadAttachment({roomId:n,part:t}):t})).then(function(t){return e.serverInstanceV6.request({method:\"POST\",path:\"/rooms/\"+encodeURIComponent(n)+\"/messages\",json:{parts:t.map(function(e){return{type:e.type,content:e.content,url:e.url,attachment:e.attachment}})}})}).then(function(e){return JSON.parse(e).message_id}).catch(function(t){throw e.logger.warn(\"error sending message to room \"+n+\":\",t),t})}},{key:\"fetchMessages\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.roomId,r=t.initialId,o=t.limit,i=t.direction,s=t.serverInstance;return Ae(\"roomId\",\"string\",n),r&&Ae(\"initialId\",\"number\",r),o&&Ae(\"limit\",\"number\",o),i&&function(e,t,n){if(!de(n,t))throw new TypeError(\"expected \"+e+\" to be one of \"+t+\" but was \"+n)}(\"direction\",[\"older\",\"newer\"],i),(s||this.serverInstanceV2).request({method:\"GET\",path:\"/rooms/\"+encodeURIComponent(n)+\"/messages?\"+Me({initial_id:r,limit:o,direction:i})}).then(function(t){var n=JSON.parse(t).map(function(t){return e.decorateMessage(Ge(t))});return e.userStore.fetchMissingUsers(Se(L(B(\"senderId\"),n))).then(function(){return Ie(function(e,t){return e.id-t.id},n)})}).catch(function(t){throw e.logger.warn(\"error fetching messages from room \"+n+\":\",t),t})}},{key:\"fetchMultipartMessages\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchMessages(Ne({},e,{serverInstance:this.serverInstanceV6}))}},{key:\"subscribeToRoom\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.roomId,r=t.hooks,o=void 0===r?{}:r,i=t.messageLimit,s=t.serverInstance;Ae(\"roomId\",\"string\",n),qe(\"hooks\",\"function\",o),!s&&o.onMessageDeleted&&this.logger.warn(\"`subscribeToRoom` does not support the `onMessageDeleted` hook. Please use `subscribeToRoomMultipart` instead.\"),i&&Ae(\"messageLimit\",\"number\",i),this.roomSubscriptions[n]&&this.roomSubscriptions[n].cancel(),this.hooks.rooms[n]=o;var a=new gt({serverInstance:s||this.serverInstanceV2,connectionTimeout:this.connectionTimeout,cursorStore:this.cursorStore,cursorsInstance:this.cursorsInstance,hooks:this.hooks,logger:this.logger,messageLimit:i,roomId:n,roomStore:this.roomStore,typingIndicators:this.typingIndicators,userId:this.id,userStore:this.userStore});return this.roomSubscriptions[n]=a,this.joinRoom({roomId:n}).then(function(e){return a.connect().then(function(){return e})}).catch(function(t){throw e.logger.warn(\"error subscribing to room \"+n+\":\",t),t})}},{key:\"subscribeToRoomMultipart\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.subscribeToRoom(Ne({},e,{serverInstance:this.serverInstanceV6}))}},{key:\"updateRoom\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.roomId,r=t.name,o=t.pushNotificationTitleOverride,i=t.customData,s=Ue(t,[\"roomId\",\"name\",\"pushNotificationTitleOverride\",\"customData\"]);return Ae(\"roomId\",\"string\",n),r&&Ae(\"name\",\"string\",r),o&&Ae(\"pushNotificationTitleOverride\",\"string\",o),s.private&&Ae(\"private\",\"boolean\",s.private),i&&Ae(\"customData\",\"object\",i),this.serverInstanceV6.request({method:\"PUT\",path:\"/rooms/\"+encodeURIComponent(n),json:{name:r,push_notification_title_override:o,private:s.private,custom_data:i}}).then(function(){}).catch(function(t){throw e.logger.warn(\"error updating room:\",t),t})}},{key:\"deleteRoom\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roomId;return Ae(\"roomId\",\"string\",t),this.serverInstanceV2.request({method:\"DELETE\",path:\"/rooms/\"+encodeURIComponent(t)}).then(function(){}).catch(function(t){throw e.logger.warn(\"error deleting room:\",t),t})}},{key:\"setReadCursorRequest\",value:function(e){var t=this,n=e.roomId,r=e.position,o=e.callbacks;return this.cursorsInstance.request({method:\"PUT\",path:\"/cursors/0/rooms/\"+encodeURIComponent(n)+\"/users/\"+this.encodedId,json:{position:r}}).then(function(){return L(function(e){return e.resolve()},o)}).catch(function(e){t.logger.warn(\"error setting cursor:\",e),L(function(t){return t.reject(e)},o)})}},{key:\"uploadDataAttachment\",value:function(e,t){var n=t.file,r=t.name,o=new FormData;return o.append(\"file\",n,r),this.filesInstance.request({method:\"POST\",path:\"/rooms/\"+encodeURIComponent(e)+\"/users/\"+this.encodedId+\"/files/\"+encodeURIComponent(r),body:o}).then(JSON.parse)}},{key:\"_uploadAttachment\",value:function(e){var t=e.roomId,n=e.part,r=n.type,o=n.name,i=n.customData,a=n.file;return this.serverInstanceV6.request({method:\"POST\",path:\"/rooms/\"+encodeURIComponent(t)+\"/attachments\",json:{content_type:r,content_length:a.size,name:o||a.name,custom_data:i}}).then(function(e){var t=JSON.parse(e),n=t.attachment_id,o=t.upload_url;return s({method:\"PUT\",url:o,body:a,headers:{\"content-type\":r}}).then(function(){return{type:r,attachment:{id:n}}})})}},{key:\"isMemberOf\",value:function(e){return de(e,L(B(\"id\"),this.rooms))}},{key:\"isSubscribedTo\",value:function(e){return ge(e,this.roomSubscriptions)}},{key:\"decorateMessage\",value:function(e){return new dt(e,this.userStore,this.roomStore,this.serverInstanceV6)}},{key:\"setPropertiesFromBasicUser\",value:function(e){this.avatarURL=e.avatarURL,this.createdAt=e.createdAt,this.customData=e.customData,this.name=e.name,this.updatedAt=e.updatedAt}},{key:\"establishUserSubscription\",value:function(){var e=this;return this.userSubscription=new at({hooks:this.hooks,userId:this.id,instance:this.serverInstanceV6,roomStore:this.roomStore,cursorStore:this.cursorStore,typingIndicators:this.typingIndicators,logger:this.logger,connectionTimeout:this.connectionTimeout,currentUser:this}),this.userSubscription.connect().then(function(t){var n=t.basicUser,r=t.basicRooms,o=t.basicCursors;return e.setPropertiesFromBasicUser(n),Promise.all([].concat(Ce(r.map(function(t){return e.roomStore.set(t)})),Ce(o.map(function(t){return e.cursorStore.set(t)}))))}).catch(function(t){throw e.logger.error(\"error establishing user subscription:\",t),t})}},{key:\"establishPresenceSubscription\",value:function(){var e=this;return this.presenceSubscription=new ut({userId:this.id,instance:this.presenceInstance,logger:this.logger,connectionTimeout:this.connectionTimeout}),Promise.all([this.userStore.fetchMissingUser(this.id),this.subscribeToUserPresence(this.id),this.presenceSubscription.connect().catch(function(t){throw e.logger.warn(\"error establishing presence subscription:\",t),t})])}},{key:\"subscribeToUserPresence\",value:function(e){if(this.userPresenceSubscriptions[e])return Promise.resolve();var t=new ct({hooks:this.hooks,userId:e,instance:this.presenceInstance,userStore:this.userStore,roomStore:this.roomStore,presenceStore:this.presenceStore,logger:this.logger,connectionTimeout:this.connectionTimeout});return this.userPresenceSubscriptions[e]=t,t.connect()}},{key:\"enablePushNotifications\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick,r=t.serviceWorkerRegistration,o=t.showNotificationsTabOpen,i=void 0===o||o,s=t.showNotificationsTabClosed,a=void 0===s||s,u=t._Notification,c=void 0===u?Notification:u,h=t._visibilityStateOverride;try{if(n&&Ae(\"onClick\",\"function\",n),Ae(\"showNotificationsTabOpen\",\"boolean\",i),Ae(\"showNotificationsTabClosed\",\"boolean\",a),!this._hasPermissionToSendNotifications())return Promise.reject(\"Failed to get permission to send notifications\");var l=[];return i&&l.push(this._enableTabOpenNotifications({onClick:n,Notification:c,visibilityStateOverride:h})),a?l.push(this._enableTabClosedNotifications(r)):l.push(this._disableTabClosedNotifications()),Promise.all(l).catch(function(t){return e.logger.warn(\"Chatkit error when enabling push notifications:\",t),Promise.reject(\"Chatkit error when enabling push notifications: \"+t)})}catch(e){return this.logger.warn(\"Chatkit error when enabling push notifications:\",e),Promise.reject(\"Chatkit error when enabling push notifications: \"+e)}}},{key:\"disablePushNotifications\",value:function(){var e=this;return this._disableTabClosedNotifications().then(function(){return e._disableTabOpenNotifications()})}},{key:\"_hasPermissionToSendNotifications\",value:function(){return Notification.requestPermission().then(function(e){return\"granted\"===e})}},{key:\"_enableTabOpenNotifications\",value:function(e){var t=e.onClick,n=e.Notification,r=e.visibilityStateOverride,o=new vt({onNotificationHook:function(e){return function(e){var t=e.notification,n=e.data,r=e.onClick,o=e.Notification;\"hidden\"===(e.visibilityStateOverride||document.visibilityState)&&(new o(t.title||\"\",{body:t.body||\"\",icon:t.icon,data:Object.assign(n,{pusher:{deep_link:t.deep_link}})}).onclick=function(e){e.preventDefault(),window.focus(),r&&r(e.target.data.chatkit),e.target.close()})}({notification:e.notification,data:e.data,onClick:t,Notification:n,visibilityStateOverride:r})},userId:this.id,instance:this.pushNotificationsInstance,logger:this.logger,connectionTimeout:this.connectionTimeout});return this.notificationSubscription=o,o.connect()}},{key:\"_disableTabOpenNotifications\",value:function(){this.notificationSubscription.cancel()}},{key:\"_enableTabClosedNotifications\",value:function(e){var t=this,n=function(e){return t.beamsTokenProviderInstance.request({method:\"GET\",path:\"/beams-tokens?user_id=\"+encodeURIComponent(e)}).then(JSON.parse).catch(function(e){return Promise.reject(\"Internal error: \"+e.statusCode+\" status code, info: \"+e.info.error_description)})};return this.beamsInstanceInitFn({serviceWorkerRegistration:e}).then(function(e){return e.start()}).then(function(e){return e.setUserId(t.id,{fetchToken:n})})}},{key:\"_disableTabClosedNotifications\",value:function(){return this.beamsInstanceInitFn().then(function(e){return e.stop()})}},{key:\"disconnect\",value:function(){this.userSubscription.cancel(),this.presenceSubscription.cancel(),this.notificationSubscription&&this.notificationSubscription.cancel(),pe(function(e){return e.cancel()},this.roomSubscriptions),pe(function(e){return e.cancel()},this.userPresenceSubscriptions)}},{key:\"rooms\",get:function(){return F(this.roomStore.snapshot())}},{key:\"users\",get:function(){return F(this.userStore.snapshot())}}]),e}(),bt=function(e){var t=e.file,n=e.name;return void 0!==t&&void 0!==n&&(Ae(\"attachment.file\",\"object\",t),Ae(\"attachment.name\",\"string\",n),!0)},yt=function(e){var t=e.link,n=e.type;return void 0!==t&&void 0!==n&&(Ae(\"attachment.link\",\"string\",t),Ae(\"attachment.type\",\"string\",n),!0)},St=\"1.14.1\";var wt=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}};var kt=function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)};var It=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")};var Et=function(e){return wt(e)||kt(e)||It()};var Rt=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},i=o.iterator||\"@@iterator\",s=o.asyncIterator||\"@@asyncIterator\",a=o.toStringTag||\"@@toStringTag\";function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new _(r||[]);return i._invoke=function(e,t,n){var r=h;return function(o,i){if(r===d)throw new Error(\"Generator is already running\");if(r===f){if(\"throw\"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===p)continue;return a}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=d;var u=c(e,t,n);if(\"normal\"===u.type){if(r=n.done?f:l,u.arg===p)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(r=f,n.method=\"throw\",n.arg=u.arg)}}}(e,n,s),i}function c(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=u;var h=\"suspendedStart\",l=\"suspendedYield\",d=\"executing\",f=\"completed\",p={};function g(){}function v(){}function m(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,S=y&&y(y(O([])));S&&S!==n&&r.call(S,i)&&(b=S);var w=m.prototype=g.prototype=Object.create(b);function k(e){[\"next\",\"throw\",\"return\"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function I(e){var t;this._invoke=function(n,o){function i(){return new Promise(function(t,i){!function t(n,o,i,s){var a=c(e[n],e,o);if(\"throw\"!==a.type){var u=a.arg,h=u.value;return h&&\"object\"==typeof h&&r.call(h,\"__await\")?Promise.resolve(h.__await).then(function(e){t(\"next\",e,i,s)},function(e){t(\"throw\",e,i,s)}):Promise.resolve(h).then(function(e){u.value=e,i(u)},function(e){return t(\"throw\",e,i,s)})}s(a.arg)}(n,o,t,i)})}return t=t?t.then(i,i):i()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,\"throw\"===n.method){if(e.iterator.return&&(n.method=\"return\",n.arg=t,E(e,n),\"throw\"===n.method))return p;n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return p}var o=c(r,e.iterator,n.arg);if(\"throw\"===o.type)return n.method=\"throw\",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,p):i:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,p)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=w.constructor=m,m.constructor=v,m[a]=v.displayName=\"GeneratorFunction\",e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===v||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a in e||(e[a]=\"GeneratorFunction\")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(I.prototype),I.prototype[s]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,o){var i=new I(u(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},k(w),w[a]=\"Generator\",w[i]=function(){return this},w.toString=function(){return\"[object Generator]\"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type=\"throw\",a.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if(\"root\"===s.tryLoc)return o(\"end\");if(s.tryLoc<=this.prev){var u=r.call(s,\"catchLoc\"),c=r.call(s,\"finallyLoc\");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,p):this.complete(s)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;T(n)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function(\"r\",\"regeneratorRuntime = r\")(t)}});var Tt=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")};function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e};function Pt(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}var Nt=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){Pt(i,r,o,s,a,\"next\",e)}function a(e){Pt(i,r,o,s,a,\"throw\",e)}s(void 0)})}};var Ut=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ct(e){var t=e.method,n=e.path,r=e.body,o=void 0===r?null:r,i=e.headers,s=void 0===i?{}:i,a={method:t,headers:s};return null!==o&&(a.body=JSON.stringify(o),a.headers=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(t){Ut(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({\"Content-Type\":\"application/json\"},s)),fetch(n,a).then(function(){var e=Nt(Rt.mark(function e(t){return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=3;break}return e.next=3,Mt(t);case 3:return e.prev=3,e.next=6,t.json();case 6:return e.abrupt(\"return\",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt(\"return\",null);case 12:case\"end\":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}())}function Mt(e){return At.apply(this,arguments)}function At(){return(At=Nt(Rt.mark(function e(t){var n,r,o,i,s,a;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:r=e.sent,o=r.error,i=void 0===o?\"Unknown error\":o,s=r.description,a=void 0===s?\"No description\":s,n=\"Unexpected status code \".concat(t.status,\": \").concat(i,\", \").concat(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n=\"Unexpected status code \".concat(t.status,\": Cannot parse error response\");case 14:throw new Error(n);case 15:case\"end\":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}var jt=function(){function e(t){Tt(this,e),this._instanceId=t,this._dbConn=null}return Ot(e,[{key:\"connect\",value:function(){var e=this;return new Promise(function(t,n){var r=indexedDB.open(e._dbName);r.onsuccess=function(n){var r=n.target.result;e._dbConn=r,e._readState().then(function(t){return null===t?e.clear():Promise.resolve()}).then(t)},r.onupgradeneeded=function(e){e.target.result.createObjectStore(\"beams\",{keyPath:\"instance_id\"})},r.onerror=function(e){var t=new Error(\"Database error: \".concat(e.target.error));n(t)}})}},{key:\"clear\",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:\"_readState\",value:function(){var e=this;if(!this.isConnected)throw new Error(\"Cannot read value: DeviceStateStore not connected to IndexedDB\");return new Promise(function(t,n){var r=e._dbConn.transaction(\"beams\").objectStore(\"beams\").get(e._instanceId);r.onsuccess=function(e){var n=e.target.result;n||t(null),t(n)},r.onerror=function(e){n(e.target.error)}})}},{key:\"_readProperty\",value:function(){var e=Nt(Rt.mark(function e(t){var n;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt(\"return\",null);case 5:return e.abrupt(\"return\",n[t]||null);case 6:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"_writeState\",value:function(e){var t=this;if(!this.isConnected)throw new Error(\"Cannot write value: DeviceStateStore not connected to IndexedDB\");return new Promise(function(n,r){var o=t._dbConn.transaction(\"beams\",\"readwrite\").objectStore(\"beams\").put(e);o.onsuccess=function(e){n()},o.onerror=function(e){r(e.target.error)}})}},{key:\"_writeProperty\",value:function(){var e=Nt(Rt.mark(function e(t,n){var r;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:return(r=e.sent)[t]=n,e.next=6,this._writeState(r);case 6:case\"end\":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:\"getToken\",value:function(){return this._readProperty(\"token\")}},{key:\"setToken\",value:function(e){return this._writeProperty(\"token\",e)}},{key:\"getDeviceId\",value:function(){return this._readProperty(\"device_id\")}},{key:\"setDeviceId\",value:function(e){return this._writeProperty(\"device_id\",e)}},{key:\"getUserId\",value:function(){return this._readProperty(\"user_id\")}},{key:\"setUserId\",value:function(e){return this._writeProperty(\"user_id\",e)}},{key:\"getLastSeenSdkVersion\",value:function(){return this._readProperty(\"last_seen_sdk_version\")}},{key:\"setLastSeenSdkVersion\",value:function(e){return this._writeProperty(\"last_seen_sdk_version\",e)}},{key:\"getLastSeenUserAgent\",value:function(){return this._readProperty(\"last_seen_user_agent\")}},{key:\"setLastSeenUserAgent\",value:function(e){return this._writeProperty(\"last_seen_user_agent\",e)}},{key:\"_dbName\",get:function(){return\"beams-\".concat(this._instanceId)}},{key:\"isConnected\",get:function(){return null!==this._dbConn}}]),e}(),Dt=\"/service-worker.js?pusherBeamsWebSDKVersion=\".concat(\"0.9.2\");function Lt(){return(Lt=Nt(Rt.mark(function e(t){var n,r,o,i,s,a,u,c,h,l;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error(\"Config object required\");case 2:if(n=t.instanceId,r=t.endpointOverride,o=void 0===r?null:r,i=t.serviceWorkerRegistration,s=void 0===i?null:i,void 0!==n){e.next=5;break}throw new Error(\"Instance ID is required\");case 5:if(\"string\"==typeof n){e.next=7;break}throw new Error(\"Instance ID must be a string\");case 7:if(0!==n.length){e.next=9;break}throw new Error(\"Instance ID cannot be empty\");case 9:if(window.indexedDB){e.next=11;break}throw new Error(\"Pusher Beams does not support this browser version (IndexedDB not supported)\");case 11:if(\"showNotification\"in ServiceWorkerRegistration.prototype){e.next=13;break}throw new Error(\"Pusher Beams does not support this browser version (ServiceWorkerRegistration not supported)\");case 13:if(\"PushManager\"in window){e.next=15;break}throw new Error(\"Pusher Beams does not support this browser version (PushManager not supported)\");case 15:return a=new jt(n),e.next=18,a.connect();case 18:return e.next=20,a.getDeviceId();case 20:return u=e.sent,e.next=23,a.getToken();case 23:return c=e.sent,e.next=26,a.getUserId();case 26:if(h=e.sent,l=new qt({instanceId:n,deviceId:u,token:c,userId:h,serviceWorkerRegistration:s,deviceStateStore:a,endpointOverride:o}),!(null!==u)){e.next=37;break}return e.prev=30,e.next=33,l._updateDeviceMetadata();case 33:e.next=37;break;case 35:e.prev=35,e.t0=e.catch(30);case 37:return e.abrupt(\"return\",l);case 38:case\"end\":return e.stop()}},e,null,[[30,35]])}))).apply(this,arguments)}var qt=function(){function e(t){var n=t.instanceId,r=t.deviceId,o=t.token,i=t.userId,s=t.serviceWorkerRegistration,a=t.deviceStateStore,u=t.endpointOverride,c=void 0===u?null:u;if(Tt(this,e),this.instanceId=n,this.deviceId=r,this.token=o,this.userId=i,this._deviceStateStore=a,this._endpoint=c,s){var h=s.scope;if(!window.location.href.startsWith(h))throw new Error(\"Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (\".concat(h,\")\"))}this._serviceWorkerRegistration=s}return Ot(e,[{key:\"start\",value:function(){var e=Nt(Rt.mark(function e(){var t,n,r,o;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=3;break}return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"),e.abrupt(\"return\",this);case 3:if(null===this.deviceId){e.next=5;break}return e.abrupt(\"return\",this);case 5:return e.next=7,this._getPublicKey();case 7:return t=e.sent,n=t.vapidPublicKey,e.next=11,this._getPushToken(n);case 11:return r=e.sent,e.next=14,this._registerDevice(r);case 14:return o=e.sent,e.next=17,this._deviceStateStore.setToken(r);case 17:return e.next=19,this._deviceStateStore.setDeviceId(o);case 19:return e.next=21,this._deviceStateStore.setLastSeenSdkVersion(\"0.9.2\");case 21:return e.next=23,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 23:return this.token=r,this.deviceId=o,e.abrupt(\"return\",this);case 26:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"setUserId\",value:function(){var e=Nt(Rt.mark(function e(t,n){var r,o,i,s,a;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=3;break}return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"),e.abrupt(\"return\");case 3:if(null!==this.deviceId){e.next=6;break}return r=new Error(\".start must be called before .setUserId\"),e.abrupt(\"return\",Promise.reject(r));case 6:if(\"string\"==typeof t){e.next=8;break}throw new Error(\"User ID must be a string (was \".concat(t,\")\"));case 8:if(\"\"!==t){e.next=10;break}throw new Error(\"User ID cannot be the empty string\");case 10:if(null===this.userId||this.userId===t){e.next=12;break}throw new Error(\"Changing the `userId` is not allowed.\");case 12:return o=\"\".concat(this._baseURL,\"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId),\"/devices/web/\").concat(this.deviceId,\"/user\"),e.next=15,n.fetchToken(t);case 15:return i=e.sent,s=i.token,a={method:\"PUT\",path:o,headers:{Authorization:\"Bearer \".concat(s)}},e.next=20,Ct(a);case 20:return this.userId=t,e.abrupt(\"return\",this._deviceStateStore.setUserId(t));case 22:case\"end\":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:\"stop\",value:function(){var e=Nt(Rt.mark(function e(){return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=3;break}return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"),e.abrupt(\"return\");case 3:if(null!==this.deviceId){e.next=5;break}return e.abrupt(\"return\");case 5:return e.next=7,this._deleteDevice();case 7:return e.next=9,this._deviceStateStore.clear();case 9:this.deviceId=null,this.token=null,this.userId=null;case 12:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"clearAllState\",value:function(){var e=Nt(Rt.mark(function e(){return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=3;break}return console.warn(\"Pusher Web Push Notifications only supports Google Chrome (whilst in Beta)\"),e.abrupt(\"return\");case 3:return e.next=5,this.stop();case 5:return e.next=7,this.start();case 7:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"_getPublicKey\",value:function(){var e=Nt(Rt.mark(function e(){var t,n;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=\"\".concat(this._baseURL,\"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId),\"/web-vapid-public-key\"),n={method:\"GET\",path:t},e.abrupt(\"return\",Ct(n));case 3:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"_getPushToken\",value:function(){var e=Nt(Rt.mark(function e(t){var n,r,o;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._serviceWorkerRegistration){e.next=5;break}n=this._serviceWorkerRegistration,e.next=15;break;case 5:return e.next=7,fetch(Dt);case 7:if(r=e.sent,200===r.status){e.next=11;break}throw new Error(\"Cannot start SDK, service worker missing: No file found at /service-worker.js\");case 11:return window.navigator.serviceWorker.register(Dt,{updateViaCache:\"none\"}),e.next=14,window.navigator.serviceWorker.ready;case 14:n=e.sent;case 15:return e.next=17,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(i=t,void 0,void 0,void 0,s=\"=\".repeat((4-i.length%4)%4),a=(i+s).replace(/-/g,\"+\").replace(/_/g,\"/\"),u=window.atob(a),Uint8Array.from(Et(u).map(function(e){return e.charCodeAt(0)})))});case 17:return o=e.sent,e.abrupt(\"return\",btoa(JSON.stringify(o)));case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt(\"return\",Promise.reject(e.t0));case 24:case\"end\":return e.stop()}var i,s,a,u},e,this,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()},{key:\"_registerDevice\",value:function(){var e=Nt(Rt.mark(function e(t){var n,r,o;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=\"\".concat(this._baseURL,\"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId),\"/devices/web\"),r={method:\"POST\",path:n,body:{token:t,metadata:{sdkVersion:\"0.9.2\"}}},e.next=5,Ct(r);case 5:return o=e.sent,e.abrupt(\"return\",o.id);case 7:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"_deleteDevice\",value:function(){var e=Nt(Rt.mark(function e(){var t,n;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=\"\".concat(this._baseURL,\"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId),\"/devices/web/\").concat(encodeURIComponent(this.deviceId)),n={method:\"DELETE\",path:t},e.next=4,Ct(n);case 4:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"_updateDeviceMetadata\",value:function(){var e=Nt(Rt.mark(function e(){var t,n,r,o,i;return Rt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.navigator.userAgent,e.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return n=e.sent,e.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(r=e.sent,t!==n||\"0.9.2\"!==r){e.next=9;break}return e.abrupt(\"return\");case 9:return o=\"\".concat(this._baseURL,\"/device_api/v1/instances/\").concat(encodeURIComponent(this.instanceId),\"/devices/web/\").concat(this.deviceId,\"/metadata\"),i={method:\"PUT\",path:o,body:{sdkVersion:\"0.9.2\"}},e.next=14,Ct(i);case 14:return e.next=16,this._deviceStateStore.setLastSeenSdkVersion(\"0.9.2\");case 16:return e.next=18,this._deviceStateStore.setLastSeenUserAgent(t);case 18:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"_baseURL\",get:function(){return null!==this._endpoint?this._endpoint:\"https://\".concat(this.instanceId,\".pushnotifications.pusher.com\")}}]),e}();function Bt(){var e=window.navigator,t=e.vendor,n=null!==window.chrome&&void 0!==window.chrome,r=e.userAgent.indexOf(\"OPR\")>-1,o=e.userAgent.indexOf(\"Edge\")>-1;return n&&\"Google Inc.\"===t&&!o&&!r||r}return{TokenProvider:He,ChatManager:function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.instanceLocator,s=t.tokenProvider,a=t.userId,u=Ue(t,[\"instanceLocator\",\"tokenProvider\",\"userId\"]);Oe(this,e),Ae(\"instanceLocator\",\"string\",n),Ae(\"tokenProvider\",\"object\",s),Ae(\"tokenProvider.fetchToken\",\"function\",s.fetchToken),Ae(\"userId\",\"string\",a);var c=Ee(\":\",n),h=xe(c,3),l=h[0],d=h[1],f=h[2];if(!l||!d||!f)throw new TypeError(\"expected instanceLocator to be of the format x:y:z, but was \"+n);var p=u.baseClient||new r({host:d+\".\"+o,logger:u.logger,sdkProduct:\"chatkit\",sdkLanguage:u.sdkLanguage,sdkVersion:St});\"function\"==typeof s.setUserId&&s.setUserId(a);var g={client:p,locator:n,logger:u.logger,tokenProvider:s};this.serverInstanceV2=new i(Ne({serviceName:\"chatkit\",serviceVersion:\"v2\"},g)),this.serverInstanceV6=new i(Ne({serviceName:\"chatkit\",serviceVersion:\"v6\"},g)),this.filesInstance=new i(Ne({serviceName:\"chatkit_files\",serviceVersion:\"v1\"},g)),this.cursorsInstance=new i(Ne({serviceName:\"chatkit_cursors\",serviceVersion:\"v2\"},g)),this.presenceInstance=new i(Ne({serviceName:\"chatkit_presence\",serviceVersion:\"v2\"},g)),this.beamsTokenProviderInstance=new i(Ne({serviceName:\"chatkit_beams_token_provider\",serviceVersion:\"v1\"},g)),this.pushNotificationsInstance=new i(Ne({serviceName:\"chatkit_push_notifications\",serviceVersion:\"v1\"},g)),this.beamsInstanceInitFn=u.beamsInstanceInitFn||function(e){return function(e){return Lt.apply(this,arguments)}(Ne({instanceId:f},e))},this.logger=this.serverInstanceV6.logger,this.userId=a,this.connectionTimeout=u.connectionTimeout||Ze,this.connect=this.connect.bind(this),this.disconnect=this.disconnect.bind(this)}return Pe(e,[{key:\"connect\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qe(\"hooks\",\"function\",t);var n=new mt({hooks:t,id:this.userId,serverInstanceV2:this.serverInstanceV2,serverInstanceV6:this.serverInstanceV6,filesInstance:this.filesInstance,cursorsInstance:this.cursorsInstance,presenceInstance:this.presenceInstance,beamsTokenProviderInstance:this.beamsTokenProviderInstance,pushNotificationsInstance:this.pushNotificationsInstance,beamsInstanceInitFn:this.beamsInstanceInitFn,connectionTimeout:this.connectionTimeout});return Promise.all([n.establishUserSubscription(),n.establishPresenceSubscription()]).then(function(){return e.currentUser=n,n})}},{key:\"disconnect\",value:function(){this.currentUser&&this.currentUser.disconnect()}},{key:\"disablePushNotifications\",value:function(){return this.currentUser?this.currentUser.disablePushNotifications().catch(function(e){return Promise.reject(\"Chatkit error when disabling push notifications: \"+e.message)}):Promise.reject(\"Cannot disable notifications until .connect is called\")}}]),e}()}});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}